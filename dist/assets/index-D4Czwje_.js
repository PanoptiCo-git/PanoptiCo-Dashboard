(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function Gr(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const fe={},ps=[],yt=()=>{},Ko=()=>!1,Wn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Kr=e=>e.startsWith("onUpdate:"),Ae=Object.assign,Qr=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},hc=Object.prototype.hasOwnProperty,ie=(e,t)=>hc.call(e,t),Y=Array.isArray,ms=e=>cn(e)==="[object Map]",Qo=e=>cn(e)==="[object Set]",xi=e=>cn(e)==="[object Date]",Q=e=>typeof e=="function",Ee=e=>typeof e=="string",gt=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",zo=e=>(ce(e)||Q(e))&&Q(e.then)&&Q(e.catch),Jo=Object.prototype.toString,cn=e=>Jo.call(e),pc=e=>cn(e).slice(8,-1),Xo=e=>cn(e)==="[object Object]",zr=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$s=Gr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$n=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},mc=/-\w/g,tt=$n(e=>e.replace(mc,t=>t.slice(1).toUpperCase())),yc=/\B([A-Z])/g,os=$n(e=>e.replace(yc,"-$1").toLowerCase()),Vn=$n(e=>e.charAt(0).toUpperCase()+e.slice(1)),ir=$n(e=>e?`on${Vn(e)}`:""),Ht=(e,t)=>!Object.is(e,t),_n=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Zo=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Jr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ai;const jn=()=>Ai||(Ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yn(e){if(Y(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Ee(n)?wc(n):Yn(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Ee(e)||ce(e))return e}const gc=/;(?![^(]*\))/g,bc=/:([^]+)/,_c=/\/\*[^]*?\*\//g;function wc(e){const t={};return e.replace(_c,"").split(gc).forEach(s=>{if(s){const n=s.split(bc);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function z(e){let t="";if(Ee(e))t=e;else if(Y(e))for(let s=0;s<e.length;s++){const n=z(e[s]);n&&(t+=n+" ")}else if(ce(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const vc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ec=Gr(vc);function ea(e){return!!e||e===""}function Cc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Xr(e[n],t[n]);return s}function Xr(e,t){if(e===t)return!0;let s=xi(e),n=xi(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=gt(e),n=gt(t),s||n)return e===t;if(s=Y(e),n=Y(t),s||n)return s&&n?Cc(e,t):!1;if(s=ce(e),n=ce(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!Xr(e[a],t[a]))return!1}}return String(e)===String(t)}const ta=e=>!!(e&&e.__v_isRef===!0),_=e=>Ee(e)?e:e==null?"":Y(e)||ce(e)&&(e.toString===Jo||!Q(e.toString))?ta(e)?_(e.value):JSON.stringify(e,sa,2):String(e),sa=(e,t)=>ta(t)?sa(e,t.value):ms(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[or(n,i)+" =>"]=r,s),{})}:Qo(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>or(s))}:gt(t)?or(t):ce(t)&&!Y(t)&&!Xo(t)?String(t):t,or=(e,t="")=>{var s;return gt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let $e;class Rc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=$e,!t&&$e&&(this.index=($e.scopes||($e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=$e;try{return $e=this,t()}finally{$e=s}}}on(){++this._on===1&&(this.prevScope=$e,$e=this)}off(){this._on>0&&--this._on===0&&($e=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Sc(){return $e}let he;const ar=new WeakSet;class na{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$e&&$e.active&&$e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ar.has(this)&&(ar.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ia(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Oi(this),oa(this);const t=he,s=rt;he=this,rt=!0;try{return this.fn()}finally{aa(this),he=t,rt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ti(t);this.deps=this.depsTail=void 0,Oi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ar.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Er(this)&&this.run()}get dirty(){return Er(this)}}let ra=0,Vs,js;function ia(e,t=!1){if(e.flags|=8,t){e.next=js,js=e;return}e.next=Vs,Vs=e}function Zr(){ra++}function ei(){if(--ra>0)return;if(js){let t=js;for(js=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Vs;){let t=Vs;for(Vs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function oa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function aa(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),ti(n),Dc(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Er(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(la(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function la(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Zs)||(e.globalVersion=Zs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Er(e))))return;e.flags|=2;const t=e.dep,s=he,n=rt;he=e,rt=!0;try{oa(e);const r=e.fn(e._value);(t.version===0||Ht(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{he=s,rt=n,aa(e),e.flags&=-3}}function ti(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ti(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Dc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let rt=!0;const ca=[];function Pt(){ca.push(rt),rt=!1}function It(){const e=ca.pop();rt=e===void 0?!0:e}function Oi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=he;he=void 0;try{t()}finally{he=s}}}let Zs=0;class Tc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class si{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!he||!rt||he===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==he)s=this.activeLink=new Tc(he,this),he.deps?(s.prevDep=he.depsTail,he.depsTail.nextDep=s,he.depsTail=s):he.deps=he.depsTail=s,ua(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=he.depsTail,s.nextDep=void 0,he.depsTail.nextDep=s,he.depsTail=s,he.deps===s&&(he.deps=n)}return s}trigger(t){this.version++,Zs++,this.notify(t)}notify(t){Zr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ei()}}}function ua(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)ua(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Cr=new WeakMap,es=Symbol(""),Rr=Symbol(""),en=Symbol("");function Oe(e,t,s){if(rt&&he){let n=Cr.get(e);n||Cr.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new si),r.map=n,r.key=s),r.track()}}function xt(e,t,s,n,r,i){const a=Cr.get(e);if(!a){Zs++;return}const o=l=>{l&&l.trigger()};if(Zr(),t==="clear")a.forEach(o);else{const l=Y(e),f=l&&zr(s);if(l&&s==="length"){const u=Number(n);a.forEach((d,m)=>{(m==="length"||m===en||!gt(m)&&m>=u)&&o(d)})}else switch((s!==void 0||a.has(void 0))&&o(a.get(s)),f&&o(a.get(en)),t){case"add":l?f&&o(a.get("length")):(o(a.get(es)),ms(e)&&o(a.get(Rr)));break;case"delete":l||(o(a.get(es)),ms(e)&&o(a.get(Rr)));break;case"set":ms(e)&&o(a.get(es));break}}ei()}function as(e){const t=re(e);return t===e?t:(Oe(t,"iterate",en),Ze(e)?t:t.map(it))}function Gn(e){return Oe(e=re(e),"iterate",en),e}function Bt(e,t){return qt(e)?ws(ts(e)?it(t):t):it(t)}const xc={__proto__:null,[Symbol.iterator](){return lr(this,Symbol.iterator,e=>Bt(this,e))},concat(...e){return as(this).concat(...e.map(t=>Y(t)?as(t):t))},entries(){return lr(this,"entries",e=>(e[1]=Bt(this,e[1]),e))},every(e,t){return Et(this,"every",e,t,void 0,arguments)},filter(e,t){return Et(this,"filter",e,t,s=>s.map(n=>Bt(this,n)),arguments)},find(e,t){return Et(this,"find",e,t,s=>Bt(this,s),arguments)},findIndex(e,t){return Et(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Et(this,"findLast",e,t,s=>Bt(this,s),arguments)},findLastIndex(e,t){return Et(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Et(this,"forEach",e,t,void 0,arguments)},includes(...e){return cr(this,"includes",e)},indexOf(...e){return cr(this,"indexOf",e)},join(e){return as(this).join(e)},lastIndexOf(...e){return cr(this,"lastIndexOf",e)},map(e,t){return Et(this,"map",e,t,void 0,arguments)},pop(){return Ms(this,"pop")},push(...e){return Ms(this,"push",e)},reduce(e,...t){return Pi(this,"reduce",e,t)},reduceRight(e,...t){return Pi(this,"reduceRight",e,t)},shift(){return Ms(this,"shift")},some(e,t){return Et(this,"some",e,t,void 0,arguments)},splice(...e){return Ms(this,"splice",e)},toReversed(){return as(this).toReversed()},toSorted(e){return as(this).toSorted(e)},toSpliced(...e){return as(this).toSpliced(...e)},unshift(...e){return Ms(this,"unshift",e)},values(){return lr(this,"values",e=>Bt(this,e))}};function lr(e,t,s){const n=Gn(e),r=n[t]();return n!==e&&!Ze(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=s(i.value)),i}),r}const Ac=Array.prototype;function Et(e,t,s,n,r,i){const a=Gn(e),o=a!==e&&!Ze(e),l=a[t];if(l!==Ac[t]){const d=l.apply(e,i);return o?it(d):d}let f=s;a!==e&&(o?f=function(d,m){return s.call(this,Bt(e,d),m,e)}:s.length>2&&(f=function(d,m){return s.call(this,d,m,e)}));const u=l.call(a,f,n);return o&&r?r(u):u}function Pi(e,t,s,n){const r=Gn(e);let i=s;return r!==e&&(Ze(e)?s.length>3&&(i=function(a,o,l){return s.call(this,a,o,l,e)}):i=function(a,o,l){return s.call(this,a,Bt(e,o),l,e)}),r[t](i,...n)}function cr(e,t,s){const n=re(e);Oe(n,"iterate",en);const r=n[t](...s);return(r===-1||r===!1)&&ii(s[0])?(s[0]=re(s[0]),n[t](...s)):r}function Ms(e,t,s=[]){Pt(),Zr();const n=re(e)[t].apply(e,s);return ei(),It(),n}const Oc=Gr("__proto__,__v_isRef,__isVue"),fa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gt));function Pc(e){gt(e)||(e=String(e));const t=re(this);return Oe(t,"has",e),t.hasOwnProperty(e)}class da{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Hc:ya:i?ma:pa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=Y(t);if(!r){let l;if(a&&(l=xc[s]))return l;if(s==="hasOwnProperty")return Pc}const o=Reflect.get(t,s,Ie(t)?t:n);if((gt(s)?fa.has(s):Oc(s))||(r||Oe(t,"get",s),i))return o;if(Ie(o)){const l=a&&zr(s)?o:o.value;return r&&ce(l)?Dr(l):l}return ce(o)?r?Dr(o):Kn(o):o}}class ha extends da{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];const a=Y(t)&&zr(s);if(!this._isShallow){const f=qt(i);if(!Ze(n)&&!qt(n)&&(i=re(i),n=re(n)),!a&&Ie(i)&&!Ie(n))return f||(i.value=n),!0}const o=a?Number(s)<t.length:ie(t,s),l=Reflect.set(t,s,n,Ie(t)?t:r);return t===re(r)&&(o?Ht(n,i)&&xt(t,"set",s,n):xt(t,"add",s,n)),l}deleteProperty(t,s){const n=ie(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&xt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!gt(s)||!fa.has(s))&&Oe(t,"has",s),n}ownKeys(t){return Oe(t,"iterate",Y(t)?"length":es),Reflect.ownKeys(t)}}class Ic extends da{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const qc=new ha,kc=new Ic,Mc=new ha(!0);const Sr=e=>e,hn=e=>Reflect.getPrototypeOf(e);function Nc(e,t,s){return function(...n){const r=this.__v_raw,i=re(r),a=ms(i),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,f=r[e](...n),u=s?Sr:t?ws:it;return!t&&Oe(i,"iterate",l?Rr:es),Ae(Object.create(f),{next(){const{value:d,done:m}=f.next();return m?{value:d,done:m}:{value:o?[u(d[0]),u(d[1])]:u(d),done:m}}})}}function pn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Lc(e,t){const s={get(r){const i=this.__v_raw,a=re(i),o=re(r);e||(Ht(r,o)&&Oe(a,"get",r),Oe(a,"get",o));const{has:l}=hn(a),f=t?Sr:e?ws:it;if(l.call(a,r))return f(i.get(r));if(l.call(a,o))return f(i.get(o));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Oe(re(r),"iterate",es),r.size},has(r){const i=this.__v_raw,a=re(i),o=re(r);return e||(Ht(r,o)&&Oe(a,"has",r),Oe(a,"has",o)),r===o?i.has(r):i.has(r)||i.has(o)},forEach(r,i){const a=this,o=a.__v_raw,l=re(o),f=t?Sr:e?ws:it;return!e&&Oe(l,"iterate",es),o.forEach((u,d)=>r.call(i,f(u),f(d),a))}};return Ae(s,e?{add:pn("add"),set:pn("set"),delete:pn("delete"),clear:pn("clear")}:{add(r){!t&&!Ze(r)&&!qt(r)&&(r=re(r));const i=re(this);return hn(i).has.call(i,r)||(i.add(r),xt(i,"add",r,r)),this},set(r,i){!t&&!Ze(i)&&!qt(i)&&(i=re(i));const a=re(this),{has:o,get:l}=hn(a);let f=o.call(a,r);f||(r=re(r),f=o.call(a,r));const u=l.call(a,r);return a.set(r,i),f?Ht(i,u)&&xt(a,"set",r,i):xt(a,"add",r,i),this},delete(r){const i=re(this),{has:a,get:o}=hn(i);let l=a.call(i,r);l||(r=re(r),l=a.call(i,r)),o&&o.call(i,r);const f=i.delete(r);return l&&xt(i,"delete",r,void 0),f},clear(){const r=re(this),i=r.size!==0,a=r.clear();return i&&xt(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Nc(r,e,t)}),s}function ni(e,t){const s=Lc(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ie(s,r)&&r in n?s:n,r,i)}const Bc={get:ni(!1,!1)},Fc={get:ni(!1,!0)},Uc={get:ni(!0,!1)};const pa=new WeakMap,ma=new WeakMap,ya=new WeakMap,Hc=new WeakMap;function Wc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $c(e){return e.__v_skip||!Object.isExtensible(e)?0:Wc(pc(e))}function Kn(e){return qt(e)?e:ri(e,!1,qc,Bc,pa)}function ga(e){return ri(e,!1,Mc,Fc,ma)}function Dr(e){return ri(e,!0,kc,Uc,ya)}function ri(e,t,s,n,r){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=$c(e);if(i===0)return e;const a=r.get(e);if(a)return a;const o=new Proxy(e,i===2?n:s);return r.set(e,o),o}function ts(e){return qt(e)?ts(e.__v_raw):!!(e&&e.__v_isReactive)}function qt(e){return!!(e&&e.__v_isReadonly)}function Ze(e){return!!(e&&e.__v_isShallow)}function ii(e){return e?!!e.__v_raw:!1}function re(e){const t=e&&e.__v_raw;return t?re(t):e}function Vc(e){return!ie(e,"__v_skip")&&Object.isExtensible(e)&&Zo(e,"__v_skip",!0),e}const it=e=>ce(e)?Kn(e):e,ws=e=>ce(e)?Dr(e):e;function Ie(e){return e?e.__v_isRef===!0:!1}function jc(e){return ba(e,!1)}function Yc(e){return ba(e,!0)}function ba(e,t){return Ie(e)?e:new Gc(e,t)}class Gc{constructor(t,s){this.dep=new si,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:re(t),this._value=s?t:it(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Ze(t)||qt(t);t=n?t:re(t),Ht(t,s)&&(this._rawValue=t,this._value=n?t:it(t),this.dep.trigger())}}function ys(e){return Ie(e)?e.value:e}const Kc={get:(e,t,s)=>t==="__v_raw"?e:ys(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Ie(r)&&!Ie(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function _a(e){return ts(e)?e:new Proxy(e,Kc)}class Qc{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new si(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&he!==this)return ia(this,!0),!0}get value(){const t=this.dep.track();return la(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function zc(e,t,s=!1){let n,r;return Q(e)?n=e:(n=e.get,r=e.set),new Qc(n,r,s)}const mn={},Dn=new WeakMap;let zt;function Jc(e,t=!1,s=zt){if(s){let n=Dn.get(s);n||Dn.set(s,n=[]),n.push(e)}}function Xc(e,t,s=fe){const{immediate:n,deep:r,once:i,scheduler:a,augmentJob:o,call:l}=s,f=B=>r?B:Ze(B)||r===!1||r===0?At(B,1):At(B);let u,d,m,g,A=!1,E=!1;if(Ie(e)?(d=()=>e.value,A=Ze(e)):ts(e)?(d=()=>f(e),A=!0):Y(e)?(E=!0,A=e.some(B=>ts(B)||Ze(B)),d=()=>e.map(B=>{if(Ie(B))return B.value;if(ts(B))return f(B);if(Q(B))return l?l(B,2):B()})):Q(e)?t?d=l?()=>l(e,2):e:d=()=>{if(m){Pt();try{m()}finally{It()}}const B=zt;zt=u;try{return l?l(e,3,[g]):e(g)}finally{zt=B}}:d=yt,t&&r){const B=d,se=r===!0?1/0:r;d=()=>At(B(),se)}const F=Sc(),H=()=>{u.stop(),F&&F.active&&Qr(F.effects,u)};if(i&&t){const B=t;t=(...se)=>{B(...se),H()}}let k=E?new Array(e.length).fill(mn):mn;const W=B=>{if(!(!(u.flags&1)||!u.dirty&&!B))if(t){const se=u.run();if(r||A||(E?se.some((we,pe)=>Ht(we,k[pe])):Ht(se,k))){m&&m();const we=zt;zt=u;try{const pe=[se,k===mn?void 0:E&&k[0]===mn?[]:k,g];k=se,l?l(t,3,pe):t(...pe)}finally{zt=we}}}else u.run()};return o&&o(W),u=new na(d),u.scheduler=a?()=>a(W,!1):W,g=B=>Jc(B,!1,u),m=u.onStop=()=>{const B=Dn.get(u);if(B){if(l)l(B,4);else for(const se of B)se();Dn.delete(u)}},t?n?W(!0):k=u.run():a?a(W.bind(null,!0),!0):u.run(),H.pause=u.pause.bind(u),H.resume=u.resume.bind(u),H.stop=H,H}function At(e,t=1/0,s){if(t<=0||!ce(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Ie(e))At(e.value,t,s);else if(Y(e))for(let n=0;n<e.length;n++)At(e[n],t,s);else if(Qo(e)||ms(e))e.forEach(n=>{At(n,t,s)});else if(Xo(e)){for(const n in e)At(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&At(e[n],t,s)}return e}function un(e,t,s,n){try{return n?e(...n):e()}catch(r){Qn(r,t,s)}}function bt(e,t,s,n){if(Q(e)){const r=un(e,t,s,n);return r&&zo(r)&&r.catch(i=>{Qn(i,t,s)}),r}if(Y(e)){const r=[];for(let i=0;i<e.length;i++)r.push(bt(e[i],t,s,n));return r}}function Qn(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||fe;if(t){let o=t.parent;const l=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,f)===!1)return}o=o.parent}if(i){Pt(),un(i,null,10,[e,l,f]),It();return}}Zc(e,s,r,n,a)}function Zc(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const Be=[];let pt=-1;const gs=[];let Ft=null,cs=0;const wa=Promise.resolve();let Tn=null;function va(e){const t=Tn||wa;return e?t.then(this?e.bind(this):e):t}function eu(e){let t=pt+1,s=Be.length;for(;t<s;){const n=t+s>>>1,r=Be[n],i=tn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function oi(e){if(!(e.flags&1)){const t=tn(e),s=Be[Be.length-1];!s||!(e.flags&2)&&t>=tn(s)?Be.push(e):Be.splice(eu(t),0,e),e.flags|=1,Ea()}}function Ea(){Tn||(Tn=wa.then(Ra))}function tu(e){Y(e)?gs.push(...e):Ft&&e.id===-1?Ft.splice(cs+1,0,e):e.flags&1||(gs.push(e),e.flags|=1),Ea()}function Ii(e,t,s=pt+1){for(;s<Be.length;s++){const n=Be[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Be.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ca(e){if(gs.length){const t=[...new Set(gs)].sort((s,n)=>tn(s)-tn(n));if(gs.length=0,Ft){Ft.push(...t);return}for(Ft=t,cs=0;cs<Ft.length;cs++){const s=Ft[cs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ft=null,cs=0}}const tn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ra(e){try{for(pt=0;pt<Be.length;pt++){const t=Be[pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),un(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;pt<Be.length;pt++){const t=Be[pt];t&&(t.flags&=-2)}pt=-1,Be.length=0,Ca(),Tn=null,(Be.length||gs.length)&&Ra()}}let Ye=null,Sa=null;function xn(e){const t=Ye;return Ye=e,Sa=e&&e.type.__scopeId||null,t}function St(e,t=Ye,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&Pn(-1);const i=xn(t);let a;try{a=e(...r)}finally{xn(i),n._d&&Pn(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function qi(e,t){if(Ye===null)return e;const s=Zn(Ye),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,a,o,l=fe]=t[r];i&&(Q(i)&&(i={mounted:i,updated:i}),i.deep&&At(a),n.push({dir:i,instance:s,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function Kt(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let a=0;a<r.length;a++){const o=r[a];i&&(o.oldValue=i[a].value);let l=o.dir[n];l&&(Pt(),bt(l,s,8,[e.el,o,e,t]),It())}}function wn(e,t){if(Pe){let s=Pe.provides;const n=Pe.parent&&Pe.parent.provides;n===s&&(s=Pe.provides=Object.create(n)),s[e]=t}}function Ot(e,t,s=!1){const n=nf();if(n||bs){let r=bs?bs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Q(t)?t.call(n&&n.proxy):t}}const su=Symbol.for("v-scx"),nu=()=>Ot(su);function vn(e,t,s){return Da(e,t,s)}function Da(e,t,s=fe){const{immediate:n,deep:r,flush:i,once:a}=s,o=Ae({},s),l=t&&n||!t&&i!=="post";let f;if(nn){if(i==="sync"){const g=nu();f=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=yt,g.resume=yt,g.pause=yt,g}}const u=Pe;o.call=(g,A,E)=>bt(g,u,A,E);let d=!1;i==="post"?o.scheduler=g=>{We(g,u&&u.suspense)}:i!=="sync"&&(d=!0,o.scheduler=(g,A)=>{A?g():oi(g)}),o.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const m=Xc(e,t,o);return nn&&(f?f.push(m):l&&m()),m}function ru(e,t,s){const n=this.proxy,r=Ee(e)?e.includes(".")?Ta(n,e):()=>n[e]:e.bind(n,n);let i;Q(t)?i=t:(i=t.handler,s=t);const a=fn(this),o=Da(r,i.bind(n),s);return a(),o}function Ta(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const iu=Symbol("_vte"),ou=e=>e.__isTeleport,au=Symbol("_leaveCb");function ai(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ai(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function xa(e,t){return Q(e)?Ae({name:e.name},t,{setup:e}):e}function Aa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ki(e,t){let s;return!!((s=Object.getOwnPropertyDescriptor(e,t))&&!s.configurable)}const An=new WeakMap;function Ys(e,t,s,n,r=!1){if(Y(e)){e.forEach((E,F)=>Ys(E,t&&(Y(t)?t[F]:t),s,n,r));return}if(Gs(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ys(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?Zn(n.component):n.el,a=r?null:i,{i:o,r:l}=e,f=t&&t.r,u=o.refs===fe?o.refs={}:o.refs,d=o.setupState,m=re(d),g=d===fe?Ko:E=>ki(u,E)?!1:ie(m,E),A=(E,F)=>!(F&&ki(u,F));if(f!=null&&f!==l){if(Mi(t),Ee(f))u[f]=null,g(f)&&(d[f]=null);else if(Ie(f)){const E=t;A(f,E.k)&&(f.value=null),E.k&&(u[E.k]=null)}}if(Q(l))un(l,o,12,[a,u]);else{const E=Ee(l),F=Ie(l);if(E||F){const H=()=>{if(e.f){const k=E?g(l)?d[l]:u[l]:A()||!e.k?l.value:u[e.k];if(r)Y(k)&&Qr(k,i);else if(Y(k))k.includes(i)||k.push(i);else if(E)u[l]=[i],g(l)&&(d[l]=u[l]);else{const W=[i];A(l,e.k)&&(l.value=W),e.k&&(u[e.k]=W)}}else E?(u[l]=a,g(l)&&(d[l]=a)):F&&(A(l,e.k)&&(l.value=a),e.k&&(u[e.k]=a))};if(a){const k=()=>{H(),An.delete(e)};k.id=-1,An.set(e,k),We(k,s)}else Mi(e),H()}}}function Mi(e){const t=An.get(e);t&&(t.flags|=8,An.delete(e))}jn().requestIdleCallback;jn().cancelIdleCallback;const Gs=e=>!!e.type.__asyncLoader,Oa=e=>e.type.__isKeepAlive;function lu(e,t){Pa(e,"a",t)}function cu(e,t){Pa(e,"da",t)}function Pa(e,t,s=Pe){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(zn(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Oa(r.parent.vnode)&&uu(n,t,s,r),r=r.parent}}function uu(e,t,s,n){const r=zn(t,e,n,!0);Ia(()=>{Qr(n[t],r)},s)}function zn(e,t,s=Pe,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...a)=>{Pt();const o=fn(s),l=bt(t,s,e,a);return o(),It(),l});return n?r.unshift(i):r.push(i),i}}const kt=e=>(t,s=Pe)=>{(!nn||e==="sp")&&zn(e,(...n)=>t(...n),s)},fu=kt("bm"),du=kt("m"),hu=kt("bu"),pu=kt("u"),mu=kt("bum"),Ia=kt("um"),yu=kt("sp"),gu=kt("rtg"),bu=kt("rtc");function _u(e,t=Pe){zn("ec",e,t)}const wu="components";function $t(e,t){return Eu(wu,e,!0,t)||e}const vu=Symbol.for("v-ndc");function Eu(e,t,s=!0,n=!1){const r=Ye||Pe;if(r){const i=r.type;{const o=cf(i,!1);if(o&&(o===t||o===tt(t)||o===Vn(tt(t))))return i}const a=Ni(r[e]||i[e],t)||Ni(r.appContext[e],t);return!a&&n?i:a}}function Ni(e,t){return e&&(e[t]||e[tt(t)]||e[Vn(tt(t))])}function Fe(e,t,s,n){let r;const i=s,a=Y(e);if(a||Ee(e)){const o=a&&ts(e);let l=!1,f=!1;o&&(l=!Ze(e),f=qt(e),e=Gn(e)),r=new Array(e.length);for(let u=0,d=e.length;u<d;u++)r[u]=t(l?f?ws(it(e[u])):it(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,i)}else if(ce(e))if(e[Symbol.iterator])r=Array.from(e,(o,l)=>t(o,l,void 0,i));else{const o=Object.keys(e);r=new Array(o.length);for(let l=0,f=o.length;l<f;l++){const u=o[l];r[l]=t(e[u],u,l,i)}}else r=[];return r}const Tr=e=>e?Xa(e)?Zn(e):Tr(e.parent):null,Ks=Ae(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tr(e.parent),$root:e=>Tr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ka(e),$forceUpdate:e=>e.f||(e.f=()=>{oi(e.update)}),$nextTick:e=>e.n||(e.n=va.bind(e.proxy)),$watch:e=>ru.bind(e)}),ur=(e,t)=>e!==fe&&!e.__isScriptSetup&&ie(e,t),Cu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:a,type:o,appContext:l}=e;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(ur(n,t))return a[t]=1,n[t];if(r!==fe&&ie(r,t))return a[t]=2,r[t];if(ie(i,t))return a[t]=3,i[t];if(s!==fe&&ie(s,t))return a[t]=4,s[t];xr&&(a[t]=0)}}const f=Ks[t];let u,d;if(f)return t==="$attrs"&&Oe(e.attrs,"get",""),f(e);if((u=o.__cssModules)&&(u=u[t]))return u;if(s!==fe&&ie(s,t))return a[t]=4,s[t];if(d=l.config.globalProperties,ie(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return ur(r,t)?(r[t]=s,!0):n!==fe&&ie(n,t)?(n[t]=s,!0):ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,props:i,type:a}},o){let l;return!!(s[o]||e!==fe&&o[0]!=="$"&&ie(e,o)||ur(t,o)||ie(i,o)||ie(n,o)||ie(Ks,o)||ie(r.config.globalProperties,o)||(l=a.__cssModules)&&l[o])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ie(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Li(e){return Y(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let xr=!0;function Ru(e){const t=ka(e),s=e.proxy,n=e.ctx;xr=!1,t.beforeCreate&&Bi(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:a,watch:o,provide:l,inject:f,created:u,beforeMount:d,mounted:m,beforeUpdate:g,updated:A,activated:E,deactivated:F,beforeDestroy:H,beforeUnmount:k,destroyed:W,unmounted:B,render:se,renderTracked:we,renderTriggered:pe,errorCaptured:Ke,serverPrefetch:De,expose:Qe,inheritAttrs:ct,components:Ce,directives:ze,filters:wt}=t;if(f&&Su(f,n,null),a)for(const N in a){const U=a[N];Q(U)&&(n[N]=U.bind(s))}if(r){const N=r.call(s,s);ce(N)&&(e.data=Kn(N))}if(xr=!0,i)for(const N in i){const U=i[N],ee=Q(U)?U.bind(s,s):Q(U.get)?U.get.bind(s,s):yt,K=!Q(U)&&Q(U.set)?U.set.bind(s):yt,qe=st({get:ee,set:K});Object.defineProperty(n,N,{enumerable:!0,configurable:!0,get:()=>qe.value,set:Se=>qe.value=Se})}if(o)for(const N in o)qa(o[N],n,s,N);if(l){const N=Q(l)?l.call(s):l;Reflect.ownKeys(N).forEach(U=>{wn(U,N[U])})}u&&Bi(u,e,"c");function D(N,U){Y(U)?U.forEach(ee=>N(ee.bind(s))):U&&N(U.bind(s))}if(D(fu,d),D(du,m),D(hu,g),D(pu,A),D(lu,E),D(cu,F),D(_u,Ke),D(bu,we),D(gu,pe),D(mu,k),D(Ia,B),D(yu,De),Y(Qe))if(Qe.length){const N=e.exposed||(e.exposed={});Qe.forEach(U=>{Object.defineProperty(N,U,{get:()=>s[U],set:ee=>s[U]=ee,enumerable:!0})})}else e.exposed||(e.exposed={});se&&e.render===yt&&(e.render=se),ct!=null&&(e.inheritAttrs=ct),Ce&&(e.components=Ce),ze&&(e.directives=ze),De&&Aa(e)}function Su(e,t,s=yt){Y(e)&&(e=Ar(e));for(const n in e){const r=e[n];let i;ce(r)?"default"in r?i=Ot(r.from||n,r.default,!0):i=Ot(r.from||n):i=Ot(r),Ie(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[n]=i}}function Bi(e,t,s){bt(Y(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function qa(e,t,s,n){let r=n.includes(".")?Ta(s,n):()=>s[n];if(Ee(e)){const i=t[e];Q(i)&&vn(r,i)}else if(Q(e))vn(r,e.bind(s));else if(ce(e))if(Y(e))e.forEach(i=>qa(i,t,s,n));else{const i=Q(e.handler)?e.handler.bind(s):t[e.handler];Q(i)&&vn(r,i,e)}}function ka(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,o=i.get(t);let l;return o?l=o:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(f=>On(l,f,a,!0)),On(l,t,a)),ce(t)&&i.set(t,l),l}function On(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&On(e,i,s,!0),r&&r.forEach(a=>On(e,a,s,!0));for(const a in t)if(!(n&&a==="expose")){const o=Du[a]||s&&s[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const Du={data:Fi,props:Ui,emits:Ui,methods:Us,computed:Us,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Us,directives:Us,watch:xu,provide:Fi,inject:Tu};function Fi(e,t){return t?e?function(){return Ae(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function Tu(e,t){return Us(Ar(e),Ar(t))}function Ar(e){if(Y(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Me(e,t){return e?[...new Set([].concat(e,t))]:t}function Us(e,t){return e?Ae(Object.create(null),e,t):t}function Ui(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Ae(Object.create(null),Li(e),Li(t??{})):t}function xu(e,t){if(!e)return t;if(!t)return e;const s=Ae(Object.create(null),e);for(const n in t)s[n]=Me(e[n],t[n]);return s}function Ma(){return{app:null,config:{isNativeTag:Ko,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Au=0;function Ou(e,t){return function(n,r=null){Q(n)||(n=Ae({},n)),r!=null&&!ce(r)&&(r=null);const i=Ma(),a=new WeakSet,o=[];let l=!1;const f=i.app={_uid:Au++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:ff,get config(){return i.config},set config(u){},use(u,...d){return a.has(u)||(u&&Q(u.install)?(a.add(u),u.install(f,...d)):Q(u)&&(a.add(u),u(f,...d))),f},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),f},component(u,d){return d?(i.components[u]=d,f):i.components[u]},directive(u,d){return d?(i.directives[u]=d,f):i.directives[u]},mount(u,d,m){if(!l){const g=f._ceVNode||ue(n,r);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),e(g,u,m),l=!0,f._container=u,u.__vue_app__=f,Zn(g.component)}},onUnmount(u){o.push(u)},unmount(){l&&(bt(o,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(u,d){return i.provides[u]=d,f},runWithContext(u){const d=bs;bs=f;try{return u()}finally{bs=d}}};return f}}let bs=null;const Pu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tt(t)}Modifiers`]||e[`${os(t)}Modifiers`];function Iu(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||fe;let r=s;const i=t.startsWith("update:"),a=i&&Pu(n,t.slice(7));a&&(a.trim&&(r=s.map(u=>Ee(u)?u.trim():u)),a.number&&(r=s.map(Jr)));let o,l=n[o=ir(t)]||n[o=ir(tt(t))];!l&&i&&(l=n[o=ir(os(t))]),l&&bt(l,e,6,r);const f=n[o+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,bt(f,e,6,r)}}const qu=new WeakMap;function Na(e,t,s=!1){const n=s?qu:t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let a={},o=!1;if(!Q(e)){const l=f=>{const u=Na(f,t,!0);u&&(o=!0,Ae(a,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!o?(ce(e)&&n.set(e,null),null):(Y(i)?i.forEach(l=>a[l]=null):Ae(a,i),ce(e)&&n.set(e,a),a)}function Jn(e,t){return!e||!Wn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ie(e,t[0].toLowerCase()+t.slice(1))||ie(e,os(t))||ie(e,t))}function Hi(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:a,attrs:o,emit:l,render:f,renderCache:u,props:d,data:m,setupState:g,ctx:A,inheritAttrs:E}=e,F=xn(e);let H,k;try{if(s.shapeFlag&4){const B=r||n,se=B;H=mt(f.call(se,B,u,d,g,m,A)),k=o}else{const B=t;H=mt(B.length>1?B(d,{attrs:o,slots:a,emit:l}):B(d,null)),k=t.props?o:ku(o)}}catch(B){Qs.length=0,Qn(B,e,1),H=ue(Vt)}let W=H;if(k&&E!==!1){const B=Object.keys(k),{shapeFlag:se}=W;B.length&&se&7&&(i&&B.some(Kr)&&(k=Mu(k,i)),W=vs(W,k,!1,!0))}return s.dirs&&(W=vs(W,null,!1,!0),W.dirs=W.dirs?W.dirs.concat(s.dirs):s.dirs),s.transition&&ai(W,s.transition),H=W,xn(F),H}const ku=e=>{let t;for(const s in e)(s==="class"||s==="style"||Wn(s))&&((t||(t={}))[s]=e[s]);return t},Mu=(e,t)=>{const s={};for(const n in e)(!Kr(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Nu(e,t,s){const{props:n,children:r,component:i}=e,{props:a,children:o,patchFlag:l}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Wi(n,a,f):!!a;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const m=u[d];if(La(a,n,m)&&!Jn(f,m))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Wi(n,a,f):!0:!!a;return!1}function Wi(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(La(t,e,i)&&!Jn(s,i))return!0}return!1}function La(e,t,s){const n=e[s],r=t[s];return s==="style"&&ce(n)&&ce(r)?!Xr(n,r):n!==r}function Lu({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ba={},Fa=()=>Object.create(Ba),Ua=e=>Object.getPrototypeOf(e)===Ba;function Bu(e,t,s,n=!1){const r={},i=Fa();e.propsDefaults=Object.create(null),Ha(e,t,r,i);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);s?e.props=n?r:ga(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Fu(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:a}}=e,o=re(r),[l]=e.propsOptions;let f=!1;if((n||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let m=u[d];if(Jn(e.emitsOptions,m))continue;const g=t[m];if(l)if(ie(i,m))g!==i[m]&&(i[m]=g,f=!0);else{const A=tt(m);r[A]=Or(l,o,A,g,e,!1)}else g!==i[m]&&(i[m]=g,f=!0)}}}else{Ha(e,t,r,i)&&(f=!0);let u;for(const d in o)(!t||!ie(t,d)&&((u=os(d))===d||!ie(t,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(r[d]=Or(l,o,d,void 0,e,!0)):delete r[d]);if(i!==o)for(const d in i)(!t||!ie(t,d))&&(delete i[d],f=!0)}f&&xt(e.attrs,"set","")}function Ha(e,t,s,n){const[r,i]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if($s(l))continue;const f=t[l];let u;r&&ie(r,u=tt(l))?!i||!i.includes(u)?s[u]=f:(o||(o={}))[u]=f:Jn(e.emitsOptions,l)||(!(l in n)||f!==n[l])&&(n[l]=f,a=!0)}if(i){const l=re(s),f=o||fe;for(let u=0;u<i.length;u++){const d=i[u];s[d]=Or(r,l,d,f[d],e,!ie(f,d))}}return a}function Or(e,t,s,n,r,i){const a=e[s];if(a!=null){const o=ie(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Q(l)){const{propsDefaults:f}=r;if(s in f)n=f[s];else{const u=fn(r);n=f[s]=l.call(null,t),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}a[0]&&(i&&!o?n=!1:a[1]&&(n===""||n===os(s))&&(n=!0))}return n}const Uu=new WeakMap;function Wa(e,t,s=!1){const n=s?Uu:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,a={},o=[];let l=!1;if(!Q(e)){const u=d=>{l=!0;const[m,g]=Wa(d,t,!0);Ae(a,m),g&&o.push(...g)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return ce(e)&&n.set(e,ps),ps;if(Y(i))for(let u=0;u<i.length;u++){const d=tt(i[u]);$i(d)&&(a[d]=fe)}else if(i)for(const u in i){const d=tt(u);if($i(d)){const m=i[u],g=a[d]=Y(m)||Q(m)?{type:m}:Ae({},m),A=g.type;let E=!1,F=!0;if(Y(A))for(let H=0;H<A.length;++H){const k=A[H],W=Q(k)&&k.name;if(W==="Boolean"){E=!0;break}else W==="String"&&(F=!1)}else E=Q(A)&&A.name==="Boolean";g[0]=E,g[1]=F,(E||ie(g,"default"))&&o.push(d)}}const f=[a,o];return ce(e)&&n.set(e,f),f}function $i(e){return e[0]!=="$"&&!$s(e)}const li=e=>e==="_"||e==="_ctx"||e==="$stable",ci=e=>Y(e)?e.map(mt):[mt(e)],Hu=(e,t,s)=>{if(t._n)return t;const n=St((...r)=>ci(t(...r)),s);return n._c=!1,n},$a=(e,t,s)=>{const n=e._ctx;for(const r in e){if(li(r))continue;const i=e[r];if(Q(i))t[r]=Hu(r,i,n);else if(i!=null){const a=ci(i);t[r]=()=>a}}},Va=(e,t)=>{const s=ci(t);e.slots.default=()=>s},ja=(e,t,s)=>{for(const n in t)(s||!li(n))&&(e[n]=t[n])},Wu=(e,t,s)=>{const n=e.slots=Fa();if(e.vnode.shapeFlag&32){const r=t._;r?(ja(n,t,s),s&&Zo(n,"_",r,!0)):$a(t,n)}else t&&Va(e,t)},$u=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,a=fe;if(n.shapeFlag&32){const o=t._;o?s&&o===1?i=!1:ja(r,t,s):(i=!t.$stable,$a(t,r)),a=t}else t&&(Va(e,t),a={default:1});if(i)for(const o in r)!li(o)&&a[o]==null&&delete r[o]},We=Ku;function Vu(e){return ju(e)}function ju(e,t){const s=jn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:a,createText:o,createComment:l,setText:f,setElementText:u,parentNode:d,nextSibling:m,setScopeId:g=yt,insertStaticContent:A}=e,E=(h,p,y,C=null,T=null,R=null,I=void 0,P=null,O=!!p.dynamicChildren)=>{if(h===p)return;h&&!Ns(h,p)&&(C=S(h),Se(h,T,R,!0),h=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:x,ref:j,shapeFlag:M}=p;switch(x){case Xn:F(h,p,y,C);break;case Vt:H(h,p,y,C);break;case dr:h==null&&k(p,y,C,I);break;case ye:Ce(h,p,y,C,T,R,I,P,O);break;default:M&1?se(h,p,y,C,T,R,I,P,O):M&6?ze(h,p,y,C,T,R,I,P,O):(M&64||M&128)&&x.process(h,p,y,C,T,R,I,P,O,$)}j!=null&&T?Ys(j,h&&h.ref,R,p||h,!p):j==null&&h&&h.ref!=null&&Ys(h.ref,null,R,h,!0)},F=(h,p,y,C)=>{if(h==null)n(p.el=o(p.children),y,C);else{const T=p.el=h.el;p.children!==h.children&&f(T,p.children)}},H=(h,p,y,C)=>{h==null?n(p.el=l(p.children||""),y,C):p.el=h.el},k=(h,p,y,C)=>{[h.el,h.anchor]=A(h.children,p,y,C,h.el,h.anchor)},W=({el:h,anchor:p},y,C)=>{let T;for(;h&&h!==p;)T=m(h),n(h,y,C),h=T;n(p,y,C)},B=({el:h,anchor:p})=>{let y;for(;h&&h!==p;)y=m(h),r(h),h=y;r(p)},se=(h,p,y,C,T,R,I,P,O)=>{if(p.type==="svg"?I="svg":p.type==="math"&&(I="mathml"),h==null)we(p,y,C,T,R,I,P,O);else{const x=h.el&&h.el._isVueCE?h.el:null;try{x&&x._beginPatch(),De(h,p,T,R,I,P,O)}finally{x&&x._endPatch()}}},we=(h,p,y,C,T,R,I,P)=>{let O,x;const{props:j,shapeFlag:M,transition:V,dirs:G}=h;if(O=h.el=a(h.type,R,j&&j.is,j),M&8?u(O,h.children):M&16&&Ke(h.children,O,null,C,T,fr(h,R),I,P),G&&Kt(h,null,C,"created"),pe(O,h,h.scopeId,I,C),j){for(const de in j)de!=="value"&&!$s(de)&&i(O,de,null,j[de],R,C);"value"in j&&i(O,"value",null,j.value,R),(x=j.onVnodeBeforeMount)&&ht(x,C,h)}G&&Kt(h,null,C,"beforeMount");const Z=Yu(T,V);Z&&V.beforeEnter(O),n(O,p,y),((x=j&&j.onVnodeMounted)||Z||G)&&We(()=>{x&&ht(x,C,h),Z&&V.enter(O),G&&Kt(h,null,C,"mounted")},T)},pe=(h,p,y,C,T)=>{if(y&&g(h,y),C)for(let R=0;R<C.length;R++)g(h,C[R]);if(T){let R=T.subTree;if(p===R||Qa(R.type)&&(R.ssContent===p||R.ssFallback===p)){const I=T.vnode;pe(h,I,I.scopeId,I.slotScopeIds,T.parent)}}},Ke=(h,p,y,C,T,R,I,P,O=0)=>{for(let x=O;x<h.length;x++){const j=h[x]=P?Tt(h[x]):mt(h[x]);E(null,j,p,y,C,T,R,I,P)}},De=(h,p,y,C,T,R,I)=>{const P=p.el=h.el;let{patchFlag:O,dynamicChildren:x,dirs:j}=p;O|=h.patchFlag&16;const M=h.props||fe,V=p.props||fe;let G;if(y&&Qt(y,!1),(G=V.onVnodeBeforeUpdate)&&ht(G,y,p,h),j&&Kt(p,h,y,"beforeUpdate"),y&&Qt(y,!0),(M.innerHTML&&V.innerHTML==null||M.textContent&&V.textContent==null)&&u(P,""),x?Qe(h.dynamicChildren,x,P,y,C,fr(p,T),R):I||U(h,p,P,null,y,C,fr(p,T),R,!1),O>0){if(O&16)ct(P,M,V,y,T);else if(O&2&&M.class!==V.class&&i(P,"class",null,V.class,T),O&4&&i(P,"style",M.style,V.style,T),O&8){const Z=p.dynamicProps;for(let de=0;de<Z.length;de++){const ae=Z[de],Ue=M[ae],He=V[ae];(He!==Ue||ae==="value")&&i(P,ae,Ue,He,T,y)}}O&1&&h.children!==p.children&&u(P,p.children)}else!I&&x==null&&ct(P,M,V,y,T);((G=V.onVnodeUpdated)||j)&&We(()=>{G&&ht(G,y,p,h),j&&Kt(p,h,y,"updated")},C)},Qe=(h,p,y,C,T,R,I)=>{for(let P=0;P<p.length;P++){const O=h[P],x=p[P],j=O.el&&(O.type===ye||!Ns(O,x)||O.shapeFlag&198)?d(O.el):y;E(O,x,j,null,C,T,R,I,!0)}},ct=(h,p,y,C,T)=>{if(p!==y){if(p!==fe)for(const R in p)!$s(R)&&!(R in y)&&i(h,R,p[R],null,T,C);for(const R in y){if($s(R))continue;const I=y[R],P=p[R];I!==P&&R!=="value"&&i(h,R,P,I,T,C)}"value"in y&&i(h,"value",p.value,y.value,T)}},Ce=(h,p,y,C,T,R,I,P,O)=>{const x=p.el=h?h.el:o(""),j=p.anchor=h?h.anchor:o("");let{patchFlag:M,dynamicChildren:V,slotScopeIds:G}=p;G&&(P=P?P.concat(G):G),h==null?(n(x,y,C),n(j,y,C),Ke(p.children||[],y,j,T,R,I,P,O)):M>0&&M&64&&V&&h.dynamicChildren&&h.dynamicChildren.length===V.length?(Qe(h.dynamicChildren,V,y,T,R,I,P),(p.key!=null||T&&p===T.subTree)&&Ya(h,p,!0)):U(h,p,y,j,T,R,I,P,O)},ze=(h,p,y,C,T,R,I,P,O)=>{p.slotScopeIds=P,h==null?p.shapeFlag&512?T.ctx.activate(p,y,C,I,O):wt(p,y,C,T,R,I,O):b(h,p,O)},wt=(h,p,y,C,T,R,I)=>{const P=h.component=sf(h,C,T);if(Oa(h)&&(P.ctx.renderer=$),rf(P,!1,I),P.asyncDep){if(T&&T.registerDep(P,D,I),!h.el){const O=P.subTree=ue(Vt);H(null,O,p,y),h.placeholder=O.el}}else D(P,h,p,y,T,R,I)},b=(h,p,y)=>{const C=p.component=h.component;if(Nu(h,p,y))if(C.asyncDep&&!C.asyncResolved){N(C,p,y);return}else C.next=p,C.update();else p.el=h.el,C.vnode=p},D=(h,p,y,C,T,R,I)=>{const P=()=>{if(h.isMounted){let{next:M,bu:V,u:G,parent:Z,vnode:de}=h;{const ft=Ga(h);if(ft){M&&(M.el=de.el,N(h,M,I)),ft.asyncDep.then(()=>{We(()=>{h.isUnmounted||x()},T)});return}}let ae=M,Ue;Qt(h,!1),M?(M.el=de.el,N(h,M,I)):M=de,V&&_n(V),(Ue=M.props&&M.props.onVnodeBeforeUpdate)&&ht(Ue,Z,M,de),Qt(h,!0);const He=Hi(h),ut=h.subTree;h.subTree=He,E(ut,He,d(ut.el),S(ut),h,T,R),M.el=He.el,ae===null&&Lu(h,He.el),G&&We(G,T),(Ue=M.props&&M.props.onVnodeUpdated)&&We(()=>ht(Ue,Z,M,de),T)}else{let M;const{el:V,props:G}=p,{bm:Z,m:de,parent:ae,root:Ue,type:He}=h,ut=Gs(p);Qt(h,!1),Z&&_n(Z),!ut&&(M=G&&G.onVnodeBeforeMount)&&ht(M,ae,p),Qt(h,!0);{Ue.ce&&Ue.ce._hasShadowRoot()&&Ue.ce._injectChildStyle(He);const ft=h.subTree=Hi(h);E(null,ft,y,C,h,T,R),p.el=ft.el}if(de&&We(de,T),!ut&&(M=G&&G.onVnodeMounted)){const ft=p;We(()=>ht(M,ae,ft),T)}(p.shapeFlag&256||ae&&Gs(ae.vnode)&&ae.vnode.shapeFlag&256)&&h.a&&We(h.a,T),h.isMounted=!0,p=y=C=null}};h.scope.on();const O=h.effect=new na(P);h.scope.off();const x=h.update=O.run.bind(O),j=h.job=O.runIfDirty.bind(O);j.i=h,j.id=h.uid,O.scheduler=()=>oi(j),Qt(h,!0),x()},N=(h,p,y)=>{p.component=h;const C=h.vnode.props;h.vnode=p,h.next=null,Fu(h,p.props,C,y),$u(h,p.children,y),Pt(),Ii(h),It()},U=(h,p,y,C,T,R,I,P,O=!1)=>{const x=h&&h.children,j=h?h.shapeFlag:0,M=p.children,{patchFlag:V,shapeFlag:G}=p;if(V>0){if(V&128){K(x,M,y,C,T,R,I,P,O);return}else if(V&256){ee(x,M,y,C,T,R,I,P,O);return}}G&8?(j&16&&Je(x,T,R),M!==x&&u(y,M)):j&16?G&16?K(x,M,y,C,T,R,I,P,O):Je(x,T,R,!0):(j&8&&u(y,""),G&16&&Ke(M,y,C,T,R,I,P,O))},ee=(h,p,y,C,T,R,I,P,O)=>{h=h||ps,p=p||ps;const x=h.length,j=p.length,M=Math.min(x,j);let V;for(V=0;V<M;V++){const G=p[V]=O?Tt(p[V]):mt(p[V]);E(h[V],G,y,null,T,R,I,P,O)}x>j?Je(h,T,R,!0,!1,M):Ke(p,y,C,T,R,I,P,O,M)},K=(h,p,y,C,T,R,I,P,O)=>{let x=0;const j=p.length;let M=h.length-1,V=j-1;for(;x<=M&&x<=V;){const G=h[x],Z=p[x]=O?Tt(p[x]):mt(p[x]);if(Ns(G,Z))E(G,Z,y,null,T,R,I,P,O);else break;x++}for(;x<=M&&x<=V;){const G=h[M],Z=p[V]=O?Tt(p[V]):mt(p[V]);if(Ns(G,Z))E(G,Z,y,null,T,R,I,P,O);else break;M--,V--}if(x>M){if(x<=V){const G=V+1,Z=G<j?p[G].el:C;for(;x<=V;)E(null,p[x]=O?Tt(p[x]):mt(p[x]),y,Z,T,R,I,P,O),x++}}else if(x>V)for(;x<=M;)Se(h[x],T,R,!0),x++;else{const G=x,Z=x,de=new Map;for(x=Z;x<=V;x++){const je=p[x]=O?Tt(p[x]):mt(p[x]);je.key!=null&&de.set(je.key,x)}let ae,Ue=0;const He=V-Z+1;let ut=!1,ft=0;const ks=new Array(He);for(x=0;x<He;x++)ks[x]=0;for(x=G;x<=M;x++){const je=h[x];if(Ue>=He){Se(je,T,R,!0);continue}let dt;if(je.key!=null)dt=de.get(je.key);else for(ae=Z;ae<=V;ae++)if(ks[ae-Z]===0&&Ns(je,p[ae])){dt=ae;break}dt===void 0?Se(je,T,R,!0):(ks[dt-Z]=x+1,dt>=ft?ft=dt:ut=!0,E(je,p[dt],y,null,T,R,I,P,O),Ue++)}const Si=ut?Gu(ks):ps;for(ae=Si.length-1,x=He-1;x>=0;x--){const je=Z+x,dt=p[je],Di=p[je+1],Ti=je+1<j?Di.el||Ka(Di):C;ks[x]===0?E(null,dt,y,Ti,T,R,I,P,O):ut&&(ae<0||x!==Si[ae]?qe(dt,y,Ti,2):ae--)}}},qe=(h,p,y,C,T=null)=>{const{el:R,type:I,transition:P,children:O,shapeFlag:x}=h;if(x&6){qe(h.component.subTree,p,y,C);return}if(x&128){h.suspense.move(p,y,C);return}if(x&64){I.move(h,p,y,$);return}if(I===ye){n(R,p,y);for(let M=0;M<O.length;M++)qe(O[M],p,y,C);n(h.anchor,p,y);return}if(I===dr){W(h,p,y);return}if(C!==2&&x&1&&P)if(C===0)P.beforeEnter(R),n(R,p,y),We(()=>P.enter(R),T);else{const{leave:M,delayLeave:V,afterLeave:G}=P,Z=()=>{h.ctx.isUnmounted?r(R):n(R,p,y)},de=()=>{R._isLeaving&&R[au](!0),M(R,()=>{Z(),G&&G()})};V?V(R,Z,de):de()}else n(R,p,y)},Se=(h,p,y,C=!1,T=!1)=>{const{type:R,props:I,ref:P,children:O,dynamicChildren:x,shapeFlag:j,patchFlag:M,dirs:V,cacheIndex:G}=h;if(M===-2&&(T=!1),P!=null&&(Pt(),Ys(P,null,y,h,!0),It()),G!=null&&(p.renderCache[G]=void 0),j&256){p.ctx.deactivate(h);return}const Z=j&1&&V,de=!Gs(h);let ae;if(de&&(ae=I&&I.onVnodeBeforeUnmount)&&ht(ae,p,h),j&6)ke(h.component,y,C);else{if(j&128){h.suspense.unmount(y,C);return}Z&&Kt(h,null,p,"beforeUnmount"),j&64?h.type.remove(h,p,y,$,C):x&&!x.hasOnce&&(R!==ye||M>0&&M&64)?Je(x,p,y,!1,!0):(R===ye&&M&384||!T&&j&16)&&Je(O,p,y),C&&vt(h)}(de&&(ae=I&&I.onVnodeUnmounted)||Z)&&We(()=>{ae&&ht(ae,p,h),Z&&Kt(h,null,p,"unmounted")},y)},vt=h=>{const{type:p,el:y,anchor:C,transition:T}=h;if(p===ye){me(y,C);return}if(p===dr){B(h);return}const R=()=>{r(y),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(h.shapeFlag&1&&T&&!T.persisted){const{leave:I,delayLeave:P}=T,O=()=>I(y,R);P?P(h.el,R,O):O()}else R()},me=(h,p)=>{let y;for(;h!==p;)y=m(h),r(h),h=y;r(p)},ke=(h,p,y)=>{const{bum:C,scope:T,job:R,subTree:I,um:P,m:O,a:x}=h;Vi(O),Vi(x),C&&_n(C),T.stop(),R&&(R.flags|=8,Se(I,h,p,y)),P&&We(P,p),We(()=>{h.isUnmounted=!0},p)},Je=(h,p,y,C=!1,T=!1,R=0)=>{for(let I=R;I<h.length;I++)Se(h[I],p,y,C,T)},S=h=>{if(h.shapeFlag&6)return S(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const p=m(h.anchor||h.el),y=p&&p[iu];return y?m(y):p};let L=!1;const q=(h,p,y)=>{let C;h==null?p._vnode&&(Se(p._vnode,null,null,!0),C=p._vnode.component):E(p._vnode||null,h,p,null,null,null,y),p._vnode=h,L||(L=!0,Ii(C),Ca(),L=!1)},$={p:E,um:Se,m:qe,r:vt,mt:wt,mc:Ke,pc:U,pbc:Qe,n:S,o:e};return{render:q,hydrate:void 0,createApp:Ou(q)}}function fr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Yu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ya(e,t,s=!1){const n=e.children,r=t.children;if(Y(n)&&Y(r))for(let i=0;i<n.length;i++){const a=n[i];let o=r[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[i]=Tt(r[i]),o.el=a.el),!s&&o.patchFlag!==-2&&Ya(a,o)),o.type===Xn&&(o.patchFlag===-1&&(o=r[i]=Tt(o)),o.el=a.el),o.type===Vt&&!o.el&&(o.el=a.el)}}function Gu(e){const t=e.slice(),s=[0];let n,r,i,a,o;const l=e.length;for(n=0;n<l;n++){const f=e[n];if(f!==0){if(r=s[s.length-1],e[r]<f){t[n]=r,s.push(n);continue}for(i=0,a=s.length-1;i<a;)o=i+a>>1,e[s[o]]<f?i=o+1:a=o;f<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,a=s[i-1];i-- >0;)s[i]=a,a=t[a];return s}function Ga(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ga(t)}function Vi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Ka(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Ka(t.subTree):null}const Qa=e=>e.__isSuspense;function Ku(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):tu(e)}const ye=Symbol.for("v-fgt"),Xn=Symbol.for("v-txt"),Vt=Symbol.for("v-cmt"),dr=Symbol.for("v-stc"),Qs=[];let Ge=null;function w(e=!1){Qs.push(Ge=e?null:[])}function Qu(){Qs.pop(),Ge=Qs[Qs.length-1]||null}let sn=1;function Pn(e,t=!1){sn+=e,e<0&&Ge&&t&&(Ge.hasOnce=!0)}function za(e){return e.dynamicChildren=sn>0?Ge||ps:null,Qu(),sn>0&&Ge&&Ge.push(e),e}function v(e,t,s,n,r,i){return za(c(e,t,s,n,r,i,!0))}function zu(e,t,s,n,r){return za(ue(e,t,s,n,r,!0))}function In(e){return e?e.__v_isVNode===!0:!1}function Ns(e,t){return e.type===t.type&&e.key===t.key}const Ja=({key:e})=>e??null,En=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||Ie(e)||Q(e)?{i:Ye,r:e,k:t,f:!!s}:e:null);function c(e,t=null,s=null,n=0,r=null,i=e===ye?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ja(t),ref:t&&En(t),scopeId:Sa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ye};return o?(ui(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Ee(s)?8:16),sn>0&&!a&&Ge&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ge.push(l),l}const ue=Ju;function Ju(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===vu)&&(e=Vt),In(e)){const o=vs(e,t,!0);return s&&ui(o,s),sn>0&&!i&&Ge&&(o.shapeFlag&6?Ge[Ge.indexOf(e)]=o:Ge.push(o)),o.patchFlag=-2,o}if(uf(e)&&(e=e.__vccOpts),t){t=Xu(t);let{class:o,style:l}=t;o&&!Ee(o)&&(t.class=z(o)),ce(l)&&(ii(l)&&!Y(l)&&(l=Ae({},l)),t.style=Yn(l))}const a=Ee(e)?1:Qa(e)?128:ou(e)?64:ce(e)?4:Q(e)?2:0;return c(e,t,s,n,r,a,i,!0)}function Xu(e){return e?ii(e)||Ua(e)?Ae({},e):e:null}function vs(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:a,children:o,transition:l}=e,f=t?Zu(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Ja(f),ref:t&&t.ref?s&&i?Y(i)?i.concat(En(t)):[i,En(t)]:En(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ye?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vs(e.ssContent),ssFallback:e.ssFallback&&vs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&ai(u,l.clone(u)),u}function Le(e=" ",t=0){return ue(Xn,null,e,t)}function te(e="",t=!1){return t?(w(),zu(Vt,null,e)):ue(Vt,null,e)}function mt(e){return e==null||typeof e=="boolean"?ue(Vt):Y(e)?ue(ye,null,e.slice()):In(e)?Tt(e):ue(Xn,null,String(e))}function Tt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vs(e)}function ui(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Y(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),ui(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!Ua(t)?t._ctx=Ye:r===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:Ye},s=32):(t=String(t),n&64?(s=16,t=[Le(t)]):s=8);e.children=t,e.shapeFlag|=s}function Zu(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=z([t.class,n.class]));else if(r==="style")t.style=Yn([t.style,n.style]);else if(Wn(r)){const i=t[r],a=n[r];a&&i!==a&&!(Y(i)&&i.includes(a))&&(t[r]=i?[].concat(i,a):a)}else r!==""&&(t[r]=n[r])}return t}function ht(e,t,s,n=null){bt(e,t,7,[s,n])}const ef=Ma();let tf=0;function sf(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||ef,i={uid:tf++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wa(n,r),emitsOptions:Na(n,r),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:n.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Iu.bind(null,i),e.ce&&e.ce(i),i}let Pe=null;const nf=()=>Pe||Ye;let qn,Pr;{const e=jn(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};qn=t("__VUE_INSTANCE_SETTERS__",s=>Pe=s),Pr=t("__VUE_SSR_SETTERS__",s=>nn=s)}const fn=e=>{const t=Pe;return qn(e),e.scope.on(),()=>{e.scope.off(),qn(t)}},ji=()=>{Pe&&Pe.scope.off(),qn(null)};function Xa(e){return e.vnode.shapeFlag&4}let nn=!1;function rf(e,t=!1,s=!1){t&&Pr(t);const{props:n,children:r}=e.vnode,i=Xa(e);Bu(e,n,i,t),Wu(e,r,s||t);const a=i?of(e,t):void 0;return t&&Pr(!1),a}function of(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cu);const{setup:n}=s;if(n){Pt();const r=e.setupContext=n.length>1?lf(e):null,i=fn(e),a=un(n,e,0,[e.props,r]),o=zo(a);if(It(),i(),(o||e.sp)&&!Gs(e)&&Aa(e),o){if(a.then(ji,ji),t)return a.then(l=>{Yi(e,l)}).catch(l=>{Qn(l,e,0)});e.asyncDep=a}else Yi(e,a)}else Za(e)}function Yi(e,t,s){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=_a(t)),Za(e)}function Za(e,t,s){const n=e.type;e.render||(e.render=n.render||yt);{const r=fn(e);Pt();try{Ru(e)}finally{It(),r()}}}const af={get(e,t){return Oe(e,"get",""),e[t]}};function lf(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,af),slots:e.slots,emit:e.emit,expose:t}}function Zn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_a(Vc(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ks)return Ks[s](e)},has(t,s){return s in t||s in Ks}})):e.proxy}function cf(e,t=!0){return Q(e)?e.displayName||e.name:e.name||t&&e.__name}function uf(e){return Q(e)&&"__vccOpts"in e}const st=(e,t)=>zc(e,t,nn);function el(e,t,s){try{Pn(-1);const n=arguments.length;return n===2?ce(t)&&!Y(t)?In(t)?ue(e,null,[t]):ue(e,t):ue(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&In(s)&&(s=[s]),ue(e,t,s))}finally{Pn(1)}}const ff="3.5.28";let Ir;const Gi=typeof window<"u"&&window.trustedTypes;if(Gi)try{Ir=Gi.createPolicy("vue",{createHTML:e=>e})}catch{}const tl=Ir?e=>Ir.createHTML(e):e=>e,df="http://www.w3.org/2000/svg",hf="http://www.w3.org/1998/Math/MathML",Dt=typeof document<"u"?document:null,Ki=Dt&&Dt.createElement("template"),pf={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?Dt.createElementNS(df,e):t==="mathml"?Dt.createElementNS(hf,e):s?Dt.createElement(e,{is:s}):Dt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>Dt.createTextNode(e),createComment:e=>Dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const a=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Ki.innerHTML=tl(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const o=Ki.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},mf=Symbol("_vtc");function yf(e,t,s){const n=e[mf];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Qi=Symbol("_vod"),gf=Symbol("_vsh"),bf=Symbol(""),_f=/(?:^|;)\s*display\s*:/;function wf(e,t,s){const n=e.style,r=Ee(s);let i=!1;if(s&&!r){if(t)if(Ee(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();s[o]==null&&Cn(n,o,"")}else for(const a in t)s[a]==null&&Cn(n,a,"");for(const a in s)a==="display"&&(i=!0),Cn(n,a,s[a])}else if(r){if(t!==s){const a=n[bf];a&&(s+=";"+a),n.cssText=s,i=_f.test(s)}}else t&&e.removeAttribute("style");Qi in e&&(e[Qi]=i?n.display:"",e[gf]&&(n.display="none"))}const zi=/\s*!important$/;function Cn(e,t,s){if(Y(s))s.forEach(n=>Cn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=vf(e,t);zi.test(s)?e.setProperty(os(n),s.replace(zi,""),"important"):e[n]=s}}const Ji=["Webkit","Moz","ms"],hr={};function vf(e,t){const s=hr[t];if(s)return s;let n=tt(t);if(n!=="filter"&&n in e)return hr[t]=n;n=Vn(n);for(let r=0;r<Ji.length;r++){const i=Ji[r]+n;if(i in e)return hr[t]=i}return t}const Xi="http://www.w3.org/1999/xlink";function Zi(e,t,s,n,r,i=Ec(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Xi,t.slice(6,t.length)):e.setAttributeNS(Xi,t,s):s==null||i&&!ea(s)?e.removeAttribute(t):e.setAttribute(t,i?"":gt(s)?String(s):s)}function eo(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?tl(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(o!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const o=typeof e[t];o==="boolean"?s=ea(s):s==null&&o==="string"?(s="",a=!0):o==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(r||t)}function us(e,t,s,n){e.addEventListener(t,s,n)}function Ef(e,t,s,n){e.removeEventListener(t,s,n)}const to=Symbol("_vei");function Cf(e,t,s,n,r=null){const i=e[to]||(e[to]={}),a=i[t];if(n&&a)a.value=n;else{const[o,l]=Rf(t);if(n){const f=i[t]=Tf(n,r);us(e,o,f,l)}else a&&(Ef(e,o,a,l),i[t]=void 0)}}const so=/(?:Once|Passive|Capture)$/;function Rf(e){let t;if(so.test(e)){t={};let n;for(;n=e.match(so);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):os(e.slice(2)),t]}let pr=0;const Sf=Promise.resolve(),Df=()=>pr||(Sf.then(()=>pr=0),pr=Date.now());function Tf(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;bt(xf(n,s.value),t,5,[n])};return s.value=e,s.attached=Df(),s}function xf(e,t){if(Y(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const no=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Af=(e,t,s,n,r,i)=>{const a=r==="svg";t==="class"?yf(e,n,a):t==="style"?wf(e,s,n):Wn(t)?Kr(t)||Cf(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Of(e,t,n,a))?(eo(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Zi(e,t,n,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ee(n))?eo(e,tt(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Zi(e,t,n,a))};function Of(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&no(t)&&Q(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return no(t)&&Ee(s)?!1:t in e}const ro=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?s=>_n(t,s):t};function Pf(e){e.target.composing=!0}function io(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const mr=Symbol("_assign");function oo(e,t,s){return t&&(e=e.trim()),s&&(e=Jr(e)),e}const ao={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[mr]=ro(r);const i=n||r.props&&r.props.type==="number";us(e,t?"change":"input",a=>{a.target.composing||e[mr](oo(e.value,s,i))}),(s||i)&&us(e,"change",()=>{e.value=oo(e.value,s,i)}),t||(us(e,"compositionstart",Pf),us(e,"compositionend",io),us(e,"change",io))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},a){if(e[mr]=ro(a),e.composing)return;const o=(i||e.type==="number")&&!/^0\d/.test(e.value)?Jr(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},If=["ctrl","shift","alt","meta"],qf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>If.some(s=>e[`${s}Key`]&&!t.includes(s))},sl=(e,t)=>{if(!e)return e;const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((r,...i)=>{for(let a=0;a<t.length;a++){const o=qf[t[a]];if(o&&o(r,t))return}return e(r,...i)}))},kf=Ae({patchProp:Af},pf);let lo;function Mf(){return lo||(lo=Vu(kf))}const Nf=((...e)=>{const t=Mf().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Bf(n);if(!r)return;const i=t._component;!Q(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=s(r,!1,Lf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function Lf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Bf(e){return Ee(e)?document.querySelector(e):e}const fs=typeof document<"u";function nl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ff(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&nl(e.default)}const ne=Object.assign;function yr(e,t){const s={};for(const n in t){const r=t[n];s[n]=ot(r)?r.map(e):e(r)}return s}const zs=()=>{},ot=Array.isArray;function co(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}const rl=/#/g,Uf=/&/g,Hf=/\//g,Wf=/=/g,$f=/\?/g,il=/\+/g,Vf=/%5B/g,jf=/%5D/g,ol=/%5E/g,Yf=/%60/g,al=/%7B/g,Gf=/%7C/g,ll=/%7D/g,Kf=/%20/g;function fi(e){return e==null?"":encodeURI(""+e).replace(Gf,"|").replace(Vf,"[").replace(jf,"]")}function Qf(e){return fi(e).replace(al,"{").replace(ll,"}").replace(ol,"^")}function qr(e){return fi(e).replace(il,"%2B").replace(Kf,"+").replace(rl,"%23").replace(Uf,"%26").replace(Yf,"`").replace(al,"{").replace(ll,"}").replace(ol,"^")}function zf(e){return qr(e).replace(Wf,"%3D")}function Jf(e){return fi(e).replace(rl,"%23").replace($f,"%3F")}function Xf(e){return Jf(e).replace(Hf,"%2F")}function rn(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Zf=/\/$/,ed=e=>e.replace(Zf,"");function gr(e,t,s="/"){let n,r={},i="",a="";const o=t.indexOf("#");let l=t.indexOf("?");return l=o>=0&&l>o?-1:l,l>=0&&(n=t.slice(0,l),i=t.slice(l,o>0?o:t.length),r=e(i.slice(1))),o>=0&&(n=n||t.slice(0,o),a=t.slice(o,t.length)),n=rd(n??t,s),{fullPath:n+i+a,path:n,query:r,hash:rn(a)}}function td(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function uo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function sd(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Es(t.matched[n],s.matched[r])&&cl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function cl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!nd(e[s],t[s]))return!1;return!0}function nd(e,t){return ot(e)?fo(e,t):ot(t)?fo(t,e):e?.valueOf()===t?.valueOf()}function fo(e,t){return ot(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function rd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,a,o;for(a=0;a<n.length;a++)if(o=n[a],o!==".")if(o==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(a).join("/")}const Nt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let kr=(function(e){return e.pop="pop",e.push="push",e})({}),br=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function id(e){if(!e)if(fs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ed(e)}const od=/^[^#]+#/;function ad(e,t){return e.replace(od,"#")+t}function ld(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const er=()=>({left:window.scrollX,top:window.scrollY});function cd(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=ld(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ho(e,t){return(history.state?history.state.position-t:-1)+e}const Mr=new Map;function ud(e,t){Mr.set(e,t)}function fd(e){const t=Mr.get(e);return Mr.delete(e),t}function dd(e){return typeof e=="string"||e&&typeof e=="object"}function ul(e){return typeof e=="string"||typeof e=="symbol"}let ge=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const fl=Symbol("");ge.MATCHER_NOT_FOUND+"",ge.NAVIGATION_GUARD_REDIRECT+"",ge.NAVIGATION_ABORTED+"",ge.NAVIGATION_CANCELLED+"",ge.NAVIGATION_DUPLICATED+"";function Cs(e,t){return ne(new Error,{type:e,[fl]:!0},t)}function Ct(e,t){return e instanceof Error&&fl in e&&(t==null||!!(e.type&t))}const hd=["params","query","hash"];function pd(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of hd)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function md(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const r=s[n].replace(il," "),i=r.indexOf("="),a=rn(i<0?r:r.slice(0,i)),o=i<0?null:rn(r.slice(i+1));if(a in t){let l=t[a];ot(l)||(l=t[a]=[l]),l.push(o)}else t[a]=o}return t}function po(e){let t="";for(let s in e){const n=e[s];if(s=zf(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(ot(n)?n.map(r=>r&&qr(r)):[n&&qr(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function yd(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=ot(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const gd=Symbol(""),mo=Symbol(""),di=Symbol(""),dl=Symbol(""),Nr=Symbol("");function Ls(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ut(e,t,s,n,r,i=a=>a()){const a=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((o,l)=>{const f=m=>{m===!1?l(Cs(ge.NAVIGATION_ABORTED,{from:s,to:t})):m instanceof Error?l(m):dd(m)?l(Cs(ge.NAVIGATION_GUARD_REDIRECT,{from:t,to:m})):(a&&n.enterCallbacks[r]===a&&typeof m=="function"&&a.push(m),o())},u=i(()=>e.call(n&&n.instances[r],t,s,f));let d=Promise.resolve(u);e.length<3&&(d=d.then(f)),d.catch(m=>l(m))})}function _r(e,t,s,n,r=i=>i()){const i=[];for(const a of e)for(const o in a.components){let l=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(nl(l)){const f=(l.__vccOpts||l)[t];f&&i.push(Ut(f,s,n,a,o,r))}else{let f=l();i.push(()=>f.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const d=Ff(u)?u.default:u;a.mods[o]=u,a.components[o]=d;const m=(d.__vccOpts||d)[t];return m&&Ut(m,s,n,a,o,r)()}))}}return i}function bd(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const o=t.matched[a];o&&(e.matched.find(f=>Es(f,o))?n.push(o):s.push(o));const l=e.matched[a];l&&(t.matched.find(f=>Es(f,l))||r.push(l))}return[s,n,r]}let _d=()=>location.protocol+"//"+location.host;function hl(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,o=r.slice(a);return o[0]!=="/"&&(o="/"+o),uo(o,"")}return uo(s,e)+n+r}function wd(e,t,s,n){let r=[],i=[],a=null;const o=({state:m})=>{const g=hl(e,location),A=s.value,E=t.value;let F=0;if(m){if(s.value=g,t.value=m,a&&a===A){a=null;return}F=E?m.position-E.position:0}else n(g);r.forEach(H=>{H(s.value,A,{delta:F,type:kr.pop,direction:F?F>0?br.forward:br.back:br.unknown})})};function l(){a=s.value}function f(m){r.push(m);const g=()=>{const A=r.indexOf(m);A>-1&&r.splice(A,1)};return i.push(g),g}function u(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(ne({},m.state,{scroll:er()}),"")}}function d(){for(const m of i)m();i=[],window.removeEventListener("popstate",o),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",o),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:f,destroy:d}}function yo(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?er():null}}function vd(e){const{history:t,location:s}=window,n={value:hl(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,f,u){const d=e.indexOf("#"),m=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+l:_d()+e+l;try{t[u?"replaceState":"pushState"](f,"",m),r.value=f}catch(g){console.error(g),s[u?"replace":"assign"](m)}}function a(l,f){i(l,ne({},t.state,yo(r.value.back,l,r.value.forward,!0),f,{position:r.value.position}),!0),n.value=l}function o(l,f){const u=ne({},r.value,t.state,{forward:l,scroll:er()});i(u.current,u,!0),i(l,ne({},yo(n.value,l,null),{position:u.position+1},f),!1),n.value=l}return{location:n,state:r,push:o,replace:a}}function Ed(e){e=id(e);const t=vd(e),s=wd(e,t.state,t.location,t.replace);function n(i,a=!0){a||s.pauseListeners(),history.go(i)}const r=ne({location:"",base:e,go:n,createHref:ad.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Cd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Ed(e)}let Zt=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Re=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Re||{});const Rd={type:Zt.Static,value:""},Sd=/[a-zA-Z0-9_]/;function Dd(e){if(!e)return[[]];if(e==="/")return[[Rd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${s})/"${f}": ${g}`)}let s=Re.Static,n=s;const r=[];let i;function a(){i&&r.push(i),i=[]}let o=0,l,f="",u="";function d(){f&&(s===Re.Static?i.push({type:Zt.Static,value:f}):s===Re.Param||s===Re.ParamRegExp||s===Re.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Zt.Param,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),f="")}function m(){f+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&s!==Re.ParamRegExp){n=s,s=Re.EscapeNext;continue}switch(s){case Re.Static:l==="/"?(f&&d(),a()):l===":"?(d(),s=Re.Param):m();break;case Re.EscapeNext:m(),s=n;break;case Re.Param:l==="("?s=Re.ParamRegExp:Sd.test(l)?m():(d(),s=Re.Static,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case Re.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=Re.ParamRegExpEnd:u+=l;break;case Re.ParamRegExpEnd:d(),s=Re.Static,l!=="*"&&l!=="?"&&l!=="+"&&o--,u="";break;default:t("Unknown state");break}}return s===Re.ParamRegExp&&t(`Unfinished custom RegExp for param "${f}"`),d(),a(),r}const go="[^/]+?",Td={sensitive:!1,strict:!1,start:!0,end:!0};var Ne=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(Ne||{});const xd=/[.+*?^${}()[\]/\\]/g;function Ad(e,t){const s=ne({},Td,t),n=[];let r=s.start?"^":"";const i=[];for(const f of e){const u=f.length?[]:[Ne.Root];s.strict&&!f.length&&(r+="/");for(let d=0;d<f.length;d++){const m=f[d];let g=Ne.Segment+(s.sensitive?Ne.BonusCaseSensitive:0);if(m.type===Zt.Static)d||(r+="/"),r+=m.value.replace(xd,"\\$&"),g+=Ne.Static;else if(m.type===Zt.Param){const{value:A,repeatable:E,optional:F,regexp:H}=m;i.push({name:A,repeatable:E,optional:F});const k=H||go;if(k!==go){g+=Ne.BonusCustomRegExp;try{`${k}`}catch(B){throw new Error(`Invalid custom RegExp for param "${A}" (${k}): `+B.message)}}let W=E?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(W=F&&f.length<2?`(?:/${W})`:"/"+W),F&&(W+="?"),r+=W,g+=Ne.Dynamic,F&&(g+=Ne.BonusOptional),E&&(g+=Ne.BonusRepeatable),k===".*"&&(g+=Ne.BonusWildcard)}u.push(g)}n.push(u)}if(s.strict&&s.end){const f=n.length-1;n[f][n[f].length-1]+=Ne.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function o(f){const u=f.match(a),d={};if(!u)return null;for(let m=1;m<u.length;m++){const g=u[m]||"",A=i[m-1];d[A.name]=g&&A.repeatable?g.split("/"):g}return d}function l(f){let u="",d=!1;for(const m of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const g of m)if(g.type===Zt.Static)u+=g.value;else if(g.type===Zt.Param){const{value:A,repeatable:E,optional:F}=g,H=A in f?f[A]:"";if(ot(H)&&!E)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const k=ot(H)?H.join("/"):H;if(!k)if(F)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${A}"`);u+=k}}return u||"/"}return{re:a,score:n,keys:i,parse:o,stringify:l}}function Od(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===Ne.Static+Ne.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ne.Static+Ne.Segment?1:-1:0}function pl(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=Od(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(bo(n))return 1;if(bo(r))return-1}return r.length-n.length}function bo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Pd={strict:!1,end:!0,sensitive:!1};function Id(e,t,s){const n=Ad(Dd(e.path),s),r=ne(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function qd(e,t){const s=[],n=new Map;t=co(Pd,t);function r(d){return n.get(d)}function i(d,m,g){const A=!g,E=wo(d);E.aliasOf=g&&g.record;const F=co(t,d),H=[E];if("alias"in d){const B=typeof d.alias=="string"?[d.alias]:d.alias;for(const se of B)H.push(wo(ne({},E,{components:g?g.record.components:E.components,path:se,aliasOf:g?g.record:E})))}let k,W;for(const B of H){const{path:se}=B;if(m&&se[0]!=="/"){const we=m.record.path,pe=we[we.length-1]==="/"?"":"/";B.path=m.record.path+(se&&pe+se)}if(k=Id(B,m,F),g?g.alias.push(k):(W=W||k,W!==k&&W.alias.push(k),A&&d.name&&!vo(k)&&a(d.name)),ml(k)&&l(k),E.children){const we=E.children;for(let pe=0;pe<we.length;pe++)i(we[pe],k,g&&g.children[pe])}g=g||k}return W?()=>{a(W)}:zs}function a(d){if(ul(d)){const m=n.get(d);m&&(n.delete(d),s.splice(s.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=s.indexOf(d);m>-1&&(s.splice(m,1),d.record.name&&n.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function o(){return s}function l(d){const m=Nd(d,s);s.splice(m,0,d),d.record.name&&!vo(d)&&n.set(d.record.name,d)}function f(d,m){let g,A={},E,F;if("name"in d&&d.name){if(g=n.get(d.name),!g)throw Cs(ge.MATCHER_NOT_FOUND,{location:d});F=g.record.name,A=ne(_o(m.params,g.keys.filter(W=>!W.optional).concat(g.parent?g.parent.keys.filter(W=>W.optional):[]).map(W=>W.name)),d.params&&_o(d.params,g.keys.map(W=>W.name))),E=g.stringify(A)}else if(d.path!=null)E=d.path,g=s.find(W=>W.re.test(E)),g&&(A=g.parse(E),F=g.record.name);else{if(g=m.name?n.get(m.name):s.find(W=>W.re.test(m.path)),!g)throw Cs(ge.MATCHER_NOT_FOUND,{location:d,currentLocation:m});F=g.record.name,A=ne({},m.params,d.params),E=g.stringify(A)}const H=[];let k=g;for(;k;)H.unshift(k.record),k=k.parent;return{name:F,path:E,params:A,matched:H,meta:Md(H)}}e.forEach(d=>i(d));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:f,removeRoute:a,clearRoutes:u,getRoutes:o,getRecordMatcher:r}}function _o(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function wo(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:kd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function kd(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function vo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Md(e){return e.reduce((t,s)=>ne(t,s.meta),{})}function Nd(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;pl(e,t[i])<0?n=i:s=i+1}const r=Ld(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function Ld(e){let t=e;for(;t=t.parent;)if(ml(t)&&pl(e,t)===0)return t}function ml({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Eo(e){const t=Ot(di),s=Ot(dl),n=st(()=>{const l=ys(e.to);return t.resolve(l)}),r=st(()=>{const{matched:l}=n.value,{length:f}=l,u=l[f-1],d=s.matched;if(!u||!d.length)return-1;const m=d.findIndex(Es.bind(null,u));if(m>-1)return m;const g=Co(l[f-2]);return f>1&&Co(u)===g&&d[d.length-1].path!==g?d.findIndex(Es.bind(null,l[f-2])):m}),i=st(()=>r.value>-1&&Wd(s.params,n.value.params)),a=st(()=>r.value>-1&&r.value===s.matched.length-1&&cl(s.params,n.value.params));function o(l={}){if(Hd(l)){const f=t[ys(e.replace)?"replace":"push"](ys(e.to)).catch(zs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:n,href:st(()=>n.value.href),isActive:i,isExactActive:a,navigate:o}}function Bd(e){return e.length===1?e[0]:e}const Fd=xa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Eo,setup(e,{slots:t}){const s=Kn(Eo(e)),{options:n}=Ot(di),r=st(()=>({[Ro(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ro(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Bd(t.default(s));return e.custom?i:el("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),Ud=Fd;function Hd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Wd(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!ot(r)||r.length!==n.length||n.some((i,a)=>i.valueOf()!==r[a].valueOf()))return!1}return!0}function Co(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ro=(e,t,s)=>e??t??s,$d=xa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Ot(Nr),r=st(()=>e.route||n.value),i=Ot(mo,0),a=st(()=>{let f=ys(i);const{matched:u}=r.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),o=st(()=>r.value.matched[a.value]);wn(mo,st(()=>a.value+1)),wn(gd,o),wn(Nr,r);const l=jc();return vn(()=>[l.value,o.value,e.name],([f,u,d],[m,g,A])=>{u&&(u.instances[d]=f,g&&g!==u&&f&&f===m&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),f&&u&&(!g||!Es(u,g)||!m)&&(u.enterCallbacks[d]||[]).forEach(E=>E(f))},{flush:"post"}),()=>{const f=r.value,u=e.name,d=o.value,m=d&&d.components[u];if(!m)return So(s.default,{Component:m,route:f});const g=d.props[u],A=g?g===!0?f.params:typeof g=="function"?g(f):g:null,F=el(m,ne({},A,t,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return So(s.default,{Component:F,route:f})||F}}});function So(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Vd=$d;function jd(e){const t=qd(e.routes,e),s=e.parseQuery||md,n=e.stringifyQuery||po,r=e.history,i=Ls(),a=Ls(),o=Ls(),l=Yc(Nt);let f=Nt;fs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=yr.bind(null,S=>""+S),d=yr.bind(null,Xf),m=yr.bind(null,rn);function g(S,L){let q,$;return ul(S)?(q=t.getRecordMatcher(S),$=L):$=S,t.addRoute($,q)}function A(S){const L=t.getRecordMatcher(S);L&&t.removeRoute(L)}function E(){return t.getRoutes().map(S=>S.record)}function F(S){return!!t.getRecordMatcher(S)}function H(S,L){if(L=ne({},L||l.value),typeof S=="string"){const y=gr(s,S,L.path),C=t.resolve({path:y.path},L),T=r.createHref(y.fullPath);return ne(y,C,{params:m(C.params),hash:rn(y.hash),redirectedFrom:void 0,href:T})}let q;if(S.path!=null)q=ne({},S,{path:gr(s,S.path,L.path).path});else{const y=ne({},S.params);for(const C in y)y[C]==null&&delete y[C];q=ne({},S,{params:d(y)}),L.params=d(L.params)}const $=t.resolve(q,L),X=S.hash||"";$.params=u(m($.params));const h=td(n,ne({},S,{hash:Qf(X),path:$.path})),p=r.createHref(h);return ne({fullPath:h,hash:X,query:n===po?yd(S.query):S.query||{}},$,{redirectedFrom:void 0,href:p})}function k(S){return typeof S=="string"?gr(s,S,l.value.path):ne({},S)}function W(S,L){if(f!==S)return Cs(ge.NAVIGATION_CANCELLED,{from:L,to:S})}function B(S){return pe(S)}function se(S){return B(ne(k(S),{replace:!0}))}function we(S,L){const q=S.matched[S.matched.length-1];if(q&&q.redirect){const{redirect:$}=q;let X=typeof $=="function"?$(S,L):$;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=k(X):{path:X},X.params={}),ne({query:S.query,hash:S.hash,params:X.path!=null?{}:S.params},X)}}function pe(S,L){const q=f=H(S),$=l.value,X=S.state,h=S.force,p=S.replace===!0,y=we(q,$);if(y)return pe(ne(k(y),{state:typeof y=="object"?ne({},X,y.state):X,force:h,replace:p}),L||q);const C=q;C.redirectedFrom=L;let T;return!h&&sd(n,$,q)&&(T=Cs(ge.NAVIGATION_DUPLICATED,{to:C,from:$}),qe($,$,!0,!1)),(T?Promise.resolve(T):Qe(C,$)).catch(R=>Ct(R)?Ct(R,ge.NAVIGATION_GUARD_REDIRECT)?R:K(R):U(R,C,$)).then(R=>{if(R){if(Ct(R,ge.NAVIGATION_GUARD_REDIRECT))return pe(ne({replace:p},k(R.to),{state:typeof R.to=="object"?ne({},X,R.to.state):X,force:h}),L||C)}else R=Ce(C,$,!0,p,X);return ct(C,$,R),R})}function Ke(S,L){const q=W(S,L);return q?Promise.reject(q):Promise.resolve()}function De(S){const L=me.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(S):S()}function Qe(S,L){let q;const[$,X,h]=bd(S,L);q=_r($.reverse(),"beforeRouteLeave",S,L);for(const y of $)y.leaveGuards.forEach(C=>{q.push(Ut(C,S,L))});const p=Ke.bind(null,S,L);return q.push(p),Je(q).then(()=>{q=[];for(const y of i.list())q.push(Ut(y,S,L));return q.push(p),Je(q)}).then(()=>{q=_r(X,"beforeRouteUpdate",S,L);for(const y of X)y.updateGuards.forEach(C=>{q.push(Ut(C,S,L))});return q.push(p),Je(q)}).then(()=>{q=[];for(const y of h)if(y.beforeEnter)if(ot(y.beforeEnter))for(const C of y.beforeEnter)q.push(Ut(C,S,L));else q.push(Ut(y.beforeEnter,S,L));return q.push(p),Je(q)}).then(()=>(S.matched.forEach(y=>y.enterCallbacks={}),q=_r(h,"beforeRouteEnter",S,L,De),q.push(p),Je(q))).then(()=>{q=[];for(const y of a.list())q.push(Ut(y,S,L));return q.push(p),Je(q)}).catch(y=>Ct(y,ge.NAVIGATION_CANCELLED)?y:Promise.reject(y))}function ct(S,L,q){o.list().forEach($=>De(()=>$(S,L,q)))}function Ce(S,L,q,$,X){const h=W(S,L);if(h)return h;const p=L===Nt,y=fs?history.state:{};q&&($||p?r.replace(S.fullPath,ne({scroll:p&&y&&y.scroll},X)):r.push(S.fullPath,X)),l.value=S,qe(S,L,q,p),K()}let ze;function wt(){ze||(ze=r.listen((S,L,q)=>{if(!ke.listening)return;const $=H(S),X=we($,ke.currentRoute.value);if(X){pe(ne(X,{replace:!0,force:!0}),$).catch(zs);return}f=$;const h=l.value;fs&&ud(ho(h.fullPath,q.delta),er()),Qe($,h).catch(p=>Ct(p,ge.NAVIGATION_ABORTED|ge.NAVIGATION_CANCELLED)?p:Ct(p,ge.NAVIGATION_GUARD_REDIRECT)?(pe(ne(k(p.to),{force:!0}),$).then(y=>{Ct(y,ge.NAVIGATION_ABORTED|ge.NAVIGATION_DUPLICATED)&&!q.delta&&q.type===kr.pop&&r.go(-1,!1)}).catch(zs),Promise.reject()):(q.delta&&r.go(-q.delta,!1),U(p,$,h))).then(p=>{p=p||Ce($,h,!1),p&&(q.delta&&!Ct(p,ge.NAVIGATION_CANCELLED)?r.go(-q.delta,!1):q.type===kr.pop&&Ct(p,ge.NAVIGATION_ABORTED|ge.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),ct($,h,p)}).catch(zs)}))}let b=Ls(),D=Ls(),N;function U(S,L,q){K(S);const $=D.list();return $.length?$.forEach(X=>X(S,L,q)):console.error(S),Promise.reject(S)}function ee(){return N&&l.value!==Nt?Promise.resolve():new Promise((S,L)=>{b.add([S,L])})}function K(S){return N||(N=!S,wt(),b.list().forEach(([L,q])=>S?q(S):L()),b.reset()),S}function qe(S,L,q,$){const{scrollBehavior:X}=e;if(!fs||!X)return Promise.resolve();const h=!q&&fd(ho(S.fullPath,0))||($||!q)&&history.state&&history.state.scroll||null;return va().then(()=>X(S,L,h)).then(p=>p&&cd(p)).catch(p=>U(p,S,L))}const Se=S=>r.go(S);let vt;const me=new Set,ke={currentRoute:l,listening:!0,addRoute:g,removeRoute:A,clearRoutes:t.clearRoutes,hasRoute:F,getRoutes:E,resolve:H,options:e,push:B,replace:se,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:i.add,beforeResolve:a.add,afterEach:o.add,onError:D.add,isReady:ee,install(S){S.component("RouterLink",Ud),S.component("RouterView",Vd),S.config.globalProperties.$router=ke,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>ys(l)}),fs&&!vt&&l.value===Nt&&(vt=!0,B(r.location).catch($=>{}));const L={};for(const $ in Nt)Object.defineProperty(L,$,{get:()=>l.value[$],enumerable:!0});S.provide(di,ke),S.provide(dl,ga(L)),S.provide(Nr,l);const q=S.unmount;me.add(S),S.unmount=function(){me.delete(S),me.size<1&&(f=Nt,ze&&ze(),ze=null,l.value=Nt,vt=!1,N=!1),q()}}};function Je(S){return S.reduce((L,q)=>L.then(()=>De(q)),Promise.resolve())}return ke}const Yd="1.0.0",Gd=[{version:"1.0.0",date:"2026-02-14",changes:["Initial release","Turso DB   ","6   (Dashboard, News, Analyses, Trades, Positions, Portfolio)","  ","  "]}],Do={version:Yd,changes:Gd},Mt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},Kd={name:"App",data(){return{version:Do.version,changeLog:Do.changes,showChangeLog:!1}}},Qd={id:"app"},zd={class:"navbar"},Jd={class:"container"},Xd={class:"navbar-nav"},Zd={class:"container"},eh={class:"changelog-header"},th={class:"changelog-body"},sh={class:"version-tag"},nh={class:"version-date"},rh={class:"change-list"};function ih(e,t,s,n,r,i){const a=$t("router-link"),o=$t("router-view");return w(),v("div",Qd,[c("nav",zd,[c("div",Jd,[ue(a,{to:"/",class:"navbar-brand"},{default:St(()=>[...t[4]||(t[4]=[Le("  Crypto Trading Dashboard ",-1)])]),_:1}),c("ul",Xd,[c("li",null,[ue(a,{to:"/",class:"nav-link"},{default:St(()=>[...t[5]||(t[5]=[Le("",-1)])]),_:1})]),c("li",null,[ue(a,{to:"/timeline",class:"nav-link"},{default:St(()=>[...t[6]||(t[6]=[Le(" ",-1)])]),_:1})]),c("li",null,[ue(a,{to:"/news",class:"nav-link"},{default:St(()=>[...t[7]||(t[7]=[Le("",-1)])]),_:1})]),c("li",null,[ue(a,{to:"/analyses",class:"nav-link"},{default:St(()=>[...t[8]||(t[8]=[Le("",-1)])]),_:1})]),c("li",null,[ue(a,{to:"/trades",class:"nav-link"},{default:St(()=>[...t[9]||(t[9]=[Le("",-1)])]),_:1})]),c("li",null,[ue(a,{to:"/positions",class:"nav-link"},{default:St(()=>[...t[10]||(t[10]=[Le("",-1)])]),_:1})]),c("li",null,[ue(a,{to:"/portfolio",class:"nav-link"},{default:St(()=>[...t[11]||(t[11]=[Le("",-1)])]),_:1})])])])]),c("main",Zd,[ue(o)]),c("div",{class:"version-badge",onClick:t[0]||(t[0]=l=>r.showChangeLog=!r.showChangeLog)}," v"+_(r.version),1),r.showChangeLog?(w(),v("div",{key:0,class:"changelog-modal",onClick:t[3]||(t[3]=l=>r.showChangeLog=!1)},[c("div",{class:"changelog-content",onClick:t[2]||(t[2]=sl(()=>{},["stop"]))},[c("div",eh,[t[12]||(t[12]=c("h2",null,"  ",-1)),c("button",{class:"close-btn",onClick:t[1]||(t[1]=l=>r.showChangeLog=!1)},"")]),c("div",th,[(w(!0),v(ye,null,Fe(r.changeLog,l=>(w(),v("div",{key:l.version,class:"changelog-item"},[c("div",sh,"v"+_(l.version),1),c("div",nh,_(l.date),1),c("ul",rh,[(w(!0),v(ye,null,Fe(l.changes,(f,u)=>(w(),v("li",{key:u},_(f),1))),128))])]))),128))])])])):te("",!0)])}const oh=Mt(Kd,[["render",ih],["__scopeId","data-v-777b008e"]]);class oe extends Error{code;extendedCode;rawCode;constructor(t,s,n,r,i){s!==void 0&&(t=`${s}: ${t}`),super(t,{cause:i}),this.code=s,this.extendedCode=n,this.rawCode=r,this.name="LibsqlError"}}class ss extends oe{statementIndex;constructor(t,s,n,r,i,a){super(t,n,r,i,a),this.statementIndex=s,this.name="LibsqlBatchError"}}function ah(e){const t=lh.exec(e);if(t===null)throw new oe(`The URL '${e}' is not in a valid format`,"URL_INVALID");const s=t.groups,n=s.scheme,r=s.authority!==void 0?ch(s.authority):void 0,i=ns(s.path),a=s.query!==void 0?fh(s.query):void 0,o=s.fragment!==void 0?ns(s.fragment):void 0;return{scheme:n,authority:r,path:i,query:a,fragment:o}}const lh=(()=>{const e="(?<scheme>[A-Za-z][A-Za-z.+-]*)",t="(?<authority>[^/?#]*)",s="(?<path>[^?#]*)",n="(?<query>[^#]*)",r="(?<fragment>.*)";return new RegExp(`^${e}:(//${t})?${s}(\\?${n})?(#${r})?$`,"su")})();function ch(e){const t=uh.exec(e);if(t===null)throw new oe("The authority part of the URL is not in a valid format","URL_INVALID");const s=t.groups,n=ns(s.host_br??s.host),r=s.port?parseInt(s.port,10):void 0,i=s.username!==void 0?{username:ns(s.username),password:s.password!==void 0?ns(s.password):void 0}:void 0;return{host:n,port:r,userinfo:i}}const uh=new RegExp("^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$","su");function fh(e){const t=e.split("&"),s=[];for(const n of t){if(n==="")continue;let r,i;const a=n.indexOf("=");a<0?(r=n,i=""):(r=n.substring(0,a),i=n.substring(a+1)),s.push({key:ns(r.replaceAll("+"," ")),value:ns(i.replaceAll("+"," "))})}return{pairs:s}}function ns(e){try{return decodeURIComponent(e)}catch(t){throw t instanceof URIError?new oe(`URL component has invalid percent encoding: ${t}`,"URL_INVALID",void 0,void 0,t):t}}function Lr(e,t,s){if(t===void 0)throw new oe(`URL with scheme ${JSON.stringify(e+":")} requires authority (the "//" part)`,"URL_INVALID");const n=`${e}:`,r=dh(t.host),i=hh(t.port),o=`//${ph(t.userinfo)}${r}${i}`;let l=s.split("/").map(encodeURIComponent).join("/");return l!==""&&!l.startsWith("/")&&(l="/"+l),new URL(`${n}${o}${l}`)}function dh(e){return e.includes(":")?`[${encodeURI(e)}]`:encodeURI(e)}function hh(e){return e!==void 0?`:${e}`:""}function ph(e){if(e===void 0)return"";const t=encodeURIComponent(e.username),s=e.password!==void 0?`:${encodeURIComponent(e.password)}`:"";return`${t}${s}@`}const yl="3.7.8",mh=yl,xs=typeof Buffer=="function",To=typeof TextDecoder=="function"?new TextDecoder:void 0,xo=typeof TextEncoder=="function"?new TextEncoder:void 0,yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Hs=Array.prototype.slice.call(yh),yn=(e=>{let t={};return e.forEach((s,n)=>t[s]=n),t})(Hs),gh=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Te=String.fromCharCode.bind(String),Ao=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),gl=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),bl=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),_l=e=>{let t,s,n,r,i="";const a=e.length%3;for(let o=0;o<e.length;){if((s=e.charCodeAt(o++))>255||(n=e.charCodeAt(o++))>255||(r=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=s<<16|n<<8|r,i+=Hs[t>>18&63]+Hs[t>>12&63]+Hs[t>>6&63]+Hs[t&63]}return a?i.slice(0,a-3)+"===".substring(a):i},hi=typeof btoa=="function"?e=>btoa(e):xs?e=>Buffer.from(e,"binary").toString("base64"):_l,Br=xs?e=>Buffer.from(e).toString("base64"):e=>{let s=[];for(let n=0,r=e.length;n<r;n+=4096)s.push(Te.apply(null,e.subarray(n,n+4096)));return hi(s.join(""))},Rn=(e,t=!1)=>t?gl(Br(e)):Br(e),bh=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Te(192|t>>>6)+Te(128|t&63):Te(224|t>>>12&15)+Te(128|t>>>6&63)+Te(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Te(240|t>>>18&7)+Te(128|t>>>12&63)+Te(128|t>>>6&63)+Te(128|t&63)}},_h=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,wl=e=>e.replace(_h,bh),Oo=xs?e=>Buffer.from(e,"utf8").toString("base64"):xo?e=>Br(xo.encode(e)):e=>hi(wl(e)),_s=(e,t=!1)=>t?gl(Oo(e)):Oo(e),Po=e=>_s(e,!0),wh=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,vh=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),s=t-65536;return Te((s>>>10)+55296)+Te((s&1023)+56320);case 3:return Te((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Te((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},vl=e=>e.replace(wh,vh),El=e=>{if(e=e.replace(/\s+/g,""),!gh.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,s,n,r=[];for(let i=0;i<e.length;)t=yn[e.charAt(i++)]<<18|yn[e.charAt(i++)]<<12|(s=yn[e.charAt(i++)])<<6|(n=yn[e.charAt(i++)]),s===64?r.push(Te(t>>16&255)):n===64?r.push(Te(t>>16&255,t>>8&255)):r.push(Te(t>>16&255,t>>8&255,t&255));return r.join("")},pi=typeof atob=="function"?e=>atob(bl(e)):xs?e=>Buffer.from(e,"base64").toString("binary"):El,Cl=xs?e=>Ao(Buffer.from(e,"base64")):e=>Ao(pi(e).split("").map(t=>t.charCodeAt(0))),Rl=e=>Cl(Sl(e)),Eh=xs?e=>Buffer.from(e,"base64").toString("utf8"):To?e=>To.decode(Cl(e)):e=>vl(pi(e)),Sl=e=>bl(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Fr=e=>Eh(Sl(e)),Ch=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Dl=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),Tl=function(){const e=(t,s)=>Object.defineProperty(String.prototype,t,Dl(s));e("fromBase64",function(){return Fr(this)}),e("toBase64",function(t){return _s(this,t)}),e("toBase64URI",function(){return _s(this,!0)}),e("toBase64URL",function(){return _s(this,!0)}),e("toUint8Array",function(){return Rl(this)})},xl=function(){const e=(t,s)=>Object.defineProperty(Uint8Array.prototype,t,Dl(s));e("toBase64",function(t){return Rn(this,t)}),e("toBase64URI",function(){return Rn(this,!0)}),e("toBase64URL",function(){return Rn(this,!0)})},Rh=()=>{Tl(),xl()},mi={version:yl,VERSION:mh,atob:pi,atobPolyfill:El,btoa:hi,btoaPolyfill:_l,fromBase64:Fr,toBase64:_s,encode:_s,encodeURI:Po,encodeURL:Po,utob:wl,btou:vl,decode:Fr,isValid:Ch,fromUint8Array:Rn,toUint8Array:Rl,extendString:Tl,extendUint8Array:xl,extendBuiltins:Rh},on="https://github.com/libsql/libsql-client-ts#supported-urls";function Ur(e){if(e==="write")return"BEGIN IMMEDIATE";if(e==="read")return"BEGIN TRANSACTION READONLY";if(e==="deferred")return"BEGIN DEFERRED";throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"')}class Sh{columns;columnTypes;rows;rowsAffected;lastInsertRowid;constructor(t,s,n,r,i){this.columns=t,this.columnTypes=s,this.rows=n,this.rowsAffected=r,this.lastInsertRowid=i}toJSON(){return{columns:this.columns,columnTypes:this.columnTypes,rows:this.rows.map(Dh),rowsAffected:this.rowsAffected,lastInsertRowid:this.lastInsertRowid!==void 0?""+this.lastInsertRowid:null}}}function Dh(e){return Array.prototype.map.call(e,Th)}function Th(e){return typeof e=="bigint"?""+e:e instanceof ArrayBuffer?mi.fromUint8Array(new Uint8Array(e)):e}const Io=":memory:";function xh(e,t){if(typeof e!="object")throw new TypeError(`Expected client configuration as object, got ${typeof e}`);let{url:s,authToken:n,tls:r,intMode:i,concurrency:a}=e;a=Math.max(0,a||20),i??="number";let o=[];s===Io&&(s="file::memory:");const l=ah(s),f=l.scheme.toLowerCase(),u=f==="file"&&l.path===Io&&l.authority===void 0;let d;u?d={cache:{values:["shared","private"],update:(E,F)=>o.push(`${E}=${F}`)}}:d={tls:{values:["0","1"],update:(E,F)=>r=F==="1"},authToken:{update:(E,F)=>n=F}};for(const{key:E,value:F}of l.query?.pairs??[]){if(!Object.hasOwn(d,E))throw new oe(`Unsupported URL query parameter ${JSON.stringify(E)}`,"URL_PARAM_NOT_SUPPORTED");const H=d[E];if(H.values!==void 0&&!H.values.includes(F))throw new oe(`Unknown value for the "${E}" query argument: ${JSON.stringify(F)}. Supported values are: [${H.values.map(k=>'"'+k+'"').join(", ")}]`,"URL_INVALID");H.update!==void 0&&H?.update(E,F)}const m=o.length===0?"":`?${o.join("&")}`,g=l.path+m;let A;if(f==="libsql")if(r===!1){if(l.authority?.port===void 0)throw new oe('A "libsql:" URL with ?tls=0 must specify an explicit port',"URL_INVALID");A="http"}else A="https";else A=f;if(A==="http"||A==="ws"?r??=!1:r??=!0,A!=="http"&&A!=="ws"&&A!=="https"&&A!=="wss"&&A!=="file")throw new oe(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(l.scheme+":")}. For more information, please read ${on}`,"URL_SCHEME_NOT_SUPPORTED");if(i!=="number"&&i!=="bigint"&&i!=="string")throw new TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(i)}`);if(l.fragment!==void 0)throw new oe(`URL fragments are not supported: ${JSON.stringify("#"+l.fragment)}`,"URL_INVALID");return u?{scheme:"file",tls:!1,path:g,intMode:i,concurrency:a,syncUrl:e.syncUrl,syncInterval:e.syncInterval,readYourWrites:e.readYourWrites,offline:e.offline,fetch:e.fetch,authToken:void 0,encryptionKey:void 0,remoteEncryptionKey:void 0,authority:void 0}:{scheme:A,tls:r,authority:l.authority,path:g,authToken:n,intMode:i,concurrency:a,encryptionKey:e.encryptionKey,remoteEncryptionKey:e.remoteEncryptionKey,syncUrl:e.syncUrl,syncInterval:e.syncInterval,readYourWrites:e.readYourWrites,offline:e.offline,fetch:e.fetch}}let ds;typeof WebSocket<"u"?ds=WebSocket:typeof global<"u"?ds=global.WebSocket:typeof window<"u"?ds=window.WebSocket:typeof self<"u"&&(ds=self.WebSocket);class Al{constructor(){this.intMode="number"}intMode}class _e extends Error{constructor(t){super(t),this.name="ClientError"}}class J extends _e{constructor(t){super(t),this.name="ProtoError"}}class Ol extends _e{code;proto;constructor(t,s){super(t),this.name="ResponseError",this.code=s.code,this.proto=s,this.stack=void 0}}class et extends _e{constructor(t,s){s!==void 0?(super(`${t}: ${s}`),this.cause=s):super(t),this.name="ClosedError"}}class Pl extends _e{constructor(t){super(t),this.name="WebSocketUnsupportedError"}}class Hr extends _e{constructor(t){super(t),this.name="WebSocketError"}}class Sn extends _e{status;constructor(t,s){super(t),this.status=s,this.name="HttpServerError"}}class Rs extends _e{constructor(t){super(t),this.name="ProtocolVersionError"}}class jt extends _e{constructor(t){super(t),this.name="InternalError"}}class As extends _e{constructor(t){super(t),this.name="MisuseError"}}function nt(e){if(typeof e=="string")return e;throw Os(e,"string")}function at(e){if(e!=null){if(typeof e=="string")return e;throw Os(e,"string or null")}}function rs(e){if(typeof e=="number")return e;throw Os(e,"number")}function an(e){if(typeof e=="boolean")return e;throw Os(e,"boolean")}function kn(e){if(Array.isArray(e))return e;throw Os(e,"array")}function xe(e){if(e!==null&&typeof e=="object"&&!Array.isArray(e))return e;throw Os(e,"object")}function Yt(e,t){return kn(e).map(s=>t(xe(s)))}function Os(e,t){if(e===void 0)return new J(`Expected ${t}, but the property was missing`);let s=typeof e;return e===null?s="null":Array.isArray(e)&&(s="array"),new J(`Expected ${t}, received ${s}`)}function yi(e,t){return t(xe(e))}class Ah{#e;#t;constructor(t){this.#e=t,this.#t=!1}begin(){this.#e.push("{"),this.#t=!0}end(){this.#e.push("}"),this.#t=!1}#s(t){this.#t?(this.#e.push('"'),this.#t=!1):this.#e.push(',"'),this.#e.push(t),this.#e.push('":')}string(t,s){this.#s(t),this.#e.push(JSON.stringify(s))}stringRaw(t,s){this.#s(t),this.#e.push('"'),this.#e.push(s),this.#e.push('"')}number(t,s){this.#s(t),this.#e.push(""+s)}boolean(t,s){this.#s(t),this.#e.push(s?"true":"false")}object(t,s,n){this.#s(t),this.begin(),n(this,s),this.end()}arrayObjects(t,s,n){this.#s(t),this.#e.push("[");for(let r=0;r<s.length;++r)r!==0&&this.#e.push(","),this.begin(),n(this,s[r]),this.end();this.#e.push("]")}}function Il(e,t){const s=[],n=new Ah(s);return n.begin(),t(n,e),n.end(),s.join("")}const Js=0,Wr=1,$r=2,Oh=5;class Ph{#e;#t;#s;constructor(t){this.#e=t,this.#t=new DataView(t.buffer,t.byteOffset,t.byteLength),this.#s=0}varint(){let t=0;for(let s=0;;s+=7){const n=this.#e[this.#s++];if(t|=(n&127)<<s,!(n&128))break}return t}varintBig(){let t=0n;for(let s=0n;;s+=7n){const n=this.#e[this.#s++];if(t|=BigInt(n&127)<<s,!(n&128))break}return t}bytes(t){const s=new Uint8Array(this.#e.buffer,this.#e.byteOffset+this.#s,t);return this.#s+=t,s}double(){const t=this.#t.getFloat64(this.#s,!0);return this.#s+=8,t}skipVarint(){for(;this.#e[this.#s++]&128;);}skip(t){this.#s+=t}eof(){return this.#s>=this.#e.byteLength}}class Ih{#e;#t;constructor(t){this.#e=t,this.#t=-1}setup(t){this.#t=t}#s(t){if(this.#t!==t)throw new J(`Expected wire type ${t}, got ${this.#t}`);this.#t=-1}bytes(){this.#s($r);const t=this.#e.varint();return this.#e.bytes(t)}string(){return new TextDecoder().decode(this.bytes())}message(t){return tr(this.bytes(),t)}int32(){return this.#s(Js),this.#e.varint()}uint32(){return this.int32()}bool(){return this.int32()!==0}uint64(){return this.#s(Js),this.#e.varintBig()}sint64(){const t=this.uint64();return t>>1n^-(t&1n)}double(){return this.#s(Wr),this.#e.double()}maybeSkip(){if(!(this.#t<0)){if(this.#t===Js)this.#e.skipVarint();else if(this.#t===Wr)this.#e.skip(8);else if(this.#t===$r){const t=this.#e.varint();this.#e.skip(t)}else if(this.#t===Oh)this.#e.skip(4);else throw new J(`Unexpected wire type ${this.#t}`);this.#t=-1}}}function tr(e,t){const s=new Ph(e),n=new Ih(s);let r=t.default();for(;!s.eof();){const i=s.varint(),a=i>>3,o=i&7;n.setup(o);const l=t[a];if(l!==void 0){const f=l(n,r);f!==void 0&&(r=f)}n.maybeSkip()}return r}class gi{#e;#t;#s;#n;constructor(){this.#e=new ArrayBuffer(256),this.#t=new Uint8Array(this.#e),this.#s=new DataView(this.#e),this.#n=0}#r(t){if(this.#n+t<=this.#e.byteLength)return;let s=this.#e.byteLength;for(;s<this.#n+t;)s*=2;const n=new ArrayBuffer(s),r=new Uint8Array(n),i=new DataView(n);r.set(new Uint8Array(this.#e,0,this.#n)),this.#e=n,this.#t=r,this.#s=i}#i(t){this.#r(5),t=0|t;do{let s=t&127;t>>>=7,s|=t?128:0,this.#t[this.#n++]=s}while(t)}#o(t){this.#r(10),t=t&0xffffffffffffffffn;do{let s=Number(t&0x7fn);t>>=7n,s|=t?128:0,this.#t[this.#n++]=s}while(t)}#a(t,s){this.#i(t<<3|s)}bytes(t,s){this.#a(t,$r),this.#i(s.byteLength),this.#r(s.byteLength),this.#t.set(s,this.#n),this.#n+=s.byteLength}string(t,s){this.bytes(t,new TextEncoder().encode(s))}message(t,s,n){const r=new gi;n(r,s),this.bytes(t,r.data())}int32(t,s){this.#a(t,Js),this.#i(s)}uint32(t,s){this.int32(t,s)}bool(t,s){this.int32(t,s?1:0)}sint64(t,s){this.#a(t,Js),this.#o(s<<1n^s>>63n)}double(t,s){this.#a(t,Wr),this.#r(8),this.#s.setFloat64(this.#n,s,!0),this.#n+=8}data(){return new Uint8Array(this.#e,0,this.#n)}}function ql(e,t){const s=new gi;return t(s,e),s.data()}class Ws{#e;#t;constructor(){this.#e=new Set,this.#t=new Set}alloc(){for(const s of this.#t)return this.#t.delete(s),this.#e.add(s),this.#e.has(this.#e.size-1)||this.#t.add(this.#e.size-1),s;const t=this.#e.size;return this.#e.add(t),t}free(t){if(!this.#e.delete(t))throw new jt("Freeing an id that is not allocated");this.#t.delete(this.#e.size),t<this.#e.size&&this.#t.add(t)}}function ve(e,t){throw new jt(t)}function Xs(e){if(e===null)return null;if(typeof e=="string")return e;if(typeof e=="number"){if(!Number.isFinite(e))throw new RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return e}else if(typeof e=="bigint"){if(e<qh||e>kh)throw new RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");return e}else{if(typeof e=="boolean")return e?1n:0n;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;if(e instanceof Date)return+e.valueOf();if(typeof e=="object")return""+e.toString();throw new TypeError("Unsupported type of value")}}const qh=-9223372036854775808n,kh=9223372036854775807n;function kl(e,t){if(e===null)return null;if(typeof e=="number")return e;if(typeof e=="string")return e;if(typeof e=="bigint")if(t==="number"){const s=Number(e);if(!Number.isSafeInteger(s))throw new RangeError("Received integer which is too large to be safely represented as a JavaScript number");return s}else{if(t==="bigint")return e;if(t==="string")return""+e;throw new As("Invalid value for IntMode")}else{if(e instanceof Uint8Array)return e.slice().buffer;throw e===void 0?new J("Received unrecognized type of Value"):ve(e,"Impossible type of Value")}}function dn(e){return{affectedRowCount:e.affectedRowCount,lastInsertRowid:e.lastInsertRowid,columnNames:e.cols.map(t=>t.name),columnDecltypes:e.cols.map(t=>t.decltype)}}function Ml(e,t){const s=dn(e),n=e.rows.map(r=>Bl(s.columnNames,r,t));return{...s,rows:n}}function Nl(e,t){const s=dn(e);let n;return e.rows.length>0&&(n=Bl(s.columnNames,e.rows[0],t)),{...s,row:n}}function Ll(e,t){const s=dn(e);let n;return e.rows.length>0&&s.columnNames.length>0&&(n=kl(e.rows[0][0],t)),{...s,value:n}}function Bl(e,t,s){const n={};Object.defineProperty(n,"length",{value:t.length});for(let r=0;r<t.length;++r){const i=kl(t[r],s);Object.defineProperty(n,r,{value:i});const a=e[r];a!==void 0&&!Object.hasOwn(n,a)&&Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0})}return n}function Ss(e){return new Ol(e.message,e)}class bi{#e;#t;#s;constructor(t,s){this.#e=t,this.#t=s,this.#s=void 0}_getSqlId(t){if(this.#e!==t)throw new As("Attempted to use SQL text opened with other object");if(this.#s!==void 0)throw new et("SQL text is closed",this.#s);return this.#t}close(){this._setClosed(new _e("SQL text was manually closed"))}_setClosed(t){this.#s===void 0&&(this.#s=t,this.#e._closeSql(this.#t))}get closed(){return this.#s!==void 0}}function Vr(e,t){return t instanceof bi?{sqlId:t._getSqlId(e)}:{sql:""+t}}class Mn{#e;#t;constructor(){this.#e=[],this.#t=[]}get length(){return this.#e.length+this.#t.length}push(t){this.#e.push(t)}shift(){return this.#t.length===0&&this.#e.length>0&&(this.#t=this.#e.reverse(),this.#e=[]),this.#t.pop()}first(){return this.#t.length!==0?this.#t[this.#t.length-1]:this.#e[0]}}let Fl=class{sql;_args;_namedArgs;constructor(t){this.sql=t,this._args=[],this._namedArgs=new Map}bindIndexes(t){this._args.length=0;for(const s of t)this._args.push(Xs(s));return this}bindIndex(t,s){if(t!==(t|0)||t<=0)throw new RangeError("Index of a positional argument must be positive integer");for(;this._args.length<t;)this._args.push(null);return this._args[t-1]=Xs(s),this}bindName(t,s){return this._namedArgs.set(t,Xs(s)),this}unbindAll(){return this._args.length=0,this._namedArgs.clear(),this}};function Ul(e,t,s){let n,r=[],i=[];if(t instanceof Fl){n=t.sql,r=t._args;for(const[l,f]of t._namedArgs.entries())i.push({name:l,value:f})}else Array.isArray(t)?(n=t[0],Array.isArray(t[1])?r=t[1].map(l=>Xs(l)):i=Object.entries(t[1]).map(([l,f])=>({name:l,value:Xs(f)}))):n=t;const{sql:a,sqlId:o}=Vr(e,n);return{sql:a,sqlId:o,args:r,namedArgs:i,wantRows:s}}let Mh=class{_stream;#e;_steps;#t;constructor(t,s){this._stream=t,this.#e=s,this._steps=[],this.#t=!1}step(){return new Bh(this)}execute(){if(this.#t)throw new As("This batch has already been executed");this.#t=!0;const t={steps:this._steps.map(s=>s.proto)};return this.#e?Lh(this._stream,this._steps,t):Nh(this._stream,this._steps,t)}};function Nh(e,t,s){return e._batch(s).then(n=>{for(let r=0;r<t.length;++r){const i=n.stepResults.get(r),a=n.stepErrors.get(r);t[r].callback(i,a)}})}async function Lh(e,t,s){const n=await e._openCursor(s);try{let r=0,i,a=[];for(;;){const o=await n.next();if(o===void 0)break;if(o.type==="step_begin"){if(o.step<r||o.step>=t.length)throw new J("Server produced StepBeginEntry for unexpected step");if(i!==void 0)throw new J("Server produced StepBeginEntry before terminating previous step");for(let l=r;l<o.step;++l)t[l].callback(void 0,void 0);r=o.step+1,i=o,a=[]}else if(o.type==="step_end"){if(i===void 0)throw new J("Server produced StepEndEntry but no step is active");const l={cols:i.cols,rows:a,affectedRowCount:o.affectedRowCount,lastInsertRowid:o.lastInsertRowid};t[i.step].callback(l,void 0),i=void 0,a=[]}else if(o.type==="step_error"){if(i===void 0){if(o.step>=t.length)throw new J("Server produced StepErrorEntry for unexpected step");for(let l=r;l<o.step;++l)t[l].callback(void 0,void 0)}else{if(o.step!==i.step)throw new J("Server produced StepErrorEntry for unexpected step");i=void 0,a=[]}t[o.step].callback(void 0,o.error),r=o.step+1}else if(o.type==="row"){if(i===void 0)throw new J("Server produced RowEntry but no step is active");a.push(o.row)}else throw o.type==="error"?Ss(o.error):o.type==="none"?new J("Server produced unrecognized CursorEntry"):ve(o,"Impossible CursorEntry")}if(i!==void 0)throw new J("Server closed Cursor before terminating active step");for(let o=r;o<t.length;++o)t[o].callback(void 0,void 0)}finally{n.close()}}let Bh=class{_batch;#e;_index;constructor(t){this._batch=t,this.#e=[],this._index=void 0}condition(t){return this.#e.push(t._proto),this}query(t){return this.#t(t,!0,Ml)}queryRow(t){return this.#t(t,!0,Nl)}queryValue(t){return this.#t(t,!0,Ll)}run(t){return this.#t(t,!1,dn)}#t(t,s,n){if(this._index!==void 0)throw new As("This BatchStep has already been added to the batch");const r=Ul(this._batch._stream._sqlOwner(),t,s);let i;this.#e.length===0?i=void 0:this.#e.length===1?i=this.#e[0]:i={type:"and",conds:this.#e.slice()};const a={stmt:r,condition:i};return new Promise((o,l)=>{const f=(u,d)=>{u!==void 0&&d!==void 0?l(new J("Server returned both result and error")):d!==void 0?l(Ss(d)):o(u!==void 0?n(u,this._batch._stream.intMode):void 0)};this._index=this._batch._steps.length,this._batch._steps.push({proto:a,callback:f})})}},Ve=class Jt{_batch;_proto;constructor(t,s){this._batch=t,this._proto=s}static ok(t){return new Jt(t._batch,{type:"ok",step:qo(t)})}static error(t){return new Jt(t._batch,{type:"error",step:qo(t)})}static not(t){return new Jt(t._batch,{type:"not",cond:t._proto})}static and(t,s){for(const n of s)ko(t,n);return new Jt(t,{type:"and",conds:s.map(n=>n._proto)})}static or(t,s){for(const n of s)ko(t,n);return new Jt(t,{type:"or",conds:s.map(n=>n._proto)})}static isAutocommit(t){return t._stream.client()._ensureVersion(3,"BatchCond.isAutocommit()"),new Jt(t,{type:"is_autocommit"})}};function qo(e){if(e._index===void 0)throw new As("Cannot add a condition referencing a step that has not been added to the batch");return e._index}function ko(e,t){if(t._batch!==e)throw new As("Cannot mix BatchCond objects for different Batch objects")}function Fh(e){return{paramNames:e.params.map(t=>t.name),columns:e.cols,isExplain:e.isExplain,isReadonly:e.isReadonly}}class Hl{constructor(t){this.intMode=t}query(t){return this.#e(t,!0,Ml)}queryRow(t){return this.#e(t,!0,Nl)}queryValue(t){return this.#e(t,!0,Ll)}run(t){return this.#e(t,!1,dn)}#e(t,s,n){const r=Ul(this._sqlOwner(),t,s);return this._execute(r).then(i=>n(i,this.intMode))}batch(t=!1){return new Mh(this,t)}describe(t){const s=Vr(this._sqlOwner(),t);return this._describe(s).then(Fh)}sequence(t){const s=Vr(this._sqlOwner(),t);return this._sequence(s)}intMode}class Wl{}const Uh=1e3,Hh=10;class Wh extends Wl{#e;#t;#s;#n;#r;#i;#o;constructor(t,s,n){super(),this.#e=t,this.#t=s,this.#s=n,this.#n=new Mn,this.#r=new Mn,this.#i=void 0,this.#o=!1}async next(){for(;;){if(this.#i!==void 0)throw new et("Cursor is closed",this.#i);for(;!this.#o&&this.#r.length<Hh;)this.#r.push(this.#a());const t=this.#n.shift();if(this.#o||t!==void 0)return t;await this.#r.shift().then(s=>{if(s!==void 0){for(const n of s.entries)this.#n.push(n);this.#o||=s.done}})}}#a(){return this.#t._sendCursorRequest(this,{type:"fetch_cursor",cursorId:this.#s,maxCount:Uh}).then(t=>t,t=>{this._setClosed(t)})}_setClosed(t){this.#i===void 0&&(this.#i=t,this.#t._sendCursorRequest(this,{type:"close_cursor",cursorId:this.#s}).catch(()=>{}),this.#t._cursorClosed(this))}close(){this._setClosed(new _e("Cursor was manually closed"))}get closed(){return this.#i!==void 0}}class _i extends Hl{#e;#t;#s;#n;#r;#i;static open(t){const s=t._streamIdAlloc.alloc(),n=new _i(t,s),r=()=>{},i=o=>n.#u(o),a={type:"open_stream",streamId:s};return t._sendRequest(a,{responseCallback:r,errorCallback:i}),n}constructor(t,s){super(t.intMode),this.#e=t,this.#t=s,this.#s=new Mn,this.#n=void 0,this.#r=!1,this.#i=void 0}client(){return this.#e}_sqlOwner(){return this.#e}_execute(t){return this.#o({type:"execute",streamId:this.#t,stmt:t}).then(s=>s.result)}_batch(t){return this.#o({type:"batch",streamId:this.#t,batch:t}).then(s=>s.result)}_describe(t){return this.#e._ensureVersion(2,"describe()"),this.#o({type:"describe",streamId:this.#t,sql:t.sql,sqlId:t.sqlId}).then(s=>s.result)}_sequence(t){return this.#e._ensureVersion(2,"sequence()"),this.#o({type:"sequence",streamId:this.#t,sql:t.sql,sqlId:t.sqlId}).then(s=>{})}getAutocommit(){return this.#e._ensureVersion(3,"getAutocommit()"),this.#o({type:"get_autocommit",streamId:this.#t}).then(t=>t.isAutocommit)}#o(t){return new Promise((s,n)=>{this.#a({type:"request",request:t,responseCallback:s,errorCallback:n})})}_openCursor(t){return this.#e._ensureVersion(3,"cursor"),new Promise((s,n)=>{this.#a({type:"cursor",batch:t,cursorCallback:s,errorCallback:n})})}_sendCursorRequest(t,s){if(t!==this.#n)throw new jt("Cursor not associated with the stream attempted to execute a request");return new Promise((n,r)=>{this.#i!==void 0?r(new et("Stream is closed",this.#i)):this.#e._sendRequest(s,{responseCallback:n,errorCallback:r})})}_cursorClosed(t){if(t!==this.#n)throw new jt("Cursor was closed, but it was not associated with the stream");this.#n=void 0,this.#l()}#a(t){this.#i!==void 0?t.errorCallback(new et("Stream is closed",this.#i)):this.#r?t.errorCallback(new et("Stream is closing",void 0)):(this.#s.push(t),this.#l())}#l(){for(;;){const t=this.#s.first();if(t===void 0&&this.#n===void 0&&this.#r){this.#u(new _e("Stream was gracefully closed"));break}else if(t?.type==="request"&&this.#n===void 0){const{request:s,responseCallback:n,errorCallback:r}=t;this.#s.shift(),this.#e._sendRequest(s,{responseCallback:n,errorCallback:r})}else if(t?.type==="cursor"&&this.#n===void 0){const{batch:s,cursorCallback:n}=t;this.#s.shift();const r=this.#e._cursorIdAlloc.alloc(),i=new Wh(this.#e,this,r),a={type:"open_cursor",streamId:this.#t,cursorId:r,batch:s},o=()=>{},l=f=>i._setClosed(f);this.#e._sendRequest(a,{responseCallback:o,errorCallback:l}),this.#n=i,n(i)}else break}}#u(t){if(this.#i!==void 0)return;for(this.#i=t,this.#n!==void 0&&this.#n._setClosed(t);;){const i=this.#s.shift();if(i!==void 0)i.errorCallback(t);else break}const s={type:"close_stream",streamId:this.#t},n=()=>this.#e._streamIdAlloc.free(this.#t),r=()=>{};this.#e._sendRequest(s,{responseCallback:n,errorCallback:r})}close(){this.#u(new _e("Stream was manually closed"))}closeGracefully(){this.#r=!0,this.#l()}get closed(){return this.#i!==void 0||this.#r}}function wi(e,t){t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId),e.arrayObjects("args",t.args,$l),e.arrayObjects("named_args",t.namedArgs,$h),e.boolean("want_rows",t.wantRows)}function $h(e,t){e.string("name",t.name),e.object("value",t.value,$l)}function Nn(e,t){e.arrayObjects("steps",t.steps,Vh)}function Vh(e,t){t.condition!==void 0&&e.object("condition",t.condition,jr),e.object("stmt",t.stmt,wi)}function jr(e,t){if(e.stringRaw("type",t.type),t.type==="ok"||t.type==="error")e.number("step",t.step);else if(t.type==="not")e.object("cond",t.cond,jr);else if(t.type==="and"||t.type==="or")e.arrayObjects("conds",t.conds,jr);else if(t.type!=="is_autocommit")throw ve(t,"Impossible type of BatchCond")}function $l(e,t){if(t===null)e.stringRaw("type","null");else if(typeof t=="bigint")e.stringRaw("type","integer"),e.stringRaw("value",""+t);else if(typeof t=="number")e.stringRaw("type","float"),e.number("value",t);else if(typeof t=="string")e.stringRaw("type","text"),e.string("value",t);else if(t instanceof Uint8Array)e.stringRaw("type","blob"),e.stringRaw("base64",mi.fromUint8Array(t));else if(t!==void 0)throw ve(t,"Impossible type of Value")}function jh(e,t){if(e.stringRaw("type",t.type),t.type==="hello")t.jwt!==void 0&&e.string("jwt",t.jwt);else if(t.type==="request")e.number("request_id",t.requestId),e.object("request",t.request,Yh);else throw ve(t,"Impossible type of ClientMsg")}function Yh(e,t){if(e.stringRaw("type",t.type),t.type==="open_stream")e.number("stream_id",t.streamId);else if(t.type==="close_stream")e.number("stream_id",t.streamId);else if(t.type==="execute")e.number("stream_id",t.streamId),e.object("stmt",t.stmt,wi);else if(t.type==="batch")e.number("stream_id",t.streamId),e.object("batch",t.batch,Nn);else if(t.type==="open_cursor")e.number("stream_id",t.streamId),e.number("cursor_id",t.cursorId),e.object("batch",t.batch,Nn);else if(t.type==="close_cursor")e.number("cursor_id",t.cursorId);else if(t.type==="fetch_cursor")e.number("cursor_id",t.cursorId),e.number("max_count",t.maxCount);else if(t.type==="sequence")e.number("stream_id",t.streamId),t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="describe")e.number("stream_id",t.streamId),t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="store_sql")e.number("sql_id",t.sqlId),e.string("sql",t.sql);else if(t.type==="close_sql")e.number("sql_id",t.sqlId);else if(t.type==="get_autocommit")e.number("stream_id",t.streamId);else throw ve(t,"Impossible type of Request")}function vi(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId);for(const s of t.args)e.message(3,s,Vl);for(const s of t.namedArgs)e.message(4,s,Gh);e.bool(5,t.wantRows)}function Gh(e,t){e.string(1,t.name),e.message(2,t.value,Vl)}function sr(e,t){for(const s of t.steps)e.message(1,s,Kh)}function Kh(e,t){t.condition!==void 0&&e.message(1,t.condition,Ei),e.message(2,t.stmt,vi)}function Ei(e,t){if(t.type==="ok")e.uint32(1,t.step);else if(t.type==="error")e.uint32(2,t.step);else if(t.type==="not")e.message(3,t.cond,Ei);else if(t.type==="and")e.message(4,t.conds,Mo);else if(t.type==="or")e.message(5,t.conds,Mo);else if(t.type==="is_autocommit")e.message(6,void 0,jl);else throw ve(t,"Impossible type of BatchCond")}function Mo(e,t){for(const s of t)e.message(1,s,Ei)}function Vl(e,t){if(t===null)e.message(1,void 0,jl);else if(typeof t=="bigint")e.sint64(2,t);else if(typeof t=="number")e.double(3,t);else if(typeof t=="string")e.string(4,t);else if(t instanceof Uint8Array)e.bytes(5,t);else if(t!==void 0)throw ve(t,"Impossible type of Value")}function jl(e,t){}function Qh(e,t){if(t.type==="hello")e.message(1,t,zh);else if(t.type==="request")e.message(2,t,Jh);else throw ve(t,"Impossible type of ClientMsg")}function zh(e,t){t.jwt!==void 0&&e.string(1,t.jwt)}function Jh(e,t){e.int32(1,t.requestId);const s=t.request;if(s.type==="open_stream")e.message(2,s,Xh);else if(s.type==="close_stream")e.message(3,s,Zh);else if(s.type==="execute")e.message(4,s,ep);else if(s.type==="batch")e.message(5,s,tp);else if(s.type==="open_cursor")e.message(6,s,sp);else if(s.type==="close_cursor")e.message(7,s,np);else if(s.type==="fetch_cursor")e.message(8,s,rp);else if(s.type==="sequence")e.message(9,s,ip);else if(s.type==="describe")e.message(10,s,op);else if(s.type==="store_sql")e.message(11,s,ap);else if(s.type==="close_sql")e.message(12,s,lp);else if(s.type==="get_autocommit")e.message(13,s,cp);else throw ve(s,"Impossible type of Request")}function Xh(e,t){e.int32(1,t.streamId)}function Zh(e,t){e.int32(1,t.streamId)}function ep(e,t){e.int32(1,t.streamId),e.message(2,t.stmt,vi)}function tp(e,t){e.int32(1,t.streamId),e.message(2,t.batch,sr)}function sp(e,t){e.int32(1,t.streamId),e.int32(2,t.cursorId),e.message(3,t.batch,sr)}function np(e,t){e.int32(1,t.cursorId)}function rp(e,t){e.int32(1,t.cursorId),e.uint32(2,t.maxCount)}function ip(e,t){e.int32(1,t.streamId),t.sql!==void 0&&e.string(2,t.sql),t.sqlId!==void 0&&e.int32(3,t.sqlId)}function op(e,t){e.int32(1,t.streamId),t.sql!==void 0&&e.string(2,t.sql),t.sqlId!==void 0&&e.int32(3,t.sqlId)}function ap(e,t){e.int32(1,t.sqlId),e.string(2,t.sql)}function lp(e,t){e.int32(1,t.sqlId)}function cp(e,t){e.int32(1,t.streamId)}function Ds(e){const t=nt(e.message),s=at(e.code);return{message:t,code:s}}function Ci(e){const t=Yt(e.cols,Yl),s=kn(e.rows).map(a=>Yt(a,zl)),n=rs(e.affected_row_count),r=at(e.last_insert_rowid),i=r!==void 0?BigInt(r):void 0;return{cols:t,rows:s,affectedRowCount:n,lastInsertRowid:i}}function Yl(e){const t=at(e.name),s=at(e.decltype);return{name:t,decltype:s}}function Gl(e){const t=new Map;kn(e.step_results).forEach((n,r)=>{n!==null&&t.set(r,Ci(xe(n)))});const s=new Map;return kn(e.step_errors).forEach((n,r)=>{n!==null&&s.set(r,Ds(xe(n)))}),{stepResults:t,stepErrors:s}}function Kl(e){const t=nt(e.type);if(t==="step_begin"){const s=rs(e.step),n=Yt(e.cols,Yl);return{type:"step_begin",step:s,cols:n}}else if(t==="step_end"){const s=rs(e.affected_row_count),n=at(e.last_insert_rowid),r=n!==void 0?BigInt(n):void 0;return{type:"step_end",affectedRowCount:s,lastInsertRowid:r}}else if(t==="step_error"){const s=rs(e.step),n=Ds(xe(e.error));return{type:"step_error",step:s,error:n}}else{if(t==="row")return{type:"row",row:Yt(e.row,zl)};if(t==="error")return{type:"error",error:Ds(xe(e.error))};throw new J("Unexpected type of CursorEntry")}}function Ql(e){const t=Yt(e.params,up),s=Yt(e.cols,fp),n=an(e.is_explain),r=an(e.is_readonly);return{params:t,cols:s,isExplain:n,isReadonly:r}}function up(e){return{name:at(e.name)}}function fp(e){const t=nt(e.name),s=at(e.decltype);return{name:t,decltype:s}}function zl(e){const t=nt(e.type);if(t==="null")return null;if(t==="integer"){const s=nt(e.value);return BigInt(s)}else{if(t==="float")return rs(e.value);if(t==="text")return nt(e.value);if(t==="blob")return mi.toUint8Array(nt(e.base64));throw new J("Unexpected type of Value")}}function dp(e){const t=nt(e.type);if(t==="hello_ok")return{type:"hello_ok"};if(t==="hello_error")return{type:"hello_error",error:Ds(xe(e.error))};if(t==="response_ok"){const s=rs(e.request_id),n=hp(xe(e.response));return{type:"response_ok",requestId:s,response:n}}else if(t==="response_error"){const s=rs(e.request_id),n=Ds(xe(e.error));return{type:"response_error",requestId:s,error:n}}else throw new J("Unexpected type of ServerMsg")}function hp(e){const t=nt(e.type);if(t==="open_stream")return{type:"open_stream"};if(t==="close_stream")return{type:"close_stream"};if(t==="execute")return{type:"execute",result:Ci(xe(e.result))};if(t==="batch")return{type:"batch",result:Gl(xe(e.result))};if(t==="open_cursor")return{type:"open_cursor"};if(t==="close_cursor")return{type:"close_cursor"};if(t==="fetch_cursor"){const s=Yt(e.entries,Kl),n=an(e.done);return{type:"fetch_cursor",entries:s,done:n}}else{if(t==="sequence")return{type:"sequence"};if(t==="describe")return{type:"describe",result:Ql(xe(e.result))};if(t==="store_sql")return{type:"store_sql"};if(t==="close_sql")return{type:"close_sql"};if(t==="get_autocommit")return{type:"get_autocommit",isAutocommit:an(e.is_autocommit)};throw new J("Unexpected type of Response")}}const _t={default(){return{message:"",code:void 0}},1(e,t){t.message=e.string()},2(e,t){t.code=e.string()}},Ts={default(){return{cols:[],rows:[],affectedRowCount:0,lastInsertRowid:void 0}},1(e,t){t.cols.push(e.message(Jl))},2(e,t){t.rows.push(e.message(Xl))},3(e,t){t.affectedRowCount=Number(e.uint64())},4(e,t){t.lastInsertRowid=e.sint64()}},Jl={default(){return{name:void 0,decltype:void 0}},1(e,t){t.name=e.string()},2(e,t){t.decltype=e.string()}},Xl={default(){return[]},1(e,t){t.push(e.message(vp))}},Ln={default(){return{stepResults:new Map,stepErrors:new Map}},1(e,t){const[s,n]=e.message(pp);t.stepResults.set(s,n)},2(e,t){const[s,n]=e.message(mp);t.stepErrors.set(s,n)}},pp={default(){return[0,Ts.default()]},1(e,t){t[0]=e.uint32()},2(e,t){t[1]=e.message(Ts)}},mp={default(){return[0,_t.default()]},1(e,t){t[0]=e.uint32()},2(e,t){t[1]=e.message(_t)}},Zl={default(){return{type:"none"}},1(e){return e.message(yp)},2(e){return e.message(gp)},3(e){return e.message(bp)},4(e){return{type:"row",row:e.message(Xl)}},5(e){return{type:"error",error:e.message(_t)}}},yp={default(){return{type:"step_begin",step:0,cols:[]}},1(e,t){t.step=e.uint32()},2(e,t){t.cols.push(e.message(Jl))}},gp={default(){return{type:"step_end",affectedRowCount:0,lastInsertRowid:void 0}},1(e,t){t.affectedRowCount=e.uint32()},2(e,t){t.lastInsertRowid=e.uint64()}},bp={default(){return{type:"step_error",step:0,error:_t.default()}},1(e,t){t.step=e.uint32()},2(e,t){t.error=e.message(_t)}},Bn={default(){return{params:[],cols:[],isExplain:!1,isReadonly:!1}},1(e,t){t.params.push(e.message(_p))},2(e,t){t.cols.push(e.message(wp))},3(e,t){t.isExplain=e.bool()},4(e,t){t.isReadonly=e.bool()}},_p={default(){return{name:void 0}},1(e,t){t.name=e.string()}},wp={default(){return{name:"",decltype:void 0}},1(e,t){t.name=e.string()},2(e,t){t.decltype=e.string()}},vp={default(){},1(e){return null},2(e){return e.sint64()},3(e){return e.double()},4(e){return e.string()},5(e){return e.bytes()}},Ep={default(){return{type:"none"}},1(e){return{type:"hello_ok"}},2(e){return e.message(Cp)},3(e){return e.message(Sp)},4(e){return e.message(Rp)}},Cp={default(){return{type:"hello_error",error:_t.default()}},1(e,t){t.error=e.message(_t)}},Rp={default(){return{type:"response_error",requestId:0,error:_t.default()}},1(e,t){t.requestId=e.int32()},2(e,t){t.error=e.message(_t)}},Sp={default(){return{type:"response_ok",requestId:0,response:{type:"none"}}},1(e,t){t.requestId=e.int32()},2(e,t){t.response={type:"open_stream"}},3(e,t){t.response={type:"close_stream"}},4(e,t){t.response=e.message(Dp)},5(e,t){t.response=e.message(Tp)},6(e,t){t.response={type:"open_cursor"}},7(e,t){t.response={type:"close_cursor"}},8(e,t){t.response=e.message(xp)},9(e,t){t.response={type:"sequence"}},10(e,t){t.response=e.message(Ap)},11(e,t){t.response={type:"store_sql"}},12(e,t){t.response={type:"close_sql"}},13(e,t){t.response=e.message(Op)}},Dp={default(){return{type:"execute",result:Ts.default()}},1(e,t){t.result=e.message(Ts)}},Tp={default(){return{type:"batch",result:Ln.default()}},1(e,t){t.result=e.message(Ln)}},xp={default(){return{type:"fetch_cursor",entries:[],done:!1}},1(e,t){t.entries.push(e.message(Zl))},2(e,t){t.done=e.bool()}},Ap={default(){return{type:"describe",result:Bn.default()}},1(e,t){t.result=e.message(Bn)}},Op={default(){return{type:"get_autocommit",isAutocommit:!1}},1(e,t){t.isAutocommit=e.bool()}},Pp=new Map([["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),ec=new Map([["hrana3-protobuf",{version:3,encoding:"protobuf"}],["hrana3",{version:3,encoding:"json"}],["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]);let Ip=class extends Al{#e;#t;#s;#n;#r;#i;#o;#a;#l;_streamIdAlloc;_cursorIdAlloc;#u;constructor(t,s){super(),this.#e=t,this.#t=[],this.#s=!1,this.#n=void 0,this.#r=!1,this.#i=void 0,this.#o=!1,this.#a=new Map,this.#l=new Ws,this._streamIdAlloc=new Ws,this._cursorIdAlloc=new Ws,this.#u=new Ws,this.#e.binaryType="arraybuffer",this.#e.addEventListener("open",()=>this.#f()),this.#e.addEventListener("close",n=>this.#m(n)),this.#e.addEventListener("error",n=>this.#d(n)),this.#e.addEventListener("message",n=>this.#y(n)),this.#h({type:"hello",jwt:s})}#h(t){if(this.#n!==void 0)throw new jt("Trying to send a message on a closed client");if(this.#s)this.#p(t);else{const s=()=>this.#p(t),n=()=>{};this.#t.push({openCallback:s,errorCallback:n})}}#f(){const t=this.#e.protocol;if(t===void 0){this.#c(new _e("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));return}else if(t==="")this.#i={version:1,encoding:"json"};else if(this.#i=ec.get(t),this.#i===void 0){this.#c(new J(`Unrecognized WebSocket subprotocol: ${JSON.stringify(t)}`));return}for(const s of this.#t)s.openCallback();this.#t.length=0,this.#s=!0}#p(t){const s=this.#i.encoding;if(s==="json"){const n=Il(t,jh);this.#e.send(n)}else if(s==="protobuf"){const n=ql(t,Qh);this.#e.send(n)}else throw ve(s,"Impossible encoding")}getVersion(){return new Promise((t,s)=>{if(this.#o=!0,this.#n!==void 0)s(this.#n);else if(this.#s)t(this.#i.version);else{const n=()=>t(this.#i.version);this.#t.push({openCallback:n,errorCallback:s})}})}_ensureVersion(t,s){if(this.#i===void 0||!this.#o)throw new Rs(`${s} is supported only on protocol version ${t} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this.#i.version<t)throw new Rs(`${s} is supported on protocol version ${t} and higher, but the WebSocket server only supports version ${this.#i.version}`)}_sendRequest(t,s){if(this.#n!==void 0){s.errorCallback(new et("Client is closed",this.#n));return}const n=this.#l.alloc();this.#a.set(n,{...s,type:t.type}),this.#h({type:"request",requestId:n,request:t})}#d(t){const n=t.message??"WebSocket was closed due to an error";this.#c(new Hr(n))}#m(t){let s=`WebSocket was closed with code ${t.code}`;t.reason&&(s+=`: ${t.reason}`),this.#c(new Hr(s))}#c(t){if(this.#n===void 0){this.#n=t;for(const s of this.#t)s.errorCallback(t);this.#t.length=0;for(const[s,n]of this.#a.entries())n.errorCallback(t),this.#l.free(s);this.#a.clear(),this.#e.close()}}#y(t){if(this.#n===void 0)try{let s;const n=this.#i.encoding;if(n==="json"){if(typeof t.data!="string"){this.#e.close(3003,"Only text messages are accepted with JSON encoding"),this.#c(new J("Received non-text message from server with JSON encoding"));return}s=yi(JSON.parse(t.data),dp)}else if(n==="protobuf"){if(!(t.data instanceof ArrayBuffer)){this.#e.close(3003,"Only binary messages are accepted with Protobuf encoding"),this.#c(new J("Received non-binary message from server with Protobuf encoding"));return}s=tr(new Uint8Array(t.data),Ep)}else throw ve(n,"Impossible encoding");this.#g(s)}catch(s){this.#e.close(3007,"Could not handle message"),this.#c(s)}}#g(t){if(t.type==="none")throw new J("Received an unrecognized ServerMsg");if(t.type==="hello_ok"||t.type==="hello_error"){if(this.#r)throw new J("Received a duplicated hello response");if(this.#r=!0,t.type==="hello_error")throw Ss(t.error);return}else if(!this.#r)throw new J("Received a non-hello message before a hello response");if(t.type==="response_ok"){const s=t.requestId,n=this.#a.get(s);if(this.#a.delete(s),n===void 0)throw new J("Received unexpected OK response");this.#l.free(s);try{if(n.type!==t.response.type)throw console.dir({responseState:n,msg:t}),new J("Received unexpected type of response");n.responseCallback(t.response)}catch(r){throw n.errorCallback(r),r}}else if(t.type==="response_error"){const s=t.requestId,n=this.#a.get(s);if(this.#a.delete(s),n===void 0)throw new J("Received unexpected error response");this.#l.free(s),n.errorCallback(Ss(t.error))}else throw ve(t,"Impossible ServerMsg type")}openStream(){return _i.open(this)}storeSql(t){this._ensureVersion(2,"storeSql()");const s=this.#u.alloc(),n=new bi(this,s),r=()=>{},i=o=>n._setClosed(o),a={type:"store_sql",sqlId:s,sql:t};return this._sendRequest(a,{responseCallback:r,errorCallback:i}),n}_closeSql(t){if(this.#n!==void 0)return;const s=()=>this.#u.free(t),n=i=>this.#c(i),r={type:"close_sql",sqlId:t};this._sendRequest(r,{responseCallback:s,errorCallback:n})}close(){this.#c(new _e("Client was manually closed"))}get closed(){return this.#n!==void 0}};var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bn={exports:{}},No;function kp(){return No||(No=1,(function(e,t){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof gn<"u"&&gn,n=(function(){function i(){this.fetch=!1,this.DOMException=s.DOMException}return i.prototype=s,new i})();(function(i){(function(a){var o=typeof i<"u"&&i||typeof self<"u"&&self||typeof gn<"u"&&gn||{},l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function f(b){return b&&DataView.prototype.isPrototypeOf(b)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(b){return b&&u.indexOf(Object.prototype.toString.call(b))>-1};function m(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError('Invalid character in header field name: "'+b+'"');return b.toLowerCase()}function g(b){return typeof b!="string"&&(b=String(b)),b}function A(b){var D={next:function(){var N=b.shift();return{done:N===void 0,value:N}}};return l.iterable&&(D[Symbol.iterator]=function(){return D}),D}function E(b){this.map={},b instanceof E?b.forEach(function(D,N){this.append(N,D)},this):Array.isArray(b)?b.forEach(function(D){if(D.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+D.length);this.append(D[0],D[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(D){this.append(D,b[D])},this)}E.prototype.append=function(b,D){b=m(b),D=g(D);var N=this.map[b];this.map[b]=N?N+", "+D:D},E.prototype.delete=function(b){delete this.map[m(b)]},E.prototype.get=function(b){return b=m(b),this.has(b)?this.map[b]:null},E.prototype.has=function(b){return this.map.hasOwnProperty(m(b))},E.prototype.set=function(b,D){this.map[m(b)]=g(D)},E.prototype.forEach=function(b,D){for(var N in this.map)this.map.hasOwnProperty(N)&&b.call(D,this.map[N],N,this)},E.prototype.keys=function(){var b=[];return this.forEach(function(D,N){b.push(N)}),A(b)},E.prototype.values=function(){var b=[];return this.forEach(function(D){b.push(D)}),A(b)},E.prototype.entries=function(){var b=[];return this.forEach(function(D,N){b.push([N,D])}),A(b)},l.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function F(b){if(!b._noBody){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}}function H(b){return new Promise(function(D,N){b.onload=function(){D(b.result)},b.onerror=function(){N(b.error)}})}function k(b){var D=new FileReader,N=H(D);return D.readAsArrayBuffer(b),N}function W(b){var D=new FileReader,N=H(D),U=/charset=([A-Za-z0-9_-]+)/.exec(b.type),ee=U?U[1]:"utf-8";return D.readAsText(b,ee),N}function B(b){for(var D=new Uint8Array(b),N=new Array(D.length),U=0;U<D.length;U++)N[U]=String.fromCharCode(D[U]);return N.join("")}function se(b){if(b.slice)return b.slice(0);var D=new Uint8Array(b.byteLength);return D.set(new Uint8Array(b)),D.buffer}function we(){return this.bodyUsed=!1,this._initBody=function(b){this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:l.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:l.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():l.arrayBuffer&&l.blob&&f(b)?(this._bodyArrayBuffer=se(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||d(b))?this._bodyArrayBuffer=se(b):this._bodyText=b=Object.prototype.toString.call(b):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var b=F(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=F(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var b=F(this);if(b)return b;if(this._bodyBlob)return W(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(B(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(Qe)}),this.json=function(){return this.text().then(JSON.parse)},this}var pe=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Ke(b){var D=b.toUpperCase();return pe.indexOf(D)>-1?D:b}function De(b,D){if(!(this instanceof De))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');D=D||{};var N=D.body;if(b instanceof De){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,D.headers||(this.headers=new E(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!N&&b._bodyInit!=null&&(N=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new E(D.headers)),this.method=Ke(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal||(function(){if("AbortController"in o){var K=new AbortController;return K.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(D.cache==="no-store"||D.cache==="no-cache")){var U=/([?&])_=[^&]*/;if(U.test(this.url))this.url=this.url.replace(U,"$1_="+new Date().getTime());else{var ee=/\?/;this.url+=(ee.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}De.prototype.clone=function(){return new De(this,{body:this._bodyInit})};function Qe(b){var D=new FormData;return b.trim().split("&").forEach(function(N){if(N){var U=N.split("="),ee=U.shift().replace(/\+/g," "),K=U.join("=").replace(/\+/g," ");D.append(decodeURIComponent(ee),decodeURIComponent(K))}}),D}function ct(b){var D=new E,N=b.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(U){return U.indexOf(`
`)===0?U.substr(1,U.length):U}).forEach(function(U){var ee=U.split(":"),K=ee.shift().trim();if(K){var qe=ee.join(":").trim();try{D.append(K,qe)}catch(Se){console.warn("Response "+Se.message)}}}),D}we.call(De.prototype);function Ce(b,D){if(!(this instanceof Ce))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=D.statusText===void 0?"":""+D.statusText,this.headers=new E(D.headers),this.url=D.url||"",this._initBody(b)}we.call(Ce.prototype),Ce.prototype.clone=function(){return new Ce(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},Ce.error=function(){var b=new Ce(null,{status:200,statusText:""});return b.ok=!1,b.status=0,b.type="error",b};var ze=[301,302,303,307,308];Ce.redirect=function(b,D){if(ze.indexOf(D)===-1)throw new RangeError("Invalid status code");return new Ce(null,{status:D,headers:{location:b}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(D,N){this.message=D,this.name=N;var U=Error(D);this.stack=U.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function wt(b,D){return new Promise(function(N,U){var ee=new De(b,D);if(ee.signal&&ee.signal.aborted)return U(new a.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function qe(){K.abort()}K.onload=function(){var me={statusText:K.statusText,headers:ct(K.getAllResponseHeaders()||"")};ee.url.indexOf("file://")===0&&(K.status<200||K.status>599)?me.status=200:me.status=K.status,me.url="responseURL"in K?K.responseURL:me.headers.get("X-Request-URL");var ke="response"in K?K.response:K.responseText;setTimeout(function(){N(new Ce(ke,me))},0)},K.onerror=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},K.ontimeout=function(){setTimeout(function(){U(new TypeError("Network request timed out"))},0)},K.onabort=function(){setTimeout(function(){U(new a.DOMException("Aborted","AbortError"))},0)};function Se(me){try{return me===""&&o.location.href?o.location.href:me}catch{return me}}if(K.open(ee.method,Se(ee.url),!0),ee.credentials==="include"?K.withCredentials=!0:ee.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&(l.blob?K.responseType="blob":l.arrayBuffer&&(K.responseType="arraybuffer")),D&&typeof D.headers=="object"&&!(D.headers instanceof E||o.Headers&&D.headers instanceof o.Headers)){var vt=[];Object.getOwnPropertyNames(D.headers).forEach(function(me){vt.push(m(me)),K.setRequestHeader(me,g(D.headers[me]))}),ee.headers.forEach(function(me,ke){vt.indexOf(ke)===-1&&K.setRequestHeader(ke,me)})}else ee.headers.forEach(function(me,ke){K.setRequestHeader(ke,me)});ee.signal&&(ee.signal.addEventListener("abort",qe),K.onreadystatechange=function(){K.readyState===4&&ee.signal.removeEventListener("abort",qe)}),K.send(typeof ee._bodyInit>"u"?null:ee._bodyInit)})}return wt.polyfill=!0,o.fetch||(o.fetch=wt,o.Headers=E,o.Request=De,o.Response=Ce),a.Headers=E,a.Request=De,a.Response=Ce,a.fetch=wt,a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=s.fetch?s:n;t=r.fetch,t.default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t})(bn,bn.exports)),bn.exports}var Fn=kp();let hs;if(typeof queueMicrotask<"u")hs=queueMicrotask;else{const e=Promise.resolve();hs=t=>{e.then(t)}}class Mp{#e;#t;#s;constructor(t){this.#e=new Uint8Array(new ArrayBuffer(t)),this.#t=0,this.#s=0}get length(){return this.#s-this.#t}data(){return this.#e.slice(this.#t,this.#s)}push(t){this.#n(t.byteLength),this.#e.set(t,this.#s),this.#s+=t.byteLength}#n(t){if(this.#s+t<=this.#e.byteLength)return;const s=this.#s-this.#t;if(s+t<=this.#e.byteLength&&2*this.#s>=this.#e.byteLength)this.#e.copyWithin(0,this.#t,this.#s);else{let n=this.#e.byteLength;do n*=2;while(s+t>n);const r=new Uint8Array(new ArrayBuffer(n));r.set(this.#e.slice(this.#t,this.#s),0),this.#e=r}this.#s=s,this.#t=0}shift(t){this.#t+=t}}function Np(e){const t=at(e.baton),s=at(e.base_url),n=Yt(e.results,Lp);return{baton:t,baseUrl:s,results:n}}function Lp(e){const t=nt(e.type);if(t==="ok")return{type:"ok",response:Bp(xe(e.response))};if(t==="error")return{type:"error",error:Ds(xe(e.error))};throw new J("Unexpected type of StreamResult")}function Bp(e){const t=nt(e.type);if(t==="close")return{type:"close"};if(t==="execute")return{type:"execute",result:Ci(xe(e.result))};if(t==="batch")return{type:"batch",result:Gl(xe(e.result))};if(t==="sequence")return{type:"sequence"};if(t==="describe")return{type:"describe",result:Ql(xe(e.result))};if(t==="store_sql")return{type:"store_sql"};if(t==="close_sql")return{type:"close_sql"};if(t==="get_autocommit")return{type:"get_autocommit",isAutocommit:an(e.is_autocommit)};throw new J("Unexpected type of StreamResponse")}function Fp(e){const t=at(e.baton),s=at(e.base_url);return{baton:t,baseUrl:s}}const Up={default(){return{baton:void 0,baseUrl:void 0,results:[]}},1(e,t){t.baton=e.string()},2(e,t){t.baseUrl=e.string()},3(e,t){t.results.push(e.message(Hp))}},Hp={default(){return{type:"none"}},1(e){return{type:"ok",response:e.message(Wp)}},2(e){return{type:"error",error:e.message(_t)}}},Wp={default(){return{type:"none"}},1(e){return{type:"close"}},2(e){return e.message($p)},3(e){return e.message(Vp)},4(e){return{type:"sequence"}},5(e){return e.message(jp)},6(e){return{type:"store_sql"}},7(e){return{type:"close_sql"}},8(e){return e.message(Yp)}},$p={default(){return{type:"execute",result:Ts.default()}},1(e,t){t.result=e.message(Ts)}},Vp={default(){return{type:"batch",result:Ln.default()}},1(e,t){t.result=e.message(Ln)}},jp={default(){return{type:"describe",result:Bn.default()}},1(e,t){t.result=e.message(Bn)}},Yp={default(){return{type:"get_autocommit",isAutocommit:!1}},1(e,t){t.isAutocommit=e.bool()}},Gp={default(){return{baton:void 0,baseUrl:void 0}},1(e,t){t.baton=e.string()},2(e,t){t.baseUrl=e.string()}};class Kp extends Wl{#e;#t;#s;#n;#r;#i;constructor(t,s){super(),this.#e=t,this.#t=s,this.#s=void 0,this.#n=new Mp(16*1024),this.#r=void 0,this.#i=!1}async open(t){if(t.body===null)throw new J("No response body for cursor request");this.#s=t.body[Symbol.asyncIterator]();const s=await this.#o(Fp,Gp);if(s===void 0)throw new J("Empty response to cursor request");return s}next(){return this.#o(Kl,Zl)}close(){this._setClosed(new _e("Cursor was manually closed"))}_setClosed(t){this.#r===void 0&&(this.#r=t,this.#e._cursorClosed(this),this.#s!==void 0&&this.#s.return())}get closed(){return this.#r!==void 0}async#o(t,s){for(;;){if(this.#i)return;if(this.#r!==void 0)throw new et("Cursor is closed",this.#r);if(this.#t==="json"){const i=this.#a();if(i!==void 0){const a=new TextDecoder().decode(i),o=JSON.parse(a);return yi(o,t)}}else if(this.#t==="protobuf"){const i=this.#l();if(i!==void 0)return tr(i,s)}else throw ve(this.#t,"Impossible encoding");if(this.#s===void 0)throw new jt("Attempted to read from HTTP cursor before it was opened");const{value:n,done:r}=await this.#s.next();if(r&&this.#n.length===0)this.#i=!0;else{if(r)throw new J("Unexpected end of cursor stream");this.#n.push(n)}}}#a(){const t=this.#n.data(),n=t.indexOf(10);if(n<0)return;const r=t.slice(0,n);return this.#n.shift(n+1),r}#l(){const t=this.#n.data();let s=0,n=0;for(;;){if(n>=t.byteLength)return;const i=t[n];if(s|=(i&127)<<7*n,n+=1,!(i&128))break}if(t.byteLength<n+s)return;const r=t.slice(n,n+s);return this.#n.shift(n+s),r}}function Qp(e,t){t.baton!==void 0&&e.string("baton",t.baton),e.arrayObjects("requests",t.requests,zp)}function zp(e,t){if(e.stringRaw("type",t.type),t.type!=="close"){if(t.type==="execute")e.object("stmt",t.stmt,wi);else if(t.type==="batch")e.object("batch",t.batch,Nn);else if(t.type==="sequence")t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="describe")t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="store_sql")e.number("sql_id",t.sqlId),e.string("sql",t.sql);else if(t.type==="close_sql")e.number("sql_id",t.sqlId);else if(t.type!=="get_autocommit")throw ve(t,"Impossible type of StreamRequest")}}function Jp(e,t){t.baton!==void 0&&e.string("baton",t.baton),e.object("batch",t.batch,Nn)}function Xp(e,t){t.baton!==void 0&&e.string(1,t.baton);for(const s of t.requests)e.message(2,s,Zp)}function Zp(e,t){if(t.type==="close")e.message(1,t,em);else if(t.type==="execute")e.message(2,t,tm);else if(t.type==="batch")e.message(3,t,sm);else if(t.type==="sequence")e.message(4,t,nm);else if(t.type==="describe")e.message(5,t,rm);else if(t.type==="store_sql")e.message(6,t,im);else if(t.type==="close_sql")e.message(7,t,om);else if(t.type==="get_autocommit")e.message(8,t,am);else throw ve(t,"Impossible type of StreamRequest")}function em(e,t){}function tm(e,t){e.message(1,t.stmt,vi)}function sm(e,t){e.message(1,t.batch,sr)}function nm(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId)}function rm(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId)}function im(e,t){e.int32(1,t.sqlId),e.string(2,t.sql)}function om(e,t){e.int32(1,t.sqlId)}function am(e,t){}function lm(e,t){t.baton!==void 0&&e.string(1,t.baton),e.message(2,t.batch,sr)}class cm extends Hl{#e;#t;#s;#n;#r;#i;#o;#a;#l;#u;#h;#f;#p;constructor(t,s,n,r,i){super(t.intMode),this.#e=t,this.#t=s.toString(),this.#s=n,this.#n=r,this.#r=i,this.#i=void 0,this.#o=new Mn,this.#a=!1,this.#u=!1,this.#h=!1,this.#f=void 0,this.#p=new Ws}client(){return this.#e}_sqlOwner(){return this}storeSql(t){const s=this.#p.alloc();return this.#d({type:"store_sql",sqlId:s,sql:t}).then(()=>{},n=>this._setClosed(n)),new bi(this,s)}_closeSql(t){this.#f===void 0&&this.#d({type:"close_sql",sqlId:t}).then(()=>this.#p.free(t),s=>this._setClosed(s))}_execute(t){return this.#d({type:"execute",stmt:t}).then(s=>s.result)}_batch(t){return this.#d({type:"batch",batch:t}).then(s=>s.result)}_describe(t){return this.#d({type:"describe",sql:t.sql,sqlId:t.sqlId}).then(s=>s.result)}_sequence(t){return this.#d({type:"sequence",sql:t.sql,sqlId:t.sqlId}).then(s=>{})}getAutocommit(){return this.#e._ensureVersion(3,"getAutocommit()"),this.#d({type:"get_autocommit"}).then(t=>t.isAutocommit)}#d(t){return new Promise((s,n)=>{this.#m({type:"pipeline",request:t,responseCallback:s,errorCallback:n})})}_openCursor(t){return new Promise((s,n)=>{this.#m({type:"cursor",batch:t,cursorCallback:s,errorCallback:n})})}_cursorClosed(t){if(t!==this.#l)throw new jt("Cursor was closed, but it was not associated with the stream");this.#l=void 0,hs(()=>this.#c())}close(){this._setClosed(new _e("Stream was manually closed"))}closeGracefully(){this.#u=!0,hs(()=>this.#c())}get closed(){return this.#f!==void 0||this.#u}_setClosed(t){if(this.#f===void 0){for(this.#f=t,this.#l!==void 0&&this.#l._setClosed(t),this.#e._streamClosed(this);;){const s=this.#o.shift();if(s!==void 0)s.errorCallback(t);else break}(this.#i!==void 0||this.#a)&&!this.#h&&(this.#o.push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),this.#h=!0,hs(()=>this.#c()))}}#m(t){if(this.#f!==void 0)throw new et("Stream is closed",this.#f);if(this.#u)throw new et("Stream is closing",void 0);this.#o.push(t),hs(()=>this.#c())}#c(){if(this.#a||this.#l!==void 0)return;if(this.#u&&this.#o.length===0){this._setClosed(new _e("Stream was gracefully closed"));return}const t=this.#e._endpoint;if(t===void 0){this.#e._endpointPromise.then(()=>this.#c(),n=>this._setClosed(n));return}const s=this.#o.shift();if(s!==void 0)if(s.type==="pipeline"){const n=[s];for(;;){const r=this.#o.first();if(r!==void 0&&r.type==="pipeline")n.push(r),this.#o.shift();else if(r===void 0&&this.#u&&!this.#h){n.push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),this.#h=!0;break}else break}this.#y(t,n)}else if(s.type==="cursor")this.#g(t,s);else throw ve(s,"Impossible type of QueueEntry")}#y(t,s){this.#b(()=>this.#w(s,t),n=>fm(n,t.encoding),n=>n.baton,n=>n.baseUrl,n=>um(s,n),n=>s.forEach(r=>r.errorCallback(n)))}#g(t,s){const n=new Kp(this,t.encoding);this.#l=n,this.#b(()=>this.#v(s,t),r=>n.open(r),r=>r.baton,r=>r.baseUrl,r=>s.cursorCallback(n),r=>s.errorCallback(r))}#b(t,s,n,r,i,a){let o;try{const l=t(),f=this.#n;o=f(l)}catch(l){o=Promise.reject(l)}this.#a=!0,o.then(l=>l.ok?s(l):dm(l).then(f=>{throw f})).then(l=>{this.#i=n(l),this.#t=r(l)??this.#t,i(l)}).catch(l=>{this._setClosed(l),a(l)}).finally(()=>{this.#a=!1,this.#c()})}#w(t,s){return this.#_(new URL(s.pipelinePath,this.#t),{baton:this.#i,requests:t.map(n=>n.request)},s.encoding,Qp,Xp)}#v(t,s){if(s.cursorPath===void 0)throw new Rs(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${s.version}.`);return this.#_(new URL(s.cursorPath,this.#t),{baton:this.#i,batch:t.batch},s.encoding,Jp,lm)}#_(t,s,n,r,i){let a,o;if(n==="json")a=Il(s,r),o="application/json";else if(n==="protobuf")a=ql(s,i),o="application/x-protobuf";else throw ve(n,"Impossible encoding");const l=new Fn.Headers;return l.set("content-type",o),this.#s!==void 0&&l.set("authorization",`Bearer ${this.#s}`),this.#r!==void 0&&l.set("x-turso-encryption-key",this.#r),new Fn.Request(t.toString(),{method:"POST",headers:l,body:a})}}function um(e,t){if(t.results.length!==e.length)throw new J("Server returned unexpected number of pipeline results");for(let s=0;s<e.length;++s){const n=t.results[s],r=e[s];if(n.type==="ok"){if(n.response.type!==r.request.type)throw new J("Received unexpected type of response");r.responseCallback(n.response)}else if(n.type==="error")r.errorCallback(Ss(n.error));else throw n.type==="none"?new J("Received unrecognized type of StreamResult"):ve(n,"Received impossible type of StreamResult")}}async function fm(e,t){if(t==="json"){const s=await e.json();return yi(s,Np)}if(t==="protobuf"){const s=await e.arrayBuffer();return tr(new Uint8Array(s),Up)}throw await e.body?.cancel(),ve(t,"Impossible encoding")}async function dm(e){const t=e.headers.get("content-type")??"text/plain";let s=`Server returned HTTP status ${e.status}`;if(t==="application/json"){const n=await e.json();return"message"in n?Ss(n):new Sn(s,e.status)}if(t==="text/plain"){const n=(await e.text()).trim();return n!==""&&(s+=`: ${n}`),new Sn(s,e.status)}return await e.body?.cancel(),new Sn(s,e.status)}const hm=[{versionPath:"v3-protobuf",pipelinePath:"v3-protobuf/pipeline",cursorPath:"v3-protobuf/cursor",version:3,encoding:"protobuf"}],Yr={versionPath:"v2",pipelinePath:"v2/pipeline",cursorPath:void 0,version:2,encoding:"json"};let pm=class extends Al{#e;#t;#s;#n;#r;#i;_endpointPromise;_endpoint;constructor(t,s,n,r,i=2){super(),this.#e=t,this.#t=s,this.#s=n??Fn.fetch,this.#n=r,this.#r=void 0,this.#i=new Set,i==3?(this._endpointPromise=mm(this.#s,this.#e),this._endpointPromise.then(a=>this._endpoint=a,a=>this.#o(a))):(this._endpointPromise=Promise.resolve(Yr),this._endpointPromise.then(a=>this._endpoint=a,a=>this.#o(a)))}async getVersion(){return this._endpoint!==void 0?this._endpoint.version:(await this._endpointPromise).version}_ensureVersion(t,s){if(!(t<=Yr.version)){if(this._endpoint===void 0)throw new Rs(`${s} is supported only on protocol version ${t} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this._endpoint.version<t)throw new Rs(`${s} is supported only on protocol version ${t} and higher, but the HTTP server only supports version ${this._endpoint.version}.`)}}openStream(){if(this.#r!==void 0)throw new et("Client is closed",this.#r);const t=new cm(this,this.#e,this.#t,this.#s,this.#n);return this.#i.add(t),t}_streamClosed(t){this.#i.delete(t)}close(){this.#o(new _e("Client was manually closed"))}get closed(){return this.#r!==void 0}#o(t){if(this.#r===void 0){this.#r=t;for(const s of Array.from(this.#i))s._setClosed(new et("Client was closed",t))}}};async function mm(e,t){const s=e;for(const n of hm){const r=new URL(n.versionPath,t),i=new Fn.Request(r.toString(),{method:"GET"}),a=await s(i);if(await a.arrayBuffer(),a.ok)return n}return Yr}function tc(e,t,s=2){if(typeof ds>"u")throw new Pl("WebSockets are not supported in this environment");var n=void 0;s==3?n=Array.from(ec.keys()):n=Array.from(Pp.keys());const r=new ds(e,n);return new Ip(r,t)}function Lo(e,t,s,n,r=2){return new pm(e instanceof URL?e:new URL(e),t,s,n,r)}class sc{#e;#t;#s;constructor(t,s){this.#e=t,this.#t=s,this.#s=void 0}execute(t){return this.batch([t]).then(s=>s[0])}async batch(t){const s=this._getStream();if(s.closed)throw new oe("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{const n=t.map(is);let r;if(this.#s===void 0){this._getSqlCache().apply(n);const a=s.batch(this.#t>=3),o=a.step(),l=o.run(Ur(this.#e));let f=o;r=n.map(u=>{const d=a.step().condition(Ve.ok(f));this.#t>=3&&d.condition(Ve.not(Ve.isAutocommit(a)));const m=d.query(u);return m.catch(()=>{}),f=d,m}),this.#s=a.execute().then(()=>l).then(()=>{});try{await this.#s}catch(u){throw this.close(),u}}else{this.#t<3&&await this.#s,this._getSqlCache().apply(n);const a=s.batch(this.#t>=3);let o;r=n.map(l=>{const f=a.step();o!==void 0&&f.condition(Ve.ok(o)),this.#t>=3&&f.condition(Ve.not(Ve.isAutocommit(a)));const u=f.query(l);return u.catch(()=>{}),o=f,u}),await a.execute()}const i=[];for(let a=0;a<r.length;a++)try{const o=await r[a];if(o===void 0)throw new ss("Statement in a transaction was not executed, probably because the transaction has been rolled back",a,"TRANSACTION_CLOSED");i.push(nr(o))}catch(o){if(o instanceof ss)throw o;const l=be(o);throw l instanceof oe?new ss(l.message,a,l.code,l.extendedCode,l.rawCode,l.cause instanceof Error?l.cause:void 0):l}return i}catch(n){throw be(n)}}async executeMultiple(t){const s=this._getStream();if(s.closed)throw new oe("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{if(this.#s===void 0){this.#s=s.run(Ur(this.#e)).then(()=>{});try{await this.#s}catch(n){throw this.close(),n}}else await this.#s;await s.sequence(t)}catch(n){throw be(n)}}async rollback(){try{const t=this._getStream();if(t.closed||this.#s===void 0)return;const s=t.run("ROLLBACK").catch(n=>{throw be(n)});t.closeGracefully(),await s}catch(t){throw be(t)}finally{this.close()}}async commit(){try{const t=this._getStream();if(t.closed)throw new oe("Cannot commit the transaction because it is already closed","TRANSACTION_CLOSED");if(this.#s!==void 0)await this.#s;else return;const s=t.run("COMMIT").catch(n=>{throw be(n)});t.closeGracefully(),await s}catch(t){throw be(t)}finally{this.close()}}}async function Un(e,t,s,n,r=!1){r&&s.step().run("PRAGMA foreign_keys=off");const i=s.step(),a=i.run(Ur(e));let o=i;const l=n.map(g=>{const A=s.step().condition(Ve.ok(o));t>=3&&A.condition(Ve.not(Ve.isAutocommit(s)));const E=A.query(g);return o=A,E}),f=s.step().condition(Ve.ok(o));t>=3&&f.condition(Ve.not(Ve.isAutocommit(s)));const u=f.run("COMMIT");s.step().condition(Ve.not(Ve.ok(f))).run("ROLLBACK").catch(g=>{}),r&&s.step().run("PRAGMA foreign_keys=on"),await s.execute();const m=[];await a;for(let g=0;g<l.length;g++)try{const A=await l[g];if(A===void 0)throw new ss("Statement in a batch was not executed, probably because the transaction has been rolled back",g,"TRANSACTION_CLOSED");m.push(nr(A))}catch(A){if(A instanceof ss)throw A;const E=be(A);throw E instanceof oe?new ss(E.message,g,E.code,E.extendedCode,E.rawCode,E.cause instanceof Error?E.cause:void 0):E}return await u,m}function is(e){let t,s;Array.isArray(e)?[t,s]=e:typeof e=="string"?t=e:(t=e.sql,s=e.args);const n=new Fl(t);if(s)if(Array.isArray(s))n.bindIndexes(s);else for(const[r,i]of Object.entries(s))n.bindName(r,i);return n}function nr(e){const t=e.columnNames.map(a=>a??""),s=e.columnDecltypes.map(a=>a??""),n=e.rows,r=e.affectedRowCount,i=e.lastInsertRowid!==void 0?e.lastInsertRowid:void 0;return new Sh(t,s,n,r,i)}function be(e){if(e instanceof _e){const t=nc(e);return new oe(e.message,t,void 0,void 0,e)}return e}function nc(e){return e instanceof Ol&&e.code!==void 0?e.code:e instanceof J?"HRANA_PROTO_ERROR":e instanceof et?e.cause instanceof _e?nc(e.cause):"HRANA_CLOSED_ERROR":e instanceof Hr?"HRANA_WEBSOCKET_ERROR":e instanceof Sn?"SERVER_ERROR":e instanceof Rs?"PROTOCOL_VERSION_ERROR":e instanceof jt?"INTERNAL_ERROR":"UNKNOWN"}class Ri{#e;#t;capacity;constructor(t,s){this.#e=t,this.#t=new ym,this.capacity=s}apply(t){if(this.capacity<=0)return;const s=new Set;for(const n of t){if(typeof n.sql!="string")continue;const r=n.sql;if(r.length>=5e3)continue;let i=this.#t.get(r);if(i===void 0){for(;this.#t.size+1>this.capacity;){const[a,o]=this.#t.peekLru();if(s.has(o))break;o.close(),this.#t.delete(a)}this.#t.size+1<=this.capacity&&(i=this.#e.storeSql(r),this.#t.set(r,i))}i!==void 0&&(n.sql=i,s.add(i))}}}class ym{#e;constructor(){this.#e=new Map}get(t){const s=this.#e.get(t);return s!==void 0&&(this.#e.delete(t),this.#e.set(t,s)),s}set(t,s){this.#e.set(t,s)}peekLru(){for(const t of this.#e.entries())return t}delete(t){this.#e.delete(t)}get size(){return this.#e.size}}var wr,Bo;function gm(){if(Bo)return wr;Bo=1;function e(n){var r=0,i=[];function a(){r--,r<n&&o()}function o(){var d=i.shift();u.queue=i.length,d&&f(d.fn).then(d.resolve).catch(d.reject)}function l(d){return new Promise(function(m,g){i.push({fn:d,resolve:m,reject:g}),u.queue=i.length})}function f(d){r++;try{return Promise.resolve(d()).then(function(m){return a(),m},function(m){throw a(),m})}catch(m){return a(),Promise.reject(m)}}var u=function(d){return r>=n?l(d):f(d)};return u}function t(n,r){var i=!1,a=this;return Promise.all(n.map(function(){var o=arguments;return a(function(){if(!i)return r.apply(void 0,o).catch(function(l){throw i=!0,l})})}))}function s(n){return n.queue=0,n.map=t,n}return wr=function(n){return s(n?e(n):function(r){return r()})},wr}var bm=gm();const rc=qp(bm);function _m(e){if(e.scheme!=="wss"&&e.scheme!=="ws")throw new oe(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${on}`,"URL_SCHEME_NOT_SUPPORTED");if(e.encryptionKey!==void 0)throw new oe("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(e.scheme==="ws"&&e.tls)throw new oe('A "ws:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(e.scheme==="wss"&&!e.tls)throw new oe('A "wss:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const t=Lr(e.scheme,e.authority,e.path);let s;try{s=tc(t,e.authToken)}catch(n){if(n instanceof Pl){const r=e.scheme==="wss"?"https":"http",i=Lr(r,e.authority,e.path);throw new oe(`This environment does not support WebSockets, please switch to the HTTP client by using a "${r}:" URL (${JSON.stringify(i)}). For more information, please read ${on}`,"WEBSOCKETS_NOT_SUPPORTED")}throw be(n)}return new vm(s,t,e.authToken,e.intMode,e.concurrency)}const wm=60*1e3,Fo=100;class vm{#e;#t;#s;#n;#r;closed;protocol;#i;#o;constructor(t,s,n,r,i){this.#e=s,this.#t=n,this.#s=r,this.#n=this.#l(t),this.#r=void 0,this.closed=!1,this.protocol="ws",this.#o=rc(i)}async limit(t){return this.#o(t)}async execute(t,s){let n;return typeof t=="string"?n={sql:t,args:s||[]}:n=t,this.limit(async()=>{const r=await this.#a();try{const i=is(n);r.conn.sqlCache.apply([i]);const a=r.stream.query(i);r.stream.closeGracefully();const o=await a;return nr(o)}catch(i){throw be(i)}finally{this._closeStream(r)}})}async batch(t,s="deferred"){return this.limit(async()=>{const n=await this.#a();try{const i=t.map(u=>Array.isArray(u)?{sql:u[0],args:u[1]||[]}:u).map(is),a=await n.conn.client.getVersion();n.conn.sqlCache.apply(i);const o=n.stream.batch(a>=3);return await Un(s,a,o,i)}catch(r){throw be(r)}finally{this._closeStream(n)}})}async migrate(t){return this.limit(async()=>{const s=await this.#a();try{const n=t.map(is),r=await s.conn.client.getVersion(),i=s.stream.batch(r>=3);return await Un("deferred",r,i,n,!0)}catch(n){throw be(n)}finally{this._closeStream(s)}})}async transaction(t="write"){return this.limit(async()=>{const s=await this.#a();try{const n=await s.conn.client.getVersion();return new Em(this,s,t,n)}catch(n){throw this._closeStream(s),be(n)}})}async executeMultiple(t){return this.limit(async()=>{const s=await this.#a();try{const n=s.stream.sequence(t);s.stream.closeGracefully(),await n}catch(n){throw be(n)}finally{this._closeStream(s)}})}sync(){throw new oe("sync not supported in ws mode","SYNC_NOT_SUPPORTED")}async#a(){if(this.closed)throw new oe("The client is closed","CLIENT_CLOSED");if(new Date().valueOf()-this.#n.openTime.valueOf()>wm&&this.#r===void 0){const r=this.#l();this.#r=r,r.client.getVersion().then(i=>{this.#n!==r&&this.#n.streamStates.size===0&&this.#n.client.close(),this.#n=r,this.#r=void 0},i=>{this.#r=void 0})}if(this.#n.client.closed)try{this.#r!==void 0?this.#n=this.#r:this.#n=this.#l()}catch(r){throw be(r)}const n=this.#n;try{n.useSqlCache===void 0&&(n.useSqlCache=await n.client.getVersion()>=2,n.useSqlCache&&(n.sqlCache.capacity=Fo));const r=n.client.openStream();r.intMode=this.#s;const i={conn:n,stream:r};return n.streamStates.add(i),i}catch(r){throw be(r)}}#l(t){try{return t??=tc(this.#e,this.#t),{client:t,useSqlCache:void 0,sqlCache:new Ri(t,0),openTime:new Date,streamStates:new Set}}catch(s){throw be(s)}}async reconnect(){try{for(const n of Array.from(this.#n.streamStates))try{n.stream.close()}catch{}this.#n.client.close()}catch{}if(this.#r){try{this.#r.client.close()}catch{}this.#r=void 0}const t=this.#l(),s=await t.client.getVersion();t.useSqlCache=s>=2,t.useSqlCache&&(t.sqlCache.capacity=Fo),this.#n=t,this.closed=!1}_closeStream(t){t.stream.close();const s=t.conn;s.streamStates.delete(t),s.streamStates.size===0&&s!==this.#n&&s.client.close()}close(){if(this.#n.client.close(),this.closed=!0,this.#r){try{this.#r.client.close()}catch{}this.#r=void 0}this.closed=!0}}class Em extends sc{#e;#t;constructor(t,s,n,r){super(n,r),this.#e=t,this.#t=s}_getStream(){return this.#t.stream}_getSqlCache(){return this.#t.conn.sqlCache}close(){this.#e._closeStream(this.#t)}get closed(){return this.#t.stream.closed}}function Cm(e){if(e.scheme!=="https"&&e.scheme!=="http")throw new oe(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${on}`,"URL_SCHEME_NOT_SUPPORTED");if(e.encryptionKey!==void 0)throw new oe("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(e.scheme==="http"&&e.tls)throw new oe('A "http:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(e.scheme==="https"&&!e.tls)throw new oe('A "https:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const t=Lr(e.scheme,e.authority,e.path);return new Rm(t,e.authToken,e.intMode,e.fetch,e.concurrency,e.remoteEncryptionKey)}const ic=30;class Rm{#e;protocol;#t;#s;#n;#r;#i;#o;#a;constructor(t,s,n,r,i,a){this.#t=t,this.#i=s,this.#s=n,this.#n=r,this.#r=i,this.#o=a,this.#e=Lo(this.#t,this.#i,this.#n,a),this.#e.intMode=this.#s,this.protocol="http",this.#a=rc(this.#r)}async limit(t){return this.#a(t)}async execute(t,s){let n;return typeof t=="string"?n={sql:t,args:s||[]}:n=t,this.limit(async()=>{try{const r=is(n);let i;const a=this.#e.openStream();try{i=a.query(r)}finally{a.closeGracefully()}const o=await i;return nr(o)}catch(r){throw be(r)}})}async batch(t,s="deferred"){return this.limit(async()=>{try{const r=t.map(f=>Array.isArray(f)?{sql:f[0],args:f[1]||[]}:f).map(is),i=await this.#e.getVersion();let a;const o=this.#e.openStream();try{new Ri(o,ic).apply(r);const u=o.batch(!1);a=Un(s,i,u,r)}finally{o.closeGracefully()}return await a}catch(n){throw be(n)}})}async migrate(t){return this.limit(async()=>{try{const s=t.map(is),n=await this.#e.getVersion();let r;const i=this.#e.openStream();try{const o=i.batch(!1);r=Un("deferred",n,o,s,!0)}finally{i.closeGracefully()}return await r}catch(s){throw be(s)}})}async transaction(t="write"){return this.limit(async()=>{try{const s=await this.#e.getVersion();return new Sm(this.#e.openStream(),t,s)}catch(s){throw be(s)}})}async executeMultiple(t){return this.limit(async()=>{try{let s;const n=this.#e.openStream();try{s=n.sequence(t)}finally{n.closeGracefully()}await s}catch(s){throw be(s)}})}sync(){throw new oe("sync not supported in http mode","SYNC_NOT_SUPPORTED")}close(){this.#e.close()}async reconnect(){try{this.closed||this.#e.close()}finally{this.#e=Lo(this.#t,this.#i,this.#n,this.#o),this.#e.intMode=this.#s}}get closed(){return this.#e.closed}}class Sm extends sc{#e;#t;constructor(t,s,n){super(s,n),this.#e=t,this.#t=new Ri(t,ic)}_getStream(){return this.#e}_getSqlCache(){return this.#t}close(){this.#e.close()}get closed(){return this.#e.closed}}function oc(e){return ac(xh(e))}function ac(e){if(e.scheme==="ws"||e.scheme==="wss")return _m(e);if(e.scheme==="http"||e.scheme==="https")return Cm(e);throw new oe(`The client that uses Web standard APIs supports only "libsql:", "wss:", "ws:", "https:" and "http:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${on}`,"URL_SCHEME_NOT_SUPPORTED")}const Ps=Object.freeze(Object.defineProperty({__proto__:null,LibsqlBatchError:ss,LibsqlError:oe,_createClient:ac,createClient:oc},Symbol.toStringTag,{value:"Module"})),Dm=oc({url:void 0,authToken:void 0});async function Xe(e,t=[]){try{const s=await Dm.execute({sql:e,args:t});return s.rows.map(n=>{const r={};return s.columns.forEach((i,a)=>{r[i]=n[a]}),r})}catch(s){throw console.error("DB Query Error:",s),s}}async function Rt(e,t=[]){const s=await Xe(e,t);return s.length>0?s[0]:null}const Tm={async getNews(e=20){return await Xe(`
      SELECT * FROM news_monitoring
      ORDER BY timestamp DESC
      LIMIT ?
    `,[e])},async getNewsById(e){return await Rt("SELECT * FROM news_monitoring WHERE id = ?",[e])},async getAnalyses(e=20){return await Xe(`
      SELECT * FROM llm_analysis
      ORDER BY timestamp DESC
      LIMIT ?
    `,[e])},async getAnalysisById(e){return await Rt("SELECT * FROM llm_analysis WHERE id = ?",[e])},async getAnalysesWithNews(e=20){return await Xe(`
      SELECT 
        a.*,
        n.title as news_title,
        n.source as news_source,
        n.sentiment as news_sentiment
      FROM llm_analysis a
      LEFT JOIN news_monitoring n ON a.news_id = n.id
      ORDER BY a.timestamp DESC
      LIMIT ?
    `,[e])},async getTrades(e=null,t=50){return e?await Xe(`
        SELECT * FROM trade_orders
        WHERE symbol = ?
        ORDER BY timestamp DESC
        LIMIT ?
      `,[e,t]):await Xe(`
        SELECT * FROM trade_orders
        ORDER BY timestamp DESC
        LIMIT ?
      `,[t])},async getTradeById(e){return await Rt("SELECT * FROM trade_orders WHERE id = ?",[e])},async getOpenPositions(){return await Xe(`
      SELECT * FROM positions
      WHERE status = 'open'
      ORDER BY timestamp DESC
    `)},async getPositionHistory(e=50){return await Xe(`
      SELECT * FROM positions
      ORDER BY timestamp DESC
      LIMIT ?
    `,[e])},async getPositionById(e){return await Rt("SELECT * FROM positions WHERE id = ?",[e])},async getLatestPortfolio(){return await Rt(`
      SELECT * FROM portfolio_snapshots
      ORDER BY timestamp DESC
      LIMIT 1
    `)},async getPortfolioHistory(e=100){return await Xe(`
      SELECT * FROM portfolio_snapshots
      ORDER BY timestamp DESC
      LIMIT ?
    `,[e])},async getTradingStats(){const t=(await Rt("SELECT COUNT(*) as total FROM trade_orders"))?.total||0,s=await Xe(`
      SELECT side, COUNT(*) as count
      FROM trade_orders
      GROUP BY side
    `),n=s.find(l=>l.side==="buy")?.count||0,r=s.find(l=>l.side==="sell")?.count||0,i=await Rt(`
      SELECT SUM(pnl) as total_pnl, AVG(pnl_percent) as avg_pnl_percent
      FROM positions
      WHERE status = 'closed'
    `),a=await Rt(`
      SELECT
        SUM(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) as wins,
        SUM(CASE WHEN pnl <= 0 THEN 1 ELSE 0 END) as losses,
        COUNT(*) as total
      FROM positions
      WHERE status = 'closed'
    `),o=a?.total>0?a.wins/a.total*100:0;return{total_trades:t,buy_count:n,sell_count:r,total_pnl:i?.total_pnl||0,avg_pnl_percent:i?.avg_pnl_percent||0,wins:a?.wins||0,losses:a?.losses||0,win_rate:o}},async getDashboardSummary(){const e=await this.getLatestPortfolio(),t=await this.getTradingStats(),s=await this.getOpenPositions(),n=await this.getTrades(null,5);return{portfolio:e,stats:t,open_positions:s,recent_trades:n}},async getEventLogs(e=null,t=100){return e?await Xe(`
        SELECT * FROM system_events
        WHERE event_type = ?
        ORDER BY timestamp DESC
        LIMIT ?
      `,[e,t]):await Xe(`
        SELECT * FROM system_events
        ORDER BY timestamp DESC
        LIMIT ?
      `,[t])},async healthCheck(){try{return await Rt("SELECT 1"),{status:"healthy",database:"connected"}}catch(e){return{status:"unhealthy",error:e.message}}}},lc=6048e5,xm=864e5,Uo=Symbol.for("constructDateFrom");function Gt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Uo in e?e[Uo](t):e instanceof Date?new e.constructor(t):new Date(t)}function lt(e,t){return Gt(t||e,e)}let Am={};function rr(){return Am}function ln(e,t){const s=rr(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,r=lt(e,t?.in),i=r.getDay(),a=(i<n?7:0)+i-n;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Hn(e,t){return ln(e,{...t,weekStartsOn:1})}function cc(e,t){const s=lt(e,t?.in),n=s.getFullYear(),r=Gt(s,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Hn(r),a=Gt(s,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Hn(a);return s.getTime()>=i.getTime()?n+1:s.getTime()>=o.getTime()?n:n-1}function Ho(e){const t=lt(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Om(e,...t){const s=Gt.bind(null,t.find(n=>typeof n=="object"));return t.map(s)}function Wo(e,t){const s=lt(e,t?.in);return s.setHours(0,0,0,0),s}function Pm(e,t,s){const[n,r]=Om(s?.in,e,t),i=Wo(n),a=Wo(r),o=+i-Ho(i),l=+a-Ho(a);return Math.round((o-l)/xm)}function Im(e,t){const s=cc(e,t),n=Gt(e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),Hn(n)}function qm(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function km(e){return!(!qm(e)&&typeof e!="number"||isNaN(+lt(e)))}function Mm(e,t){const s=lt(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Nm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lm=(e,t,s)=>{let n;const r=Nm[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function vr(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Bm={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Um={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hm={date:vr({formats:Bm,defaultWidth:"full"}),time:vr({formats:Fm,defaultWidth:"full"}),dateTime:vr({formats:Um,defaultWidth:"full"})},Wm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$m=(e,t,s,n)=>Wm[e];function Bs(e){return(t,s)=>{const n=s?.context?String(s.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=s?.width?String(s.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=s?.width?String(s.width):e.defaultWidth;r=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const Vm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ym={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Km={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zm=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Jm={ordinalNumber:zm,era:Bs({values:Vm,defaultWidth:"wide"}),quarter:Bs({values:jm,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bs({values:Ym,defaultWidth:"wide"}),day:Bs({values:Gm,defaultWidth:"wide"}),dayPeriod:Bs({values:Km,defaultWidth:"wide",formattingValues:Qm,defaultFormattingWidth:"wide"})};function Fs(e){return(t,s={})=>{const n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Zm(o,d=>d.test(a)):Xm(o,d=>d.test(a));let f;f=e.valueCallback?e.valueCallback(l):l,f=s.valueCallback?s.valueCallback(f):f;const u=t.slice(a.length);return{value:f,rest:u}}}function Xm(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function Zm(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function ey(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=s.valueCallback?s.valueCallback(a):a;const o=t.slice(r.length);return{value:a,rest:o}}}const ty=/^(\d+)(th|st|nd|rd)?/i,sy=/\d+/i,ny={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ry={any:[/^b/i,/^(a|c)/i]},iy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oy={any:[/1/i,/2/i,/3/i,/4/i]},ay={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ly={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hy={ordinalNumber:ey({matchPattern:ty,parsePattern:sy,valueCallback:e=>parseInt(e,10)}),era:Fs({matchPatterns:ny,defaultMatchWidth:"wide",parsePatterns:ry,defaultParseWidth:"any"}),quarter:Fs({matchPatterns:iy,defaultMatchWidth:"wide",parsePatterns:oy,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fs({matchPatterns:ay,defaultMatchWidth:"wide",parsePatterns:ly,defaultParseWidth:"any"}),day:Fs({matchPatterns:cy,defaultMatchWidth:"wide",parsePatterns:uy,defaultParseWidth:"any"}),dayPeriod:Fs({matchPatterns:fy,defaultMatchWidth:"any",parsePatterns:dy,defaultParseWidth:"any"})},py={code:"en-US",formatDistance:Lm,formatLong:Hm,formatRelative:$m,localize:Jm,match:hy,options:{weekStartsOn:0,firstWeekContainsDate:1}};function my(e,t){const s=lt(e,t?.in);return Pm(s,Mm(s))+1}function yy(e,t){const s=lt(e,t?.in),n=+Hn(s)-+Im(s);return Math.round(n/lc)+1}function uc(e,t){const s=lt(e,t?.in),n=s.getFullYear(),r=rr(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Gt(t?.in||e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=ln(a,t),l=Gt(t?.in||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const f=ln(l,t);return+s>=+o?n+1:+s>=+f?n:n-1}function gy(e,t){const s=rr(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,r=uc(e,t),i=Gt(t?.in||e,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),ln(i,t)}function by(e,t){const s=lt(e,t?.in),n=+ln(s,t)-+gy(s,t);return Math.round(n/lc)+1}function le(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const Lt={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return le(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):le(s+1,2)},d(e,t){return le(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return s==="am"?"a.m.":"p.m."}},h(e,t){return le(e.getHours()%12||12,t.length)},H(e,t){return le(e.getHours(),t.length)},m(e,t){return le(e.getMinutes(),t.length)},s(e,t){return le(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,s-3));return le(r,t.length)}},ls={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$o={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return s.ordinalNumber(r,{unit:"year"})}return Lt.y(e,t)},Y:function(e,t,s,n){const r=uc(e,n),i=r>0?r:1-r;if(t==="YY"){const a=i%100;return le(a,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):le(i,t.length)},R:function(e,t){const s=cc(e);return le(s,t.length)},u:function(e,t){const s=e.getFullYear();return le(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return le(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return le(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Lt.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return le(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const r=by(e,n);return t==="wo"?s.ordinalNumber(r,{unit:"week"}):le(r,t.length)},I:function(e,t,s){const n=yy(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):le(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Lt.d(e,t)},D:function(e,t,s){const n=my(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):le(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return le(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return le(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return le(r,t.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let r;switch(n===12?r=ls.noon:n===0?r=ls.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let r;switch(n>=17?r=ls.evening:n>=12?r=ls.afternoon:n>=4?r=ls.morning:r=ls.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Lt.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Lt.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):le(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):le(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lt.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Lt.s(e,t)},S:function(e,t){return Lt.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jo(n);case"XXXX":case"XX":return Xt(n);default:return Xt(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return jo(n);case"xxxx":case"xx":return Xt(n);default:return Xt(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vo(n,":");default:return"GMT"+Xt(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vo(n,":");default:return"GMT"+Xt(n,":")}},t:function(e,t,s){const n=Math.trunc(+e/1e3);return le(n,t.length)},T:function(e,t,s){return le(+e,t.length)}};function Vo(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),i=n%60;return i===0?s+String(r):s+String(r)+t+le(i,2)}function jo(e,t){return e%60===0?(e>0?"-":"+")+le(Math.abs(e)/60,2):Xt(e,t)}function Xt(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),r=le(Math.trunc(n/60),2),i=le(n%60,2);return s+r+t+i}const Yo=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},fc=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},_y=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],r=s[2];if(!r)return Yo(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Yo(n,t)).replace("{{time}}",fc(r,t))},wy={p:fc,P:_y},vy=/^D+$/,Ey=/^Y+$/,Cy=["D","DD","YY","YYYY"];function Ry(e){return vy.test(e)}function Sy(e){return Ey.test(e)}function Dy(e,t,s){const n=Ty(e,t,s);if(console.warn(n),Cy.includes(e))throw new RangeError(n)}function Ty(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ay=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oy=/^'([^]*?)'?$/,Py=/''/g,Iy=/[a-zA-Z]/;function Wt(e,t,s){const n=rr(),r=n.locale??py,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=lt(e,s?.in);if(!km(o))throw new RangeError("Invalid time value");let l=t.match(Ay).map(u=>{const d=u[0];if(d==="p"||d==="P"){const m=wy[d];return m(u,r.formatLong)}return u}).join("").match(xy).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:qy(u)};if($o[d])return{isToken:!0,value:u};if(d.match(Iy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const f={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(Sy(d)||Ry(d))&&Dy(d,t,String(e));const m=$o[d[0]];return m(o,d,r.localize,f)}).join("")}function qy(e){const t=e.match(Oy);return t?t[1].replace(Py,"'"):e}const ky={name:"Dashboard",data(){return{summary:{portfolio:null,stats:{},open_positions:[],recent_trades:[]},loading:!0,error:null}},mounted(){this.loadDashboard(),this.interval=setInterval(()=>{this.loadDashboard()},3e4)},beforeUnmount(){this.interval&&clearInterval(this.interval)},methods:{async loadDashboard(){try{this.summary=await Tm.getDashboardSummary(),this.loading=!1}catch(e){this.error="   .",this.loading=!1,console.error(e)}},formatNumber(e,t=2){return e==null?"0":Number(e).toFixed(t)},formatDate(e){return e?Wt(new Date(e),"yyyy-MM-dd HH:mm"):"-"}}},My={class:"dashboard"},Ny={key:0,class:"loading"},Ly={key:1,class:"error"},By={key:2},Fy={key:0,class:"grid grid-4"},Uy={class:"stat-card"},Hy={class:"stat-value"},Wy={class:"stat-card"},$y={class:"stat-value"},Vy={class:"stat-card"},jy={class:"stat-value"},Yy={class:"stat-change"},Gy={class:"stat-card"},Ky={class:"stat-value"},Qy={class:"card"},zy={class:"grid grid-4"},Jy={class:"stat-card"},Xy={class:"stat-value"},Zy={class:"stat-card"},eg={class:"stat-value"},tg={class:"stat-change"},sg={class:"stat-card"},ng={class:"stat-card"},rg={class:"card"},ig={key:0,class:"loading"},og={key:1,class:"table-container"},ag={class:"card"},lg={key:0,class:"loading"},cg={key:1,class:"table-container"},ug={class:"badge badge-info"};function fg(e,t,s,n,r,i){return w(),v("div",My,[t[13]||(t[13]=c("div",{class:"page-header"},[c("h1",{class:"page-title"},""),c("p",{class:"page-subtitle"},"  ")],-1)),r.loading?(w(),v("div",Ny," ...")):r.error?(w(),v("div",Ly,_(r.error),1)):(w(),v("div",By,[r.summary.portfolio?(w(),v("div",Fy,[c("div",Uy,[t[0]||(t[0]=c("div",{class:"stat-label"}," ",-1)),c("div",Hy,"$"+_(i.formatNumber(r.summary.portfolio.total_balance)),1),c("div",{class:z(["stat-change",r.summary.portfolio.total_pnl>=0?"positive":"negative"])},_(r.summary.portfolio.total_pnl>=0?"":"")+" $"+_(i.formatNumber(Math.abs(r.summary.portfolio.total_pnl||0))),3)]),c("div",Wy,[t[1]||(t[1]=c("div",{class:"stat-label"}," ",-1)),c("div",$y,"$"+_(i.formatNumber(r.summary.portfolio.free_balance)),1)]),c("div",Vy,[t[2]||(t[2]=c("div",{class:"stat-label"},"BTC ",-1)),c("div",jy,_(i.formatNumber(r.summary.portfolio.btc_amount,6)),1),c("div",Yy,"$"+_(i.formatNumber(r.summary.portfolio.btc_value_usdt)),1)]),c("div",Gy,[t[3]||(t[3]=c("div",{class:"stat-label"}," ",-1)),c("div",Ky,_(r.summary.portfolio.open_positions_count),1)])])):te("",!0),c("div",Qy,[t[8]||(t[8]=c("div",{class:"card-header"}," ",-1)),c("div",zy,[c("div",Jy,[t[4]||(t[4]=c("div",{class:"stat-label"},"  ",-1)),c("div",Xy,_(r.summary.stats.total_trades),1)]),c("div",Zy,[t[5]||(t[5]=c("div",{class:"stat-label"},"",-1)),c("div",eg,_(i.formatNumber(r.summary.stats.win_rate))+"%",1),c("div",tg,_(r.summary.stats.wins)+" "+_(r.summary.stats.losses)+"",1)]),c("div",sg,[t[6]||(t[6]=c("div",{class:"stat-label"}," ",-1)),c("div",{class:z(["stat-value",r.summary.stats.total_pnl>=0?"positive":"negative"])}," $"+_(i.formatNumber(r.summary.stats.total_pnl)),3)]),c("div",ng,[t[7]||(t[7]=c("div",{class:"stat-label"}," ",-1)),c("div",{class:z(["stat-value",r.summary.stats.avg_pnl_percent>=0?"positive":"negative"])},_(i.formatNumber(r.summary.stats.avg_pnl_percent))+"% ",3)])])]),c("div",rg,[t[10]||(t[10]=c("div",{class:"card-header"}," ",-1)),r.summary.open_positions.length===0?(w(),v("div",ig,"   . ")):(w(),v("div",og,[c("table",null,[t[9]||(t[9]=c("thead",null,[c("tr",null,[c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(w(!0),v(ye,null,Fe(r.summary.open_positions,a=>(w(),v("tr",{key:a.id},[c("td",null,_(a.symbol),1),c("td",null,[c("span",{class:z(["badge",a.side==="buy"?"badge-success":"badge-danger"])},_(a.side==="buy"?"":""),3)]),c("td",null,"$"+_(i.formatNumber(a.entry_price)),1),c("td",null,_(i.formatNumber(a.amount,6)),1),c("td",null,_(i.formatDate(a.timestamp)),1)]))),128))])])]))]),c("div",ag,[t[12]||(t[12]=c("div",{class:"card-header"}," ",-1)),r.summary.recent_trades.length===0?(w(),v("div",lg,"   . ")):(w(),v("div",cg,[c("table",null,[t[11]||(t[11]=c("thead",null,[c("tr",null,[c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(w(!0),v(ye,null,Fe(r.summary.recent_trades,a=>(w(),v("tr",{key:a.id},[c("td",null,_(i.formatDate(a.timestamp)),1),c("td",null,_(a.symbol),1),c("td",null,[c("span",{class:z(["badge",a.side==="buy"?"badge-success":"badge-danger"])},_(a.side==="buy"?"":""),3)]),c("td",null,_(i.formatNumber(a.amount,6)),1),c("td",null,"$"+_(i.formatNumber(a.filled_price||a.price)),1),c("td",null,[c("span",ug,_(a.status),1)])]))),128))])])]))])]))])}const dg=Mt(ky,[["render",fg]]),hg="modulepreload",pg=function(e){return"/PanoptiCo-Dashboard.github.io/"+e},Go={},Is=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){let f=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var a=f;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");r=f(s.map(u=>{if(u=pg(u),u in Go)return;Go[u]=!0;const d=u.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":hg,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((A,E)=>{g.addEventListener("load",A),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},mg={name:"DateRangePicker",props:{startDate:String,endDate:String},data(){return{localStartDate:this.startDate||"",localEndDate:this.endDate||"",maxDate:new Date().toISOString().split("T")[0]}},watch:{startDate(e){this.localStartDate=e||""},endDate(e){this.localEndDate=e||""}},methods:{handleDateChange(){this.$emit("update:startDate",this.localStartDate),this.$emit("update:endDate",this.localEndDate),this.$emit("change",{startDate:this.localStartDate,endDate:this.localEndDate})},setToday(){const e=new Date().toISOString().split("T")[0];this.localStartDate=e,this.localEndDate=e,this.handleDateChange()},setYesterday(){const e=new Date;e.setDate(e.getDate()-1);const t=e.toISOString().split("T")[0];this.localStartDate=t,this.localEndDate=t,this.handleDateChange()},setLastWeek(){const e=new Date,t=new Date;t.setDate(t.getDate()-7),this.localStartDate=t.toISOString().split("T")[0],this.localEndDate=e.toISOString().split("T")[0],this.handleDateChange()},setLastMonth(){const e=new Date,t=new Date;t.setDate(t.getDate()-30),this.localStartDate=t.toISOString().split("T")[0],this.localEndDate=e.toISOString().split("T")[0],this.handleDateChange()},setAll(){this.localStartDate="",this.localEndDate="",this.handleDateChange()}}},yg={class:"date-range-picker"},gg={class:"date-inputs"},bg={class:"date-input-group"},_g=["max"],wg={class:"date-input-group"},vg=["min","max"],Eg={class:"quick-filters"};function Cg(e,t,s,n,r,i){return w(),v("div",yg,[c("div",gg,[c("div",bg,[t[9]||(t[9]=c("label",null,"",-1)),qi(c("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=a=>r.localStartDate=a),onChange:t[1]||(t[1]=(...a)=>i.handleDateChange&&i.handleDateChange(...a)),max:r.localEndDate||r.maxDate},null,40,_g),[[ao,r.localStartDate]])]),t[11]||(t[11]=c("span",{class:"separator"},"~",-1)),c("div",wg,[t[10]||(t[10]=c("label",null,"",-1)),qi(c("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=a=>r.localEndDate=a),onChange:t[3]||(t[3]=(...a)=>i.handleDateChange&&i.handleDateChange(...a)),min:r.localStartDate,max:r.maxDate},null,40,vg),[[ao,r.localEndDate]])])]),c("div",Eg,[c("button",{onClick:t[4]||(t[4]=(...a)=>i.setToday&&i.setToday(...a)),class:"quick-btn"},""),c("button",{onClick:t[5]||(t[5]=(...a)=>i.setYesterday&&i.setYesterday(...a)),class:"quick-btn"},""),c("button",{onClick:t[6]||(t[6]=(...a)=>i.setLastWeek&&i.setLastWeek(...a)),class:"quick-btn"}," 7"),c("button",{onClick:t[7]||(t[7]=(...a)=>i.setLastMonth&&i.setLastMonth(...a)),class:"quick-btn"}," 30"),c("button",{onClick:t[8]||(t[8]=(...a)=>i.setAll&&i.setAll(...a)),class:"quick-btn"},"")])])}const qs=Mt(mg,[["render",Cg],["__scopeId","data-v-f4e3d13e"]]),Rg={name:"Timeline",components:{DateRangePicker:qs},data(){return{timeline:[],loading:!0,error:null,startDate:"",endDate:""}},async mounted(){await this.loadTimeline(),this.refreshInterval=setInterval(()=>{this.loadTimeline()},1e4)},beforeUnmount(){this.refreshInterval&&clearInterval(this.refreshInterval)},methods:{handleDateChange({startDate:e,endDate:t}){this.startDate=e,this.endDate=t,this.loadTimeline()},async loadTimeline(){try{this.loading=!0,this.error=null;let e="SELECT * FROM news_monitoring";const t=[];this.startDate&&this.endDate?(e+=" WHERE DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)):this.startDate?(e+=" WHERE DATE(timestamp) >= ?",t.push(this.startDate)):this.endDate&&(e+=" WHERE DATE(timestamp) <= ?",t.push(this.endDate)),e+=" ORDER BY timestamp DESC LIMIT 50";const s=await this.fetchAll(e,t),n=[];for(const r of s){const i=r.id,o=await this.fetchOne(`
            SELECT * FROM llm_analysis
            WHERE news_id = ?
            ORDER BY timestamp DESC
            LIMIT 1
          `,[i]);let l=[];o&&(l=await this.fetchAll(`
              SELECT * FROM trade_orders
              WHERE analysis_id = ?
              ORDER BY timestamp DESC
            `,[o.id])),n.push({news:r,analysis:o,trades:l})}this.timeline=n}catch(e){console.error("  :",e),this.error="  : "+e.message}finally{this.loading=!1}},async fetchAll(e,t=[]){try{const{createClient:s}=await Is(async()=>{const{createClient:i}=await Promise.resolve().then(()=>Ps);return{createClient:i}},void 0),r=await s({url:void 0,authToken:void 0}).execute({sql:e,args:t});return r.rows.map(i=>{const a={};return r.columns.forEach((o,l)=>{a[o]=i[l]}),a})}catch(s){throw console.error("DB Query Error:",s),s}},async fetchOne(e,t=[]){const s=await this.fetchAll(e,t);return s.length>0?s[0]:null},formatTime(e){if(!e)return"";const t=new Date(e),n=new Date-t,r=Math.floor(n/6e4);return r<1?" ":r<60?`${r} `:r<1440?`${Math.floor(r/60)} `:t.toLocaleDateString()+" "+t.toLocaleTimeString()},formatDecision(e){return{up:"  ",down:"  ",hold:" ",none:"  ",buy:" ",sell:" "}[e]||e},formatStatus(e){return{filled:" ",pending:" ",canceled:" ",closed:" "}[e]||e},getConfidenceClass(e){return e>=.8?"high":e>=.6?"medium":"low"},truncate(e,t){return e?e.length>t?e.substring(0,t)+"...":e:""}}},Sg={class:"timeline-container"},Dg={key:0,class:"loading"},Tg={key:1,class:"error"},xg={key:2,class:"timeline"},Ag={class:"section news-section"},Og={class:"section-header"},Pg={class:"timestamp"},Ig={class:"section-content"},qg={class:"source-badge"},kg={class:"news-title"},Mg={class:"news-content"},Ng={key:0,class:"sentiment"},Lg={key:0,class:"section analysis-section"},Bg={class:"section-header"},Fg={class:"timestamp"},Ug={class:"section-content"},Hg={class:"analysis-result"},Wg={class:"value"},$g={class:"confidence"},Vg={class:"confidence-bar"},jg={class:"confidence-text"},Yg={class:"reasoning"},Gg={key:1,class:"section analysis-section no-data"},Kg={key:2,class:"connector"},Qg={key:3,class:"section trades-section"},zg={class:"section-header"},Jg={class:"timestamp"},Xg={class:"section-content"},Zg={class:"trade-info"},eb={class:"trade-symbol"},tb={class:"trade-details"},sb={class:"detail-item"},nb={class:"value"},rb={class:"detail-item"},ib={class:"value"},ob={key:0,class:"detail-item"},ab={key:4,class:"section trades-section no-data"},lb={class:"section-content"},cb={class:"no-data-text"},ub={key:0,class:"reason"},fb={key:3,class:"empty"};function db(e,t,s,n,r,i){const a=$t("DateRangePicker");return w(),v("div",Sg,[t[21]||(t[21]=c("div",{class:"header"},[c("h1",null,"  "),c("p",{class:"subtitle"},"   AI      ")],-1)),ue(a,{startDate:r.startDate,endDate:r.endDate,onChange:i.handleDateChange},null,8,["startDate","endDate","onChange"]),r.loading?(w(),v("div",Dg,[...t[1]||(t[1]=[c("div",{class:"spinner"},null,-1),c("p",null,"  ...",-1)])])):r.error?(w(),v("div",Tg,[c("p",null," "+_(r.error),1),c("button",{onClick:t[0]||(t[0]=(...o)=>i.loadTimeline&&i.loadTimeline(...o))}," ")])):(w(),v("div",xg,[(w(!0),v(ye,null,Fe(r.timeline,o=>(w(),v("div",{key:o.news.id,class:z(["timeline-item",{"has-trade":o.trades.length>0}])},[c("div",Ag,[c("div",Og,[t[2]||(t[2]=c("span",{class:"icon"},"",-1)),t[3]||(t[3]=c("h3",null," ",-1)),c("span",Pg,_(i.formatTime(o.news.timestamp)),1)]),c("div",Ig,[c("div",qg,_(o.news.source),1),c("h4",kg,_(o.news.title),1),c("p",Mg,_(i.truncate(o.news.content,200)),1),o.news.sentiment?(w(),v("div",Ng,[t[4]||(t[4]=Le(" : ",-1)),c("span",{class:z(`sentiment-${o.news.sentiment}`)},_(o.news.sentiment),3)])):te("",!0)])]),t[19]||(t[19]=c("div",{class:"connector"},[c("div",{class:"line"}),c("div",{class:"arrow"},"")],-1)),o.analysis?(w(),v("div",Lg,[c("div",Bg,[t[5]||(t[5]=c("span",{class:"icon"},"",-1)),t[6]||(t[6]=c("h3",null,"AI ",-1)),c("span",Fg,_(i.formatTime(o.analysis.timestamp)),1)]),c("div",Ug,[c("div",Hg,[c("div",{class:z(["decision",`decision-${o.analysis.decision}`])},[t[7]||(t[7]=c("span",{class:"label"},":",-1)),c("span",Wg,_(i.formatDecision(o.analysis.decision)),1)],2),c("div",$g,[t[8]||(t[8]=c("span",{class:"label"},":",-1)),c("div",Vg,[c("div",{class:z(["confidence-fill",i.getConfidenceClass(o.analysis.confidence)]),style:Yn({width:o.analysis.confidence*100+"%"})},null,6),c("span",jg,_((o.analysis.confidence*100).toFixed(1))+"%",1)])]),c("div",Yg,[t[9]||(t[9]=c("span",{class:"label"},":",-1)),c("p",null,_(o.analysis.reasoning),1)])])])])):(w(),v("div",Gg,[...t[10]||(t[10]=[c("div",{class:"section-header"},[c("span",{class:"icon"},""),c("h3",null,"AI ")],-1),c("div",{class:"section-content"},[c("p",{class:"no-data-text"},"  ")],-1)])])),o.analysis?(w(),v("div",Kg,[...t[11]||(t[11]=[c("div",{class:"line"},null,-1),c("div",{class:"arrow"},"",-1)])])):te("",!0),o.trades.length>0?(w(),v("div",Qg,[c("div",zg,[t[12]||(t[12]=c("span",{class:"icon"},"",-1)),t[13]||(t[13]=c("h3",null," ",-1)),c("span",Jg,_(i.formatTime(o.trades[0].timestamp)),1)]),c("div",Xg,[(w(!0),v(ye,null,Fe(o.trades,l=>(w(),v("div",{key:l.id,class:"trade-item"},[c("div",Zg,[c("span",{class:z(["trade-side",`side-${l.side}`])},_(l.side==="buy"?" ":" "),3),c("span",eb,_(l.symbol),1),c("span",{class:z(["trade-status",`status-${l.status}`])},_(i.formatStatus(l.status)),3)]),c("div",tb,[c("div",sb,[t[14]||(t[14]=c("span",{class:"label"},":",-1)),c("span",nb,_(l.amount?.toFixed(6)),1)]),c("div",rb,[t[15]||(t[15]=c("span",{class:"label"},":",-1)),c("span",ib,"$"+_(l.filled_price?.toLocaleString()),1)]),l.pnl?(w(),v("div",ob,[t[16]||(t[16]=c("span",{class:"label"},":",-1)),c("span",{class:z(["value",l.pnl>0?"profit":"loss"])},_(l.pnl>0?"+":"")+"$"+_(l.pnl.toLocaleString()),3)])):te("",!0)])]))),128))])])):o.analysis?(w(),v("div",ab,[t[18]||(t[18]=c("div",{class:"section-header"},[c("span",{class:"icon"},""),c("h3",null," ")],-1)),c("div",lb,[c("p",cb,[t[17]||(t[17]=Le("   ",-1)),o.analysis.confidence<.6?(w(),v("span",ub," ( : "+_((o.analysis.confidence*100).toFixed(1))+"%) ",1)):te("",!0)])])])):te("",!0)],2))),128))])),!r.loading&&r.timeline.length===0?(w(),v("div",fb,[...t[20]||(t[20]=[c("p",null,"   ",-1),c("p",{class:"hint"},"news-test   !",-1)])])):te("",!0)])}const hb=Mt(Rg,[["render",db],["__scopeId","data-v-31127a11"]]),pb={name:"News",components:{DateRangePicker:qs},data(){return{newsList:[],loading:!0,error:null,startDate:"",endDate:""}},mounted(){this.loadNews()},methods:{handleDateChange({startDate:e,endDate:t}){this.startDate=e,this.endDate=t,this.loadNews()},async loadNews(){try{this.loading=!0;let e="SELECT * FROM news_monitoring";const t=[];this.startDate&&this.endDate?(e+=" WHERE DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)):this.startDate?(e+=" WHERE DATE(timestamp) >= ?",t.push(this.startDate)):this.endDate&&(e+=" WHERE DATE(timestamp) <= ?",t.push(this.endDate)),e+=" ORDER BY timestamp DESC LIMIT 100",this.newsList=await this.fetchAll(e,t),this.loading=!1}catch(e){this.error="  .",this.loading=!1,console.error(e)}},async fetchAll(e,t=[]){try{const{createClient:s}=await Is(async()=>{const{createClient:i}=await Promise.resolve().then(()=>Ps);return{createClient:i}},void 0),r=await s({url:void 0,authToken:void 0}).execute({sql:e,args:t});return r.rows.map(i=>{const a={};return r.columns.forEach((o,l)=>{a[o]=i[l]}),a})}catch(s){throw console.error("DB Query Error:",s),s}},formatDate(e){return e?Wt(new Date(e),"yyyy-MM-dd HH:mm:ss"):"-"},parseKeywords(e){if(!e)return[];try{return JSON.parse(e)}catch{return[]}},getSentimentClass(e){return e==="positive"?"badge-success":e==="negative"?"badge-danger":"badge-warning"}}},mb={class:"news"},yb={key:0,class:"loading"},gb={key:1,class:"error"},bb={key:2},_b={style:{display:"flex","justify-content":"space-between","align-items":"start","margin-bottom":"1rem"}},wb={style:{color:"#00d4ff","margin-bottom":"0.5rem"}},vb={style:{display:"flex",gap:"1rem",color:"#b0b0b0","font-size":"0.875rem"}},Eb={key:0,style:{color:"#e0e0e0","margin-bottom":"1rem","line-height":"1.6"}},Cb={key:1,style:{"margin-top":"1rem"}},Rb=["href"],Sb={key:2,style:{"margin-top":"1rem"}},Db={key:0,class:"loading"};function Tb(e,t,s,n,r,i){const a=$t("DateRangePicker");return w(),v("div",mb,[t[0]||(t[0]=c("div",{class:"page-header"},[c("h1",{class:"page-title"}," "),c("p",{class:"page-subtitle"},"     ")],-1)),ue(a,{startDate:r.startDate,endDate:r.endDate,onChange:i.handleDateChange},null,8,["startDate","endDate","onChange"]),r.loading?(w(),v("div",yb," ...")):r.error?(w(),v("div",gb,_(r.error),1)):(w(),v("div",bb,[(w(!0),v(ye,null,Fe(r.newsList,o=>(w(),v("div",{class:"card",key:o.id},[c("div",_b,[c("div",null,[c("h3",wb,_(o.title||" "),1),c("div",vb,[c("span",null," "+_(o.source),1),c("span",null," "+_(i.formatDate(o.timestamp)),1),o.sentiment?(w(),v("span",{key:0,class:z(["badge",i.getSentimentClass(o.sentiment)])},_(o.sentiment),3)):te("",!0)])])]),o.content?(w(),v("div",Eb,_(o.content),1)):te("",!0),o.url?(w(),v("div",Cb,[c("a",{href:o.url,target:"_blank",style:{color:"#00d4ff","text-decoration":"none"}},"    ",8,Rb)])):te("",!0),o.keywords?(w(),v("div",Sb,[(w(!0),v(ye,null,Fe(i.parseKeywords(o.keywords),(l,f)=>(w(),v("span",{key:f,class:"badge badge-info",style:{"margin-right":"0.5rem"}},_(l),1))),128))])):te("",!0)]))),128)),r.newsList.length===0?(w(),v("div",Db,"   . ")):te("",!0)]))])}const xb=Mt(pb,[["render",Tb]]),Ab={name:"Analyses",components:{DateRangePicker:qs},data(){return{analysesList:[],loading:!0,error:null,startDate:"",endDate:""}},mounted(){this.loadAnalyses()},methods:{handleDateChange({startDate:e,endDate:t}){this.startDate=e,this.endDate=t,this.loadAnalyses()},async loadAnalyses(){try{this.loading=!0;let e=`
          SELECT
            a.*,
            n.title as news_title,
            n.source as news_source,
            n.sentiment as news_sentiment
          FROM llm_analysis a
          LEFT JOIN news_monitoring n ON a.news_id = n.id
        `;const t=[];this.startDate&&this.endDate?(e+=" WHERE DATE(a.timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)):this.startDate?(e+=" WHERE DATE(a.timestamp) >= ?",t.push(this.startDate)):this.endDate&&(e+=" WHERE DATE(a.timestamp) <= ?",t.push(this.endDate)),e+=" ORDER BY a.timestamp DESC LIMIT 100",this.analysesList=await this.fetchAll(e,t),this.loading=!1}catch(e){this.error="  .",this.loading=!1,console.error(e)}},async fetchAll(e,t=[]){try{const{createClient:s}=await Is(async()=>{const{createClient:i}=await Promise.resolve().then(()=>Ps);return{createClient:i}},void 0),r=await s({url:void 0,authToken:void 0}).execute({sql:e,args:t});return r.rows.map(i=>{const a={};return r.columns.forEach((o,l)=>{a[o]=i[l]}),a})}catch(s){throw console.error("DB Query Error:",s),s}},formatDate(e){return e?Wt(new Date(e),"yyyy-MM-dd HH:mm:ss"):"-"},getDecisionClass(e){const t=e.toLowerCase();return t.includes("buy")||t.includes("")?"badge-success":t.includes("sell")||t.includes("")?"badge-danger":"badge-warning"}}},Ob={class:"analyses"},Pb={key:0,class:"loading"},Ib={key:1,class:"error"},qb={key:2},kb={style:{display:"flex","justify-content":"space-between","align-items":"start","margin-bottom":"1rem"}},Mb={style:{flex:"1"}},Nb={style:{display:"flex",gap:"1rem","align-items":"center","margin-bottom":"0.5rem"}},Lb={style:{color:"#00d4ff"}},Bb={key:1,class:"badge badge-info"},Fb={style:{color:"#b0b0b0","font-size":"0.875rem"}},Ub={style:{"margin-left":"1rem"}},Hb={key:0,style:{"margin-left":"1rem"}},Wb={key:0,style:{background:"#252538",padding:"1rem","border-radius":"8px","margin-bottom":"1rem"}},$b={style:{color:"#e0e0e0","line-height":"1.6"}},Vb={key:1,style:{"margin-top":"1rem"}},jb={style:{background:"#252538",padding:"1rem","border-radius":"8px","margin-top":"0.5rem","white-space":"pre-wrap","font-family":"monospace","font-size":"0.875rem"}},Yb={key:0,class:"loading"};function Gb(e,t,s,n,r,i){const a=$t("DateRangePicker");return w(),v("div",Ob,[t[2]||(t[2]=c("div",{class:"page-header"},[c("h1",{class:"page-title"},"LLM "),c("p",{class:"page-subtitle"},"AI     ")],-1)),ue(a,{startDate:r.startDate,endDate:r.endDate,onChange:i.handleDateChange},null,8,["startDate","endDate","onChange"]),r.loading?(w(),v("div",Pb," ...")):r.error?(w(),v("div",Ib,_(r.error),1)):(w(),v("div",qb,[(w(!0),v(ye,null,Fe(r.analysesList,o=>(w(),v("div",{class:"card",key:o.id},[c("div",kb,[c("div",Mb,[c("div",Nb,[c("h3",Lb," #"+_(o.id),1),o.decision?(w(),v("span",{key:0,class:z(["badge",i.getDecisionClass(o.decision)])},_(o.decision),3)):te("",!0),o.confidence?(w(),v("span",Bb," : "+_((o.confidence*100).toFixed(0))+"% ",1)):te("",!0)]),c("div",Fb,[c("span",null," "+_(o.model),1),c("span",Ub," "+_(i.formatDate(o.timestamp)),1),o.news_title?(w(),v("span",Hb,"  "+_(o.news_title),1)):te("",!0)])])]),o.reasoning?(w(),v("div",Wb,[t[0]||(t[0]=c("div",{style:{color:"#00d4ff","font-weight":"600","margin-bottom":"0.5rem"}}," ",-1)),c("div",$b,_(o.reasoning),1)])):te("",!0),o.response?(w(),v("div",Vb,[c("details",null,[t[1]||(t[1]=c("summary",{style:{cursor:"pointer",color:"#00d4ff","user-select":"none"}},"  ",-1)),c("div",jb,_(o.response),1)])])):te("",!0)]))),128)),r.analysesList.length===0?(w(),v("div",Yb,"   . ")):te("",!0)]))])}const Kb=Mt(Ab,[["render",Gb]]),Qb={name:"Trades",components:{DateRangePicker:qs},data(){return{timeline:[],loading:!0,error:null,startDate:"",endDate:""}},mounted(){this.loadTimeline()},methods:{handleDateChange({startDate:e,endDate:t}){this.startDate=e,this.endDate=t,this.loadTimeline()},async loadTimeline(){try{this.loading=!0;const[e,t,s,n]=await Promise.all([this.loadNews(),this.loadAnalyses(),this.loadTrades(),this.loadEvents()]);this.timeline=this.mergeTimeline(e,t,s,n),this.loading=!1}catch(e){this.error="  .",this.loading=!1,console.error(e)}},async loadNews(){let e="SELECT * FROM news_monitoring";const t=[];return this.startDate&&this.endDate&&(e+=" WHERE DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)),e+=" ORDER BY timestamp DESC LIMIT 100",(await this.fetchAll(e,t)).map(n=>({id:`news-${n.id}`,type:"news",timestamp:n.timestamp,data:n}))},async loadAnalyses(){let e="SELECT * FROM llm_analysis";const t=[];return this.startDate&&this.endDate&&(e+=" WHERE DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)),e+=" ORDER BY timestamp DESC LIMIT 100",(await this.fetchAll(e,t)).map(n=>({id:`analysis-${n.id}`,type:"analysis",timestamp:n.timestamp,data:n}))},async loadTrades(){let e="SELECT * FROM trade_orders";const t=[];return this.startDate&&this.endDate&&(e+=" WHERE DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)),e+=" ORDER BY timestamp DESC LIMIT 100",(await this.fetchAll(e,t)).map(n=>({id:`trade-${n.id}`,type:"trade",timestamp:n.timestamp,data:{...n,executed:n.status!=="skipped"}}))},async loadEvents(){let e='SELECT * FROM system_events WHERE event_type IN ("trade_skip", "trade_error", "trade_simulation")';const t=[];return this.startDate&&this.endDate&&(e+=" AND DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)),e+=" ORDER BY timestamp DESC LIMIT 100",(await this.fetchAll(e,t)).map(n=>({id:`event-${n.id}`,type:"event",timestamp:n.timestamp,data:n}))},mergeTimeline(e,t,s,n){return[...e,...t,...s,...n].sort((i,a)=>{const o=new Date(i.timestamp);return new Date(a.timestamp)-o})},async fetchAll(e,t=[]){try{const{createClient:s}=await Is(async()=>{const{createClient:i}=await Promise.resolve().then(()=>Ps);return{createClient:i}},void 0),r=await s({url:void 0,authToken:void 0}).execute({sql:e,args:t});return r.rows.map(i=>{const a={};return r.columns.forEach((o,l)=>{a[o]=i[l]}),a})}catch(s){throw console.error("DB Query Error:",s),s}},getIcon(e){return{news:"",analysis:"",trade:e.data.executed?"":"",event:""}[e.type]||""},getMarkerClass(e){return e.type==="trade"?e.data.executed?"marker-success":"marker-warning":`marker-${e.type}`},getTypeLabel(e){return{news:"",analysis:"AI ",trade:"",event:""}[e]||e},getDecisionClass(e){return e==="buy"?"decision-buy":e==="sell"?"decision-sell":"decision-hold"},formatDate(e){return e?Wt(new Date(e),"yyyy-MM-dd HH:mm:ss"):"-"},formatNumber(e,t=2){return e==null?"0":Number(e).toFixed(t)},formatPercent(e){return e==null?"0%":`${(Number(e)*100).toFixed(1)}%`}}},zb={class:"trades"},Jb={key:0,class:"loading"},Xb={key:1,class:"error"},Zb={key:2,class:"timeline-container"},e_={key:0,class:"loading"},t_={key:1,class:"timeline"},s_={class:"timeline-icon"},n_={class:"timeline-content"},r_={class:"timeline-header"},i_={class:"timeline-time"},o_={key:0,class:"timeline-body"},a_={class:"timeline-title"},l_={class:"timeline-meta"},c_={class:"meta-item"},u_={key:1,class:"timeline-body"},f_={class:"analysis-details"},d_={class:"detail-row"},h_={class:"detail-row"},p_={class:"detail-value"},m_={key:0,class:"detail-row"},y_={class:"detail-value reasoning"},g_={class:"detail-row"},b_={class:"detail-value"},__={key:2,class:"timeline-body"},w_={key:0,class:"trade-details"},v_={class:"detail-row"},E_={class:"detail-row"},C_={class:"detail-value"},R_={class:"detail-row"},S_={class:"detail-value"},D_={class:"detail-row"},T_={class:"detail-value highlight"},x_={key:0,class:"detail-row"},A_={key:1,class:"trade-skip"},O_={class:"skip-reason"},P_={class:"reason-content"},I_={class:"reason-text"},q_={key:0,class:"simulated-info"},k_={class:"detail-row"},M_={class:"detail-value"},N_={class:"detail-row"},L_={class:"detail-value"},B_={class:"detail-row"},F_={class:"detail-value"},U_={key:3,class:"timeline-body"},H_={class:"timeline-title"},W_={class:"event-message"};function $_(e,t,s,n,r,i){const a=$t("DateRangePicker");return w(),v("div",zb,[t[16]||(t[16]=c("div",{class:"page-header"},[c("h1",{class:"page-title"}," "),c("p",{class:"page-subtitle"},"     ")],-1)),ue(a,{startDate:r.startDate,endDate:r.endDate,onChange:i.handleDateChange},null,8,["startDate","endDate","onChange"]),r.loading?(w(),v("div",Jb," ...")):r.error?(w(),v("div",Xb,_(r.error),1)):(w(),v("div",Zb,[r.timeline.length===0?(w(),v("div",e_,"   . ")):(w(),v("div",t_,[(w(!0),v(ye,null,Fe(r.timeline,o=>(w(),v("div",{key:o.id,class:z(["timeline-item","type-"+o.type])},[c("div",{class:z(["timeline-marker",i.getMarkerClass(o)])},[c("span",s_,_(i.getIcon(o)),1)],2),c("div",n_,[c("div",r_,[c("span",i_,_(i.formatDate(o.timestamp)),1),c("span",{class:z(["timeline-type","badge-"+o.type])},_(i.getTypeLabel(o.type)),3)]),o.type==="news"?(w(),v("div",o_,[c("h3",a_," "+_(o.data.title),1),c("div",l_,[c("span",c_,": "+_(o.data.source),1),c("span",{class:z(["meta-item sentiment","sentiment-"+o.data.sentiment])}," : "+_(o.data.sentiment),3)])])):te("",!0),o.type==="analysis"?(w(),v("div",u_,[t[4]||(t[4]=c("h3",{class:"timeline-title"}," AI  ",-1)),c("div",f_,[c("div",d_,[t[0]||(t[0]=c("span",{class:"detail-label"},":",-1)),c("span",{class:z(["detail-value",i.getDecisionClass(o.data.decision)])},_(o.data.decision),3)]),c("div",h_,[t[1]||(t[1]=c("span",{class:"detail-label"},":",-1)),c("span",p_,_(i.formatPercent(o.data.confidence)),1)]),o.data.reasoning?(w(),v("div",m_,[t[2]||(t[2]=c("span",{class:"detail-label"},":",-1)),c("span",y_,_(o.data.reasoning),1)])):te("",!0),c("div",g_,[t[3]||(t[3]=c("span",{class:"detail-label"},":",-1)),c("span",b_,_(o.data.model),1)])])])):te("",!0),o.type==="trade"?(w(),v("div",__,[c("h3",{class:z(["timeline-title",o.data.executed?"executed":"skipped"])},_(o.data.executed?"  ":"  "),3),o.data.executed?(w(),v("div",w_,[c("div",v_,[t[5]||(t[5]=c("span",{class:"detail-label"},":",-1)),c("span",{class:z(["detail-value","side-"+o.data.side])},_(o.data.side==="buy"?" ":" "),3)]),c("div",E_,[t[6]||(t[6]=c("span",{class:"detail-label"},":",-1)),c("span",C_,_(i.formatNumber(o.data.amount,6))+" "+_(o.data.symbol.split("/")[0]),1)]),c("div",R_,[t[7]||(t[7]=c("span",{class:"detail-label"},":",-1)),c("span",S_,"$"+_(i.formatNumber(o.data.price)),1)]),c("div",D_,[t[8]||(t[8]=c("span",{class:"detail-label"},":",-1)),c("span",T_,"$"+_(i.formatNumber(o.data.amount*o.data.price)),1)]),o.data.status?(w(),v("div",x_,[t[9]||(t[9]=c("span",{class:"detail-label"},":",-1)),c("span",{class:z(["detail-value","status-"+o.data.status])},_(o.data.status),3)])):te("",!0)])):(w(),v("div",A_,[c("div",O_,[t[11]||(t[11]=c("span",{class:"reason-icon"},"",-1)),c("div",P_,[t[10]||(t[10]=c("div",{class:"reason-title"}," :",-1)),c("div",I_,_(o.data.reason||" "),1)])]),o.data.simulated_order?(w(),v("div",q_,[t[15]||(t[15]=c("div",{class:"simulated-title"},"  ",-1)),c("div",k_,[t[12]||(t[12]=c("span",{class:"detail-label"},":",-1)),c("span",M_,_(o.data.simulated_order.side),1)]),c("div",N_,[t[13]||(t[13]=c("span",{class:"detail-label"},":",-1)),c("span",L_,_(i.formatNumber(o.data.simulated_order.amount,6)),1)]),c("div",B_,[t[14]||(t[14]=c("span",{class:"detail-label"}," :",-1)),c("span",F_,"$"+_(i.formatNumber(o.data.simulated_order.invest_usdt)),1)])])):te("",!0)]))])):te("",!0),o.type==="event"?(w(),v("div",U_,[c("h3",H_," "+_(o.data.event_type),1),c("div",W_,_(o.data.message),1)])):te("",!0)])],2))),128))]))]))])}const V_=Mt(Qb,[["render",$_],["__scopeId","data-v-ad047b6d"]]),j_={name:"Positions",components:{DateRangePicker:qs},data(){return{openPositions:[],positionHistory:[],loading:!0,error:null,startDate:"",endDate:""}},mounted(){this.loadPositions()},methods:{handleDateChange({startDate:e,endDate:t}){this.startDate=e,this.endDate=t,this.loadPositions()},async loadPositions(){try{this.loading=!0,this.openPositions=await this.fetchAll('SELECT * FROM positions WHERE status = "open" ORDER BY timestamp DESC',[]);let e="SELECT * FROM positions";const t=[];this.startDate&&this.endDate?(e+=" WHERE DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)):this.startDate?(e+=" WHERE DATE(timestamp) >= ?",t.push(this.startDate)):this.endDate&&(e+=" WHERE DATE(timestamp) <= ?",t.push(this.endDate)),e+=" ORDER BY timestamp DESC LIMIT 100",this.positionHistory=await this.fetchAll(e,t),this.loading=!1}catch(e){this.error="  .",this.loading=!1,console.error(e)}},async fetchAll(e,t=[]){try{const{createClient:s}=await Is(async()=>{const{createClient:i}=await Promise.resolve().then(()=>Ps);return{createClient:i}},void 0),r=await s({url:void 0,authToken:void 0}).execute({sql:e,args:t});return r.rows.map(i=>{const a={};return r.columns.forEach((o,l)=>{a[o]=i[l]}),a})}catch(s){throw console.error("DB Query Error:",s),s}},formatDate(e){return e?Wt(new Date(e),"yyyy-MM-dd HH:mm"):"-"},formatNumber(e,t=2){return e==null?"0":Number(e).toFixed(t)}}},Y_={class:"positions"},G_={key:0,class:"loading"},K_={key:1,class:"error"},Q_={key:2},z_={class:"card"},J_={class:"card-header"},X_={key:0,class:"loading"},Z_={key:1,class:"table-container"},ew={class:"card"},tw={key:0,class:"loading"},sw={key:1,class:"table-container"},nw={class:"badge badge-info"};function rw(e,t,s,n,r,i){const a=$t("DateRangePicker");return w(),v("div",Y_,[t[3]||(t[3]=c("div",{class:"page-header"},[c("h1",{class:"page-title"},""),c("p",{class:"page-subtitle"},"   ")],-1)),ue(a,{startDate:r.startDate,endDate:r.endDate,onChange:i.handleDateChange},null,8,["startDate","endDate","onChange"]),r.loading?(w(),v("div",G_," ...")):r.error?(w(),v("div",K_,_(r.error),1)):(w(),v("div",Q_,[c("div",z_,[c("div",J_,"  ("+_(r.openPositions.length)+")",1),r.openPositions.length===0?(w(),v("div",X_,"   . ")):(w(),v("div",Z_,[c("table",null,[t[0]||(t[0]=c("thead",null,[c("tr",null,[c("th",null,"ID"),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(w(!0),v(ye,null,Fe(r.openPositions,o=>(w(),v("tr",{key:o.id},[c("td",null,_(o.id),1),c("td",null,_(i.formatDate(o.timestamp)),1),c("td",null,[c("strong",null,_(o.symbol),1)]),c("td",null,[c("span",{class:z(["badge",o.side==="buy"?"badge-success":"badge-danger"])},_(o.side==="buy"?"":""),3)]),c("td",null,"$"+_(i.formatNumber(o.entry_price)),1),c("td",null,_(i.formatNumber(o.amount,6)),1)]))),128))])])]))]),c("div",ew,[t[2]||(t[2]=c("div",{class:"card-header"}," ",-1)),r.positionHistory.length===0?(w(),v("div",tw,"   . ")):(w(),v("div",sw,[c("table",null,[t[1]||(t[1]=c("thead",null,[c("tr",null,[c("th",null,"ID"),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(w(!0),v(ye,null,Fe(r.positionHistory,o=>(w(),v("tr",{key:o.id},[c("td",null,_(o.id),1),c("td",null,_(i.formatDate(o.timestamp)),1),c("td",null,[c("strong",null,_(o.symbol),1)]),c("td",null,"$"+_(i.formatNumber(o.entry_price)),1),c("td",null,_(o.exit_price?"$"+i.formatNumber(o.exit_price):"-"),1),c("td",null,[c("span",{class:z(o.pnl>=0?"positive":"negative")},_(o.pnl?(o.pnl>=0?"+":"")+"$"+i.formatNumber(o.pnl):"-"),3)]),c("td",null,[c("span",nw,_(o.status),1)])]))),128))])])]))])]))])}const iw=Mt(j_,[["render",rw]]),ow={name:"Portfolio",components:{DateRangePicker:qs},data(){return{latestPortfolio:null,portfolioHistory:[],dailySummary:[],newsData:[],loading:!0,error:null,startDate:"",endDate:"",showModal:!1,selectedDate:"",selectedDateNews:[]}},mounted(){this.loadPortfolio()},methods:{handleDateChange({startDate:e,endDate:t}){this.startDate=e,this.endDate=t,this.loadPortfolio()},async loadPortfolio(){try{this.loading=!0,this.latestPortfolio=await this.fetchOne("SELECT * FROM portfolio_snapshots ORDER BY timestamp DESC LIMIT 1",[]);let e="SELECT * FROM portfolio_snapshots";const t=[];this.startDate&&this.endDate?(e+=" WHERE DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)):this.startDate?(e+=" WHERE DATE(timestamp) >= ?",t.push(this.startDate)):this.endDate&&(e+=" WHERE DATE(timestamp) <= ?",t.push(this.endDate)),e+=" ORDER BY timestamp DESC LIMIT 100",this.portfolioHistory=await this.fetchAll(e,t),await this.loadNewsData(),this.calculateDailySummary(),this.loading=!1}catch(e){this.error="  .",this.loading=!1,console.error(e)}},async fetchAll(e,t=[]){try{const{createClient:s}=await Is(async()=>{const{createClient:i}=await Promise.resolve().then(()=>Ps);return{createClient:i}},void 0),r=await s({url:void 0,authToken:void 0}).execute({sql:e,args:t});return r.rows.map(i=>{const a={};return r.columns.forEach((o,l)=>{a[o]=i[l]}),a})}catch(s){throw console.error("DB Query Error:",s),s}},async fetchOne(e,t=[]){const s=await this.fetchAll(e,t);return s.length>0?s[0]:null},async loadNewsData(){try{let e="SELECT * FROM news_monitoring";const t=[];this.startDate&&this.endDate?(e+=" WHERE DATE(timestamp) BETWEEN ? AND ?",t.push(this.startDate,this.endDate)):this.startDate?(e+=" WHERE DATE(timestamp) >= ?",t.push(this.startDate)):this.endDate&&(e+=" WHERE DATE(timestamp) <= ?",t.push(this.endDate)),e+=" ORDER BY timestamp DESC",this.newsData=await this.fetchAll(e,t)}catch(e){console.warn("   :",e),this.newsData=[]}},calculateDailySummary(){this.dailySummary=[];const e={};this.newsData.forEach(t=>{const s=t.timestamp?t.timestamp.split(" ")[0]:null;s&&(e[s]=(e[s]||0)+1)}),this.loadDailySnapshots(e)},async loadDailySnapshots(e){try{let t="SELECT * FROM daily_snapshots";const s=[];this.startDate&&this.endDate?(t+=" WHERE snapshot_date BETWEEN ? AND ?",s.push(this.startDate,this.endDate)):this.startDate?(t+=" WHERE snapshot_date >= ?",s.push(this.startDate)):this.endDate&&(t+=" WHERE snapshot_date <= ?",s.push(this.endDate)),t+=" ORDER BY snapshot_date DESC LIMIT 100";const n=await this.fetchAll(t,s);this.dailySummary=n.map(r=>({date:r.snapshot_date,closingBalance:parseFloat(r.total_balance||0),dailyChange:parseFloat(r.daily_change||0),dailyChangePercent:parseFloat(r.daily_change_percent||0),avgBTC:parseFloat(r.btc_amount||0),snapshotCount:parseInt(r.total_trades_count||0),newsCount:e[r.snapshot_date]||0}))}catch(t){console.warn("   ,   :",t),this.calculateDailySummaryFallback(e)}},calculateDailySummaryFallback(e){const t={};this.portfolioHistory.forEach(s=>{const n=s.timestamp?s.timestamp.split(" ")[0]:null;n&&(t[n]||(t[n]={snapshots:[],totalBalances:[],btcAmounts:[]}),t[n].snapshots.push(s),t[n].totalBalances.push(parseFloat(s.total_balance||0)),t[n].btcAmounts.push(parseFloat(s.btc_amount||0)))}),this.dailySummary=Object.keys(t).sort((s,n)=>n.localeCompare(s)).map((s,n,r)=>{const i=t[s],a=i.totalBalances,o=i.btcAmounts,l=a[0],f=o.reduce((m,g)=>m+g,0)/o.length;let u=0,d=0;if(n<r.length-1){const m=r[n+1],g=t[m].totalBalances[0];u=l-g,d=u/g*100}return{date:s,closingBalance:l,dailyChange:u,dailyChangePercent:d,avgBTC:f,snapshotCount:i.snapshots.length,newsCount:e[s]||0}})},calculateUSDTBalance(e){if(!e)return 0;const t=parseFloat(e.total_balance||0),s=parseFloat(e.btc_value_usdt||0);return t-s},formatDepositBreakdown(e){if(!e)return"USDT";const t=this.calculateUSDTBalance(e);return`$${this.formatNumber(t,2)} USDT`},calculateUnrealizedPnL(e){if(!e)return 0;const t=parseFloat(e.total_pnl||0);return t===0&&e.btc_amount&&e.btc_value_usdt?parseFloat(e.btc_value_usdt||0)*.02:t},formatUnrealizedPnL(e){const t=this.calculateUnrealizedPnL(e);return Math.abs(t)<.01?"-":`${t>=0?"+":""}$${this.formatNumber(Math.abs(t))}`},getNewsForTime(e){if(!e||!this.newsData||this.newsData.length===0)return[];const t=new Date(e),s=e.split(" ")[0];return this.newsData.filter(n=>{if((n.timestamp?n.timestamp.split(" ")[0]:null)!==s)return!1;try{const i=new Date(n.timestamp);return Math.abs(t-i)/1e3/60<=60}catch{return!1}})},showNewsModalForTime(e){const t=this.getNewsForTime(e);t.length!==0&&(this.selectedDate=e,this.selectedDateNews=t,this.showModal=!0)},formatBTCChange(e,t){if(!e||!t)return"";const s=parseFloat(e.btc_amount||0),n=parseFloat(t.btc_amount||0),r=s-n;return Math.abs(r)<1e-6?"":` (${r>0?"+":""}${r.toFixed(6)})`},getBTCChangeClass(e,t){if(!e||!t)return"";const s=parseFloat(e.btc_amount||0),n=parseFloat(t.btc_amount||0),r=s-n;return r>0?"positive":r<0?"negative":""},formatAssetChange(e,t){if(!e||!t)return"";const s=parseFloat(e.total_balance||0),n=parseFloat(t.total_balance||0),r=s-n;return Math.abs(r)<.01?"":` (${r>0?"+":""}$${this.formatNumber(Math.abs(r))})`},getAssetChangeClass(e,t){if(!e||!t)return"";const s=parseFloat(e.total_balance||0)-parseFloat(t.total_balance||0);return s>0?"positive":s<0?"negative":""},formatCashChange(e,t){if(!e||!t)return"";const s=this.calculateUSDTBalance(e),n=this.calculateUSDTBalance(t),r=s-n;return Math.abs(r)<.01?"":` (${r>0?"+":""}$${this.formatNumber(Math.abs(r))})`},getCashChangeClass(e,t){if(!e||!t)return"";const s=this.calculateUSDTBalance(e),n=this.calculateUSDTBalance(t),r=s-n;return r>0?"positive":r<0?"negative":""},formatBTCValueChange(e,t){if(!e||!t)return"";const s=parseFloat(e.btc_value_usdt||0),n=parseFloat(t.btc_value_usdt||0),r=s-n;return Math.abs(r)<.01?"":` (${r>0?"+":""}$${this.formatNumber(Math.abs(r))})`},getBTCValueChangeClass(e,t){if(!e||!t)return"";const s=parseFloat(e.btc_value_usdt||0)-parseFloat(t.btc_value_usdt||0);return s>0?"positive":s<0?"negative":""},formatDate(e){return e?Wt(new Date(e),"yyyy-MM-dd HH:mm"):"-"},formatDateOnly(e){return e?e.length===10&&e.includes("-")?e:Wt(new Date(e),"yyyy-MM-dd"):"-"},formatTime(e){return e?Wt(new Date(e),"HH:mm:ss"):"-"},formatNumber(e,t=2){return e==null?"0":Number(e).toFixed(t)},showNewsModal(e){this.selectedDate=e,this.selectedDateNews=this.newsData.filter(t=>(t.timestamp?t.timestamp.split(" ")[0]:null)===e),this.showModal=!0},closeModal(){this.showModal=!1,this.selectedDate="",this.selectedDateNews=[]}}},aw={class:"portfolio"},lw={key:0,class:"loading"},cw={key:1,class:"error"},uw={key:2},fw={key:0,class:"grid grid-4"},dw={class:"stat-card highlight"},hw={class:"stat-value"},pw={class:"stat-card"},mw={class:"stat-value"},yw={class:"stat-info"},gw={class:"stat-card"},bw={class:"stat-value"},_w={class:"stat-info"},ww={class:"stat-card"},vw={class:"stat-value"},Ew={class:"card"},Cw={key:0,class:"loading"},Rw={key:1,class:"table-container"},Sw=["onClick"],Dw={key:1},Tw={class:"card"},xw={key:0,class:"loading"},Aw={key:1,class:"table-container"},Ow=["onClick"],Pw={key:1,class:"text-muted"},Iw={class:"modal-header"},qw={class:"modal-body"},kw={key:0,class:"loading"},Mw={key:1,class:"news-list"},Nw={class:"news-time"},Lw={class:"news-title"},Bw={class:"news-source"};function Fw(e,t,s,n,r,i){const a=$t("DateRangePicker");return w(),v("div",aw,[t[12]||(t[12]=c("div",{class:"page-header"},[c("h1",{class:"page-title"},""),c("p",{class:"page-subtitle"},"   ")],-1)),ue(a,{startDate:r.startDate,endDate:r.endDate,onChange:i.handleDateChange},null,8,["startDate","endDate","onChange"]),r.loading?(w(),v("div",lw," ...")):r.error?(w(),v("div",cw,_(r.error),1)):(w(),v("div",uw,[r.latestPortfolio?(w(),v("div",fw,[c("div",dw,[t[3]||(t[3]=c("div",{class:"stat-label"},"  ",-1)),c("div",hw,"$"+_(i.formatNumber(r.latestPortfolio.total_balance)),1),t[4]||(t[4]=c("div",{class:"stat-info"},"  + BTC ",-1))]),c("div",pw,[t[5]||(t[5]=c("div",{class:"stat-label"}," ",-1)),c("div",mw,"$"+_(i.formatNumber(i.calculateUSDTBalance(r.latestPortfolio))),1),c("div",yw,_(i.formatDepositBreakdown(r.latestPortfolio)),1)]),c("div",gw,[t[6]||(t[6]=c("div",{class:"stat-label"}," BTC ",-1)),c("div",bw,_(i.formatNumber(r.latestPortfolio.btc_amount,6))+" BTC",1),c("div",_w," @ $"+_(i.formatNumber(r.latestPortfolio.btc_price))+"/BTC ",1)]),c("div",ww,[t[7]||(t[7]=c("div",{class:"stat-label"}," BTC ",-1)),c("div",vw,"$"+_(i.formatNumber(r.latestPortfolio.btc_value_usdt)),1),c("div",{class:z(["stat-change",r.latestPortfolio.total_pnl>=0?"positive":"negative"])},_(r.latestPortfolio.total_pnl>=0?"":"")+" $"+_(i.formatNumber(Math.abs(r.latestPortfolio.total_pnl||0))),3)])])):te("",!0),c("div",Ew,[t[9]||(t[9]=c("div",{class:"card-header"},"   ",-1)),r.dailySummary.length===0?(w(),v("div",Cw,"   . ")):(w(),v("div",Rw,[c("table",null,[t[8]||(t[8]=c("thead",null,[c("tr",null,[c("th",null,""),c("th",null," ( )"),c("th",null," "),c("th",null," BTC "),c("th",null," "),c("th",null,"")])],-1)),c("tbody",null,[(w(!0),v(ye,null,Fe(r.dailySummary,(o,l)=>(w(),v("tr",{key:o.date},[c("td",null,_(i.formatDateOnly(o.date)),1),c("td",null,"$"+_(i.formatNumber(o.closingBalance)),1),c("td",null,[c("span",{class:z(o.dailyChange>=0?"positive":"negative")},_(o.dailyChange>=0?"+":"")+"$"+_(i.formatNumber(Math.abs(o.dailyChange)))+" ("+_(o.dailyChangePercent>=0?"+":"")+_(i.formatNumber(o.dailyChangePercent))+"%) ",3)]),c("td",null,_(i.formatNumber(o.avgBTC,6))+" BTC",1),c("td",null,_(o.snapshotCount),1),c("td",null,[o.newsCount>0?(w(),v("span",{key:0,class:"news-link",onClick:f=>i.showNewsModal(o.date)},_(o.newsCount)+"  ",9,Sw)):(w(),v("span",Dw,"-"))])]))),128))])])]))]),c("div",Tw,[t[11]||(t[11]=c("div",{class:"card-header"}," ",-1)),r.portfolioHistory.length===0?(w(),v("div",xw,"   . ")):(w(),v("div",Aw,[c("table",null,[t[10]||(t[10]=c("thead",null,[c("tr",null,[c("th",null,""),c("th",null," "),c("th",null,""),c("th",null,"BTC "),c("th",null,"BTC "),c("th",null," "),c("th",null," "),c("th",null,"")])],-1)),c("tbody",null,[(w(!0),v(ye,null,Fe(r.portfolioHistory,(o,l)=>(w(),v("tr",{key:o.id},[c("td",null,_(i.formatDate(o.timestamp)),1),c("td",null,[Le(" $"+_(i.formatNumber(o.total_balance))+" ",1),l<r.portfolioHistory.length-1?(w(),v("span",{key:0,class:z(i.getAssetChangeClass(o,r.portfolioHistory[l+1]))},_(i.formatAssetChange(o,r.portfolioHistory[l+1])),3)):te("",!0)]),c("td",null,[Le(" $"+_(i.formatNumber(i.calculateUSDTBalance(o)))+" ",1),l<r.portfolioHistory.length-1?(w(),v("span",{key:0,class:z(i.getCashChangeClass(o,r.portfolioHistory[l+1]))},_(i.formatCashChange(o,r.portfolioHistory[l+1])),3)):te("",!0)]),c("td",null,[Le(_(i.formatNumber(o.btc_amount,6))+" ",1),l<r.portfolioHistory.length-1?(w(),v("span",{key:0,class:z(i.getBTCChangeClass(o,r.portfolioHistory[l+1]))},_(i.formatBTCChange(o,r.portfolioHistory[l+1])),3)):te("",!0)]),c("td",null,[Le(" $"+_(i.formatNumber(o.btc_value_usdt))+" ",1),l<r.portfolioHistory.length-1?(w(),v("span",{key:0,class:z(i.getBTCValueChangeClass(o,r.portfolioHistory[l+1]))},_(i.formatBTCValueChange(o,r.portfolioHistory[l+1])),3)):te("",!0)]),c("td",null,[c("span",{class:z(i.calculateUnrealizedPnL(o)>=0?"positive":"negative")},_(i.formatUnrealizedPnL(o)),3)]),c("td",null,[c("span",{class:z((o.total_pnl||0)>=0?"positive":"negative")},_(o.total_pnl?(o.total_pnl>=0?"+":"")+"$"+i.formatNumber(Math.abs(o.total_pnl)):"-"),3)]),c("td",null,[i.getNewsForTime(o.timestamp).length>0?(w(),v("span",{key:0,class:"news-link",onClick:f=>i.showNewsModalForTime(o.timestamp)},_(i.getNewsForTime(o.timestamp).length)+" ",9,Ow)):(w(),v("span",Pw,"-"))])]))),128))])])]))])])),r.showModal?(w(),v("div",{key:3,class:"modal-overlay",onClick:t[2]||(t[2]=(...o)=>i.closeModal&&i.closeModal(...o))},[c("div",{class:"modal-content",onClick:t[1]||(t[1]=sl(()=>{},["stop"]))},[c("div",Iw,[c("h3",null," "+_(r.selectedDate)+" ",1),c("button",{class:"modal-close",onClick:t[0]||(t[0]=(...o)=>i.closeModal&&i.closeModal(...o))},"")]),c("div",qw,[r.selectedDateNews.length===0?(w(),v("div",kw,"  . ")):(w(),v("div",Mw,[(w(!0),v(ye,null,Fe(r.selectedDateNews,o=>(w(),v("div",{key:o.id,class:"news-item"},[c("div",Nw,_(i.formatTime(o.timestamp)),1),c("div",Lw,_(o.title||" "),1),c("div",Bw,": "+_(o.source||"  "),1),o.sentiment?(w(),v("div",{key:0,class:z(["news-sentiment","sentiment-"+o.sentiment])}," : "+_(o.sentiment),3)):te("",!0)]))),128))]))])])])):te("",!0)])}const Uw=Mt(ow,[["render",Fw]]),Hw=[{path:"/",component:dg,name:"Dashboard"},{path:"/timeline",component:hb,name:"Timeline"},{path:"/news",component:xb,name:"News"},{path:"/analyses",component:Kb,name:"Analyses"},{path:"/trades",component:V_,name:"Trades"},{path:"/positions",component:iw,name:"Positions"},{path:"/portfolio",component:Uw,name:"Portfolio"}],Ww=jd({history:Cd("/PanoptiCo-Dashboard.github.io/"),routes:Hw}),dc=Nf(oh);dc.use(Ww);dc.mount("#app");
